var hT=Object.defineProperty;var fT=(e,t,n)=>t in e?hT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var C=(e,t,n)=>(fT(e,typeof t!="symbol"?t+"":t,n),n);function dT(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function z1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $1={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),pT=Symbol.for("react.portal"),mT=Symbol.for("react.fragment"),gT=Symbol.for("react.strict_mode"),yT=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),xT=Symbol.for("react.suspense"),ET=Symbol.for("react.memo"),bT=Symbol.for("react.lazy"),ky=Symbol.iterator;function ST(e){return e===null||typeof e!="object"?null:(e=ky&&e[ky]||e["@@iterator"],typeof e=="function"?e:null)}var B1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j1=Object.assign,U1={};function Us(e,t,n){this.props=e,this.context=t,this.refs=U1,this.updater=n||B1}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H1(){}H1.prototype=Us.prototype;function om(e,t,n){this.props=e,this.context=t,this.refs=U1,this.updater=n||B1}var am=om.prototype=new H1;am.constructor=om;j1(am,Us.prototype);am.isPureReactComponent=!0;var Ay=Array.isArray,W1=Object.prototype.hasOwnProperty,lm={current:null},K1={key:!0,ref:!0,__self:!0,__source:!0};function q1(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)W1.call(t,i)&&!K1.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Xa,type:e,key:s,ref:o,props:r,_owner:lm.current}}function TT(e,t){return{$$typeof:Xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function um(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xa}function kT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Iy=/\/+/g;function Qh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kT(""+e.key):t.toString(36)}function wu(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xa:case pT:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+Qh(o,0):i,Ay(r)?(n="",e!=null&&(n=e.replace(Iy,"$&/")+"/"),wu(r,t,n,"",function(u){return u})):r!=null&&(um(r)&&(r=TT(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Iy,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Ay(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+Qh(s,a);o+=wu(s,t,n,l,r)}else if(l=ST(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+Qh(s,a++),o+=wu(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tl(e,t,n){if(e==null)return e;var i=[],r=0;return wu(e,i,"","",function(s){return t.call(n,s,r++)}),i}function AT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},xu={transition:null},IT={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:xu,ReactCurrentOwner:lm};Z.Children={map:Tl,forEach:function(e,t,n){Tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tl(e,function(){t++}),t},toArray:function(e){return Tl(e,function(t){return t})||[]},only:function(e){if(!um(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Us;Z.Fragment=mT;Z.Profiler=yT;Z.PureComponent=om;Z.StrictMode=gT;Z.Suspense=xT;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=j1({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=lm.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)W1.call(t,l)&&!K1.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Xa,type:e.type,key:r,ref:s,props:i,_owner:o}};Z.createContext=function(e){return e={$$typeof:_T,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vT,_context:e},e.Consumer=e};Z.createElement=q1;Z.createFactory=function(e){var t=q1.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:wT,render:e}};Z.isValidElement=um;Z.lazy=function(e){return{$$typeof:bT,_payload:{_status:-1,_result:e},_init:AT}};Z.memo=function(e,t){return{$$typeof:ET,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=xu.transition;xu.transition={};try{e()}finally{xu.transition=t}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(e,t){return Te.current.useCallback(e,t)};Z.useContext=function(e){return Te.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Te.current.useEffect(e,t)};Z.useId=function(){return Te.current.useId()};Z.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Te.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};Z.useRef=function(e){return Te.current.useRef(e)};Z.useState=function(e){return Te.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Te.current.useTransition()};Z.version="18.2.0";$1.exports=Z;var O=$1.exports;const I=z1(O),PT=dT({__proto__:null,default:I},[O]);var id={},Y1={exports:{}},Ue={},G1={exports:{}},Q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,z){var H=M.length;M.push(z);t:for(;0<H;){var ct=H-1>>>1,pt=M[ct];if(0<r(pt,z))M[ct]=z,M[H]=pt,H=ct;else break t}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var z=M[0],H=M.pop();if(H!==z){M[0]=H;t:for(var ct=0,pt=M.length,yn=pt>>>1;ct<yn;){var Oe=2*(ct+1)-1,Nn=M[Oe],Ne=Oe+1,Sl=M[Ne];if(0>r(Nn,H))Ne<pt&&0>r(Sl,Nn)?(M[ct]=Sl,M[Ne]=H,ct=Ne):(M[ct]=Nn,M[Oe]=H,ct=Oe);else if(Ne<pt&&0>r(Sl,H))M[ct]=Sl,M[Ne]=H,ct=Ne;else break t}}return z}function r(M,z){var H=M.sortIndex-z.sortIndex;return H!==0?H:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=M)i(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function w(M){if(y=!1,_(M),!m)if(n(l)!==null)m=!0,ut(x);else{var z=n(u);z!==null&&dt(w,z.startTime-M)}}function x(M,z){m=!1,y&&(y=!1,g(S),S=-1),d=!0;var H=f;try{for(_(z),h=n(l);h!==null&&(!(h.expirationTime>z)||M&&!j());){var ct=h.callback;if(typeof ct=="function"){h.callback=null,f=h.priorityLevel;var pt=ct(h.expirationTime<=z);z=e.unstable_now(),typeof pt=="function"?h.callback=pt:h===n(l)&&i(l),_(z)}else i(l);h=n(l)}if(h!==null)var yn=!0;else{var Oe=n(u);Oe!==null&&dt(w,Oe.startTime-z),yn=!1}return yn}finally{h=null,f=H,d=!1}}var E=!1,b=null,S=-1,P=5,R=-1;function j(){return!(e.unstable_now()-R<P)}function G(){if(b!==null){var M=e.unstable_now();R=M;var z=!0;try{z=b(!0,M)}finally{z?kt():(E=!1,b=null)}}else E=!1}var kt;if(typeof p=="function")kt=function(){p(G)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,st=oe.port2;oe.port1.onmessage=G,kt=function(){st.postMessage(null)}}else kt=function(){v(G,0)};function ut(M){b=M,E||(E=!0,kt())}function dt(M,z){S=v(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,ut(x))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var H=f;f=z;try{return M()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=f;f=M;try{return z()}finally{f=H}},e.unstable_scheduleCallback=function(M,z,H){var ct=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ct+H:ct):H=ct,M){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=H+pt,M={id:c++,callback:z,priorityLevel:M,startTime:H,expirationTime:pt,sortIndex:-1},H>ct?(M.sortIndex=H,t(u,M),n(l)===null&&M===n(u)&&(y?(g(S),S=-1):y=!0,dt(w,H-ct))):(M.sortIndex=pt,t(l,M),m||d||(m=!0,ut(x))),M},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(M){var z=f;return function(){var H=f;f=z;try{return M.apply(this,arguments)}finally{f=H}}}})(Q1);G1.exports=Q1;var CT=G1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1=O,Be=CT;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J1=new Set,na={};function Lr(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(na[e]=t,e=0;e<t.length;e++)J1.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=Object.prototype.hasOwnProperty,RT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},Cy={};function MT(e){return rd.call(Cy,e)?!0:rd.call(Py,e)?!1:RT.test(e)?Cy[e]=!0:(Py[e]=!0,!1)}function DT(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OT(e,t,n,i){if(t===null||typeof t>"u"||DT(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){se[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];se[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){se[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){se[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){se[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){se[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){se[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){se[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){se[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var cm=/[\-:]([a-z])/g;function hm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cm,hm);se[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cm,hm);se[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cm,hm);se[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){se[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});se.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){se[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function fm(e,t,n,i){var r=se.hasOwnProperty(t)?se[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OT(t,n,r,i)&&(n=null),i||r===null?MT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var oi=X1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),Z1=Symbol.for("react.provider"),tw=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ad=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,Xh;function _o(e){if(Xh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xh=t&&t[1]||""}return`
`+Xh+e}var Jh=!1;function Zh(e,t){if(!e||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_o(e):""}function NT(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=Zh(e.type,!1),e;case 11:return e=Zh(e.type.render,!1),e;case 1:return e=Zh(e.type,!0),e;default:return""}}function ld(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Qr:return"Portal";case sd:return"Profiler";case dm:return"StrictMode";case od:return"Suspense";case ad:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tw:return(e.displayName||"Context")+".Consumer";case Z1:return(e._context.displayName||"Context")+".Provider";case pm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mm:return t=e.displayName||null,t!==null?t:ld(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return ld(e(t))}catch{}}return null}function LT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ld(t);case 8:return t===dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VT(e){var t=nw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){e._valueTracker||(e._valueTracker=VT(e))}function iw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=nw(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ud(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function My(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rw(e,t){t=t.checked,t!=null&&fm(e,"checked",t,!1)}function cd(e,t){rw(e,t);var n=Vi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hd(e,t.type,n):t.hasOwnProperty("defaultValue")&&hd(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hd(e,t,n){(t!=="number"||Yu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wo=Array.isArray;function fs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vi(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function fd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(wo(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vi(n)}}function sw(e,t){var n=Vi(t.value),i=Vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ny(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ow(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ow(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Il,aw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FT=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){FT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function lw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function uw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=lw(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var zT=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pd(e,t){if(t){if(zT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function md(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=null;function gm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yd=null,ds=null,ps=null;function Ly(e){if(e=tl(e)){if(typeof yd!="function")throw Error(A(280));var t=e.stateNode;t&&(t=th(t),yd(e.stateNode,e.type,t))}}function cw(e){ds?ps?ps.push(e):ps=[e]:ds=e}function hw(){if(ds){var e=ds,t=ps;if(ps=ds=null,Ly(e),t)for(e=0;e<t.length;e++)Ly(t[e])}}function fw(e,t){return e(t)}function dw(){}var tf=!1;function pw(e,t,n){if(tf)return e(t,n);tf=!0;try{return fw(e,t,n)}finally{tf=!1,(ds!==null||ps!==null)&&(dw(),hw())}}function ra(e,t){var n=e.stateNode;if(n===null)return null;var i=th(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var vd=!1;if(Qn)try{var io={};Object.defineProperty(io,"passive",{get:function(){vd=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{vd=!1}function $T(e,t,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var No=!1,Gu=null,Qu=!1,_d=null,BT={onError:function(e){No=!0,Gu=e}};function jT(e,t,n,i,r,s,o,a,l){No=!1,Gu=null,$T.apply(BT,arguments)}function UT(e,t,n,i,r,s,o,a,l){if(jT.apply(this,arguments),No){if(No){var u=Gu;No=!1,Gu=null}else throw Error(A(198));Qu||(Qu=!0,_d=u)}}function Vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vy(e){if(Vr(e)!==e)throw Error(A(188))}function HT(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Vy(r),e;if(s===i)return Vy(r),t;s=s.sibling}throw Error(A(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function gw(e){return e=HT(e),e!==null?yw(e):null}function yw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yw(e);if(t!==null)return t;e=e.sibling}return null}var vw=Be.unstable_scheduleCallback,Fy=Be.unstable_cancelCallback,WT=Be.unstable_shouldYield,KT=Be.unstable_requestPaint,Lt=Be.unstable_now,qT=Be.unstable_getCurrentPriorityLevel,ym=Be.unstable_ImmediatePriority,_w=Be.unstable_UserBlockingPriority,Xu=Be.unstable_NormalPriority,YT=Be.unstable_LowPriority,ww=Be.unstable_IdlePriority,Qc=null,An=null;function GT(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Qc,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:JT,QT=Math.log,XT=Math.LN2;function JT(e){return e>>>=0,e===0?32:31-(QT(e)/XT|0)|0}var Pl=64,Cl=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=xo(a):(s&=o,s!==0&&(i=xo(s)))}else o=n&~r,o!==0?i=xo(o):s!==0&&(i=xo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-cn(t),r=1<<n,i|=e[n],t&=~r;return i}function ZT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tk(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=ZT(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xw(){var e=Pl;return Pl<<=1,!(Pl&4194240)&&(Pl=64),e}function ef(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ja(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function ek(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-cn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function vm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-cn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var at=0;function Ew(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bw,_m,Sw,Tw,kw,xd=!1,Rl=[],bi=null,Si=null,Ti=null,sa=new Map,oa=new Map,fi=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zy(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(t.pointerId)}}function ro(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=tl(t),t!==null&&_m(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ik(e,t,n,i,r){switch(t){case"focusin":return bi=ro(bi,e,t,n,i,r),!0;case"dragenter":return Si=ro(Si,e,t,n,i,r),!0;case"mouseover":return Ti=ro(Ti,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return sa.set(s,ro(sa.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,oa.set(s,ro(oa.get(s)||null,e,t,n,i,r)),!0}return!1}function Aw(e){var t=ur(e.target);if(t!==null){var n=Vr(t);if(n!==null){if(t=n.tag,t===13){if(t=mw(n),t!==null){e.blockedOn=t,kw(e.priority,function(){Sw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);gd=i,n.target.dispatchEvent(i),gd=null}else return t=tl(n),t!==null&&_m(t),e.blockedOn=n,!1;t.shift()}return!0}function $y(e,t,n){Eu(e)&&n.delete(t)}function rk(){xd=!1,bi!==null&&Eu(bi)&&(bi=null),Si!==null&&Eu(Si)&&(Si=null),Ti!==null&&Eu(Ti)&&(Ti=null),sa.forEach($y),oa.forEach($y)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,xd||(xd=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,rk)))}function aa(e){function t(r){return so(r,e)}if(0<Rl.length){so(Rl[0],e);for(var n=1;n<Rl.length;n++){var i=Rl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(bi!==null&&so(bi,e),Si!==null&&so(Si,e),Ti!==null&&so(Ti,e),sa.forEach(t),oa.forEach(t),n=0;n<fi.length;n++)i=fi[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)Aw(n),n.blockedOn===null&&fi.shift()}var ms=oi.ReactCurrentBatchConfig,Zu=!0;function sk(e,t,n,i){var r=at,s=ms.transition;ms.transition=null;try{at=1,wm(e,t,n,i)}finally{at=r,ms.transition=s}}function ok(e,t,n,i){var r=at,s=ms.transition;ms.transition=null;try{at=4,wm(e,t,n,i)}finally{at=r,ms.transition=s}}function wm(e,t,n,i){if(Zu){var r=Ed(e,t,n,i);if(r===null)ff(e,t,i,tc,n),zy(e,i);else if(ik(r,e,t,n,i))i.stopPropagation();else if(zy(e,i),t&4&&-1<nk.indexOf(e)){for(;r!==null;){var s=tl(r);if(s!==null&&bw(s),s=Ed(e,t,n,i),s===null&&ff(e,t,i,tc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else ff(e,t,i,null,n)}}var tc=null;function Ed(e,t,n,i){if(tc=null,e=gm(i),e=ur(e),e!==null)if(t=Vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function Iw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qT()){case ym:return 1;case _w:return 4;case Xu:case YT:return 16;case ww:return 536870912;default:return 16}default:return 16}}var pi=null,xm=null,bu=null;function Pw(){if(bu)return bu;var e,t=xm,n=t.length,i,r="value"in pi?pi.value:pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return bu=r.slice(e,1<i?1-i:void 0)}function Su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function By(){return!1}function He(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:By,this.isPropagationStopped=By,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Em=He(Hs),Za=Pt({},Hs,{view:0,detail:0}),ak=He(Za),nf,rf,oo,Xc=Pt({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(nf=e.screenX-oo.screenX,rf=e.screenY-oo.screenY):rf=nf=0,oo=e),nf)},movementY:function(e){return"movementY"in e?e.movementY:rf}}),jy=He(Xc),lk=Pt({},Xc,{dataTransfer:0}),uk=He(lk),ck=Pt({},Za,{relatedTarget:0}),sf=He(ck),hk=Pt({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=He(hk),dk=Pt({},Hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pk=He(dk),mk=Pt({},Hs,{data:0}),Uy=He(mk),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vk[e])?!!t[e]:!1}function bm(){return _k}var wk=Pt({},Za,{key:function(e){if(e.key){var t=gk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bm,charCode:function(e){return e.type==="keypress"?Su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xk=He(wk),Ek=Pt({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=He(Ek),bk=Pt({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bm}),Sk=He(bk),Tk=Pt({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kk=He(Tk),Ak=Pt({},Xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ik=He(Ak),Pk=[9,13,27,32],Sm=Qn&&"CompositionEvent"in window,Lo=null;Qn&&"documentMode"in document&&(Lo=document.documentMode);var Ck=Qn&&"TextEvent"in window&&!Lo,Cw=Qn&&(!Sm||Lo&&8<Lo&&11>=Lo),Wy=String.fromCharCode(32),Ky=!1;function Rw(e,t){switch(e){case"keyup":return Pk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Rk(e,t){switch(e){case"compositionend":return Mw(t);case"keypress":return t.which!==32?null:(Ky=!0,Wy);case"textInput":return e=t.data,e===Wy&&Ky?null:e;default:return null}}function Mk(e,t){if(Jr)return e==="compositionend"||!Sm&&Rw(e,t)?(e=Pw(),bu=xm=pi=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cw&&t.locale!=="ko"?null:t.data;default:return null}}var Dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dk[e.type]:t==="textarea"}function Dw(e,t,n,i){cw(i),t=ec(t,"onChange"),0<t.length&&(n=new Em("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vo=null,la=null;function Ok(e){Hw(e,0)}function Jc(e){var t=es(e);if(iw(t))return e}function Nk(e,t){if(e==="change")return t}var Ow=!1;if(Qn){var of;if(Qn){var af="oninput"in document;if(!af){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),af=typeof Yy.oninput=="function"}of=af}else of=!1;Ow=of&&(!document.documentMode||9<document.documentMode)}function Gy(){Vo&&(Vo.detachEvent("onpropertychange",Nw),la=Vo=null)}function Nw(e){if(e.propertyName==="value"&&Jc(la)){var t=[];Dw(t,la,e,gm(e)),pw(Ok,t)}}function Lk(e,t,n){e==="focusin"?(Gy(),Vo=t,la=n,Vo.attachEvent("onpropertychange",Nw)):e==="focusout"&&Gy()}function Vk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jc(la)}function Fk(e,t){if(e==="click")return Jc(t)}function zk(e,t){if(e==="input"||e==="change")return Jc(t)}function $k(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:$k;function ua(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rd.call(t,r)||!pn(e[r],t[r]))return!1}return!0}function Qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xy(e,t){var n=Qy(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Qy(n)}}function Lw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vw(){for(var e=window,t=Yu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yu(e.document)}return t}function Tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bk(e){var t=Vw(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lw(n.ownerDocument.documentElement,n)){if(i!==null&&Tm(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Xy(n,s);var o=Xy(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jk=Qn&&"documentMode"in document&&11>=document.documentMode,Zr=null,bd=null,Fo=null,Sd=!1;function Jy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sd||Zr==null||Zr!==Yu(i)||(i=Zr,"selectionStart"in i&&Tm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fo&&ua(Fo,i)||(Fo=i,i=ec(bd,"onSelect"),0<i.length&&(t=new Em("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zr)))}function Dl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ts={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},lf={},Fw={};Qn&&(Fw=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Zc(e){if(lf[e])return lf[e];if(!ts[e])return e;var t=ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fw)return lf[e]=t[n];return e}var zw=Zc("animationend"),$w=Zc("animationiteration"),Bw=Zc("animationstart"),jw=Zc("transitionend"),Uw=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,t){Uw.set(e,t),Lr(t,[e])}for(var uf=0;uf<Zy.length;uf++){var cf=Zy[uf],Uk=cf.toLowerCase(),Hk=cf[0].toUpperCase()+cf.slice(1);qi(Uk,"on"+Hk)}qi(zw,"onAnimationEnd");qi($w,"onAnimationIteration");qi(Bw,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(jw,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function tv(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,UT(i,t,void 0,e),e.currentTarget=null}function Hw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;tv(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;tv(r,a,u),s=l}}}if(Qu)throw e=_d,Qu=!1,_d=null,e}function mt(e,t){var n=t[Pd];n===void 0&&(n=t[Pd]=new Set);var i=e+"__bubble";n.has(i)||(Ww(t,e,2,!1),n.add(i))}function hf(e,t,n){var i=0;t&&(i|=4),Ww(n,e,i,t)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function ca(e){if(!e[Ol]){e[Ol]=!0,J1.forEach(function(n){n!=="selectionchange"&&(Wk.has(n)||hf(n,!1,e),hf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ol]||(t[Ol]=!0,hf("selectionchange",!1,t))}}function Ww(e,t,n,i){switch(Iw(t)){case 1:var r=sk;break;case 4:r=ok;break;default:r=wm}n=r.bind(null,t,n,e),r=void 0,!vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ff(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}pw(function(){var u=s,c=gm(n),h=[];t:{var f=Uw.get(e);if(f!==void 0){var d=Em,m=e;switch(e){case"keypress":if(Su(n)===0)break t;case"keydown":case"keyup":d=xk;break;case"focusin":m="focus",d=sf;break;case"focusout":m="blur",d=sf;break;case"beforeblur":case"afterblur":d=sf;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=uk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Sk;break;case zw:case $w:case Bw:d=fk;break;case jw:d=kk;break;case"scroll":d=ak;break;case"wheel":d=Ik;break;case"copy":case"cut":case"paste":d=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Hy}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,_;p!==null;){_=p;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=ra(p,g),w!=null&&y.push(ha(p,w,_)))),v)break;p=p.return}0<y.length&&(f=new d(f,m,null,n,c),h.push({event:f,listeners:y}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==gd&&(m=n.relatedTarget||n.fromElement)&&(ur(m)||m[Xn]))break t;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?ur(m):null,m!==null&&(v=Vr(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(y=jy,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Hy,w="onPointerLeave",g="onPointerEnter",p="pointer"),v=d==null?f:es(d),_=m==null?f:es(m),f=new y(w,p+"leave",d,n,c),f.target=v,f.relatedTarget=_,w=null,ur(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=_,y.relatedTarget=v,w=y),v=w,d&&m)e:{for(y=d,g=m,p=0,_=y;_;_=jr(_))p++;for(_=0,w=g;w;w=jr(w))_++;for(;0<p-_;)y=jr(y),p--;for(;0<_-p;)g=jr(g),_--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break e;y=jr(y),g=jr(g)}y=null}else y=null;d!==null&&ev(h,f,d,y,!1),m!==null&&v!==null&&ev(h,v,m,y,!0)}}t:{if(f=u?es(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var x=Nk;else if(qy(f))if(Ow)x=zk;else{x=Vk;var E=Lk}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Fk);if(x&&(x=x(e,u))){Dw(h,x,n,c);break t}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&hd(f,"number",f.value)}switch(E=u?es(u):window,e){case"focusin":(qy(E)||E.contentEditable==="true")&&(Zr=E,bd=u,Fo=null);break;case"focusout":Fo=bd=Zr=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Jy(h,n,c);break;case"selectionchange":if(jk)break;case"keydown":case"keyup":Jy(h,n,c)}var b;if(Sm)t:{switch(e){case"compositionstart":var S="onCompositionStart";break t;case"compositionend":S="onCompositionEnd";break t;case"compositionupdate":S="onCompositionUpdate";break t}S=void 0}else Jr?Rw(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Cw&&n.locale!=="ko"&&(Jr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Jr&&(b=Pw()):(pi=c,xm="value"in pi?pi.value:pi.textContent,Jr=!0)),E=ec(u,S),0<E.length&&(S=new Uy(S,e,null,n,c),h.push({event:S,listeners:E}),b?S.data=b:(b=Mw(n),b!==null&&(S.data=b)))),(b=Ck?Rk(e,n):Mk(e,n))&&(u=ec(u,"onBeforeInput"),0<u.length&&(c=new Uy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}Hw(h,t)})}function ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ec(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ra(e,n),s!=null&&i.unshift(ha(e,s,r)),s=ra(e,t),s!=null&&i.push(ha(e,s,r))),e=e.return}return i}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ev(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=ra(n,s),l!=null&&o.unshift(ha(n,l,a))):r||(l=ra(n,s),l!=null&&o.push(ha(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function nv(e){return(typeof e=="string"?e:""+e).replace(Kk,`
`).replace(qk,"")}function Nl(e,t,n){if(t=nv(t),nv(e)!==t&&n)throw Error(A(425))}function nc(){}var Td=null,kd=null;function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Id=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(e){return iv.resolve(null).then(e).catch(Qk)}:Id;function Qk(e){setTimeout(function(){throw e})}function df(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),aa(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);aa(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),En="__reactFiber$"+Ws,fa="__reactProps$"+Ws,Xn="__reactContainer$"+Ws,Pd="__reactEvents$"+Ws,Xk="__reactListeners$"+Ws,Jk="__reactHandles$"+Ws;function ur(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rv(e);e!==null;){if(n=e[En])return n;e=rv(e)}return t}e=n,n=e.parentNode}return null}function tl(e){return e=e[En]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function th(e){return e[fa]||null}var Cd=[],ns=-1;function Yi(e){return{current:e}}function _t(e){0>ns||(e.current=Cd[ns],Cd[ns]=null,ns--)}function ft(e,t){ns++,Cd[ns]=e.current,e.current=t}var Fi={},_e=Yi(Fi),Re=Yi(!1),br=Fi;function Ts(e,t){var n=e.type.contextTypes;if(!n)return Fi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Me(e){return e=e.childContextTypes,e!=null}function ic(){_t(Re),_t(_e)}function sv(e,t,n){if(_e.current!==Fi)throw Error(A(168));ft(_e,t),ft(Re,n)}function Kw(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(A(108,LT(e)||"Unknown",r));return Pt({},n,i)}function rc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,br=_e.current,ft(_e,e),ft(Re,Re.current),!0}function ov(e,t,n){var i=e.stateNode;if(!i)throw Error(A(169));n?(e=Kw(e,t,br),i.__reactInternalMemoizedMergedChildContext=e,_t(Re),_t(_e),ft(_e,e)):_t(Re),ft(Re,n)}var $n=null,eh=!1,pf=!1;function qw(e){$n===null?$n=[e]:$n.push(e)}function Zk(e){eh=!0,qw(e)}function Gi(){if(!pf&&$n!==null){pf=!0;var e=0,t=at;try{var n=$n;for(at=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}$n=null,eh=!1}catch(r){throw $n!==null&&($n=$n.slice(e+1)),vw(ym,Gi),r}finally{at=t,pf=!1}}return null}var is=[],rs=0,sc=null,oc=0,qe=[],Ye=0,Sr=null,Un=1,Hn="";function rr(e,t){is[rs++]=oc,is[rs++]=sc,sc=e,oc=t}function Yw(e,t,n){qe[Ye++]=Un,qe[Ye++]=Hn,qe[Ye++]=Sr,Sr=e;var i=Un;e=Hn;var r=32-cn(i)-1;i&=~(1<<r),n+=1;var s=32-cn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Un=1<<32-cn(t)+r|n<<r|i,Hn=s+e}else Un=1<<s|n<<r|i,Hn=e}function km(e){e.return!==null&&(rr(e,1),Yw(e,1,0))}function Am(e){for(;e===sc;)sc=is[--rs],is[rs]=null,oc=is[--rs],is[rs]=null;for(;e===Sr;)Sr=qe[--Ye],qe[Ye]=null,Hn=qe[--Ye],qe[Ye]=null,Un=qe[--Ye],qe[Ye]=null}var $e=null,ze=null,St=!1,on=null;function Gw(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function av(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,ze=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sr!==null?{id:Un,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$e=e,ze=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Md(e){if(St){var t=ze;if(t){var n=t;if(!av(e,t)){if(Rd(e))throw Error(A(418));t=ki(n.nextSibling);var i=$e;t&&av(e,t)?Gw(i,n):(e.flags=e.flags&-4097|2,St=!1,$e=e)}}else{if(Rd(e))throw Error(A(418));e.flags=e.flags&-4097|2,St=!1,$e=e}}}function lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Ll(e){if(e!==$e)return!1;if(!St)return lv(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ad(e.type,e.memoizedProps)),t&&(t=ze)){if(Rd(e))throw Qw(),Error(A(418));for(;t;)Gw(e,t),t=ki(t.nextSibling)}if(lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=ki(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=$e?ki(e.stateNode.nextSibling):null;return!0}function Qw(){for(var e=ze;e;)e=ki(e.nextSibling)}function ks(){ze=$e=null,St=!1}function Im(e){on===null?on=[e]:on.push(e)}var tA=oi.ReactCurrentBatchConfig;function nn(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ac=Yi(null),lc=null,ss=null,Pm=null;function Cm(){Pm=ss=lc=null}function Rm(e){var t=ac.current;_t(ac),e._currentValue=t}function Dd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function gs(e,t){lc=e,Pm=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Pm!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(lc===null)throw Error(A(308));ss=e,lc.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var cr=null;function Mm(e){cr===null?cr=[e]:cr.push(e)}function Xw(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Mm(t)):(n.next=r.next,r.next=n),t.interleaved=n,Jn(e,i)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hi=!1;function Dm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,nt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Jn(e,n)}return r=i.interleaved,r===null?(t.next=t,Mm(i)):(t.next=r.next,r.next=t),i.interleaved=t,Jn(e,n)}function Tu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vm(e,n)}}function uv(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uc(e,t,n,i){var r=e.updateQueue;hi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var m=e,y=a;switch(f=t,d=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(d,h,f);break t}h=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(d,h,f):m,f==null)break t;h=Pt({},h,f);break t;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);kr|=o,e.lanes=o,e.memoizedState=h}}function cv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(A(191,r));r.call(i)}}}var Zw=new X1.Component().refs;function Od(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Se(),r=Pi(e),s=Gn(i,r);s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,r),t!==null&&(hn(t,e,r,i),Tu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Se(),r=Pi(e),s=Gn(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,r),t!==null&&(hn(t,e,r,i),Tu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),i=Pi(e),r=Gn(n,i);r.tag=2,t!=null&&(r.callback=t),t=Ai(e,r,i),t!==null&&(hn(t,e,i,n),Tu(t,e,i))}};function hv(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!ua(n,i)||!ua(r,s):!0}function tx(e,t,n){var i=!1,r=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=Ze(s):(r=Me(t)?br:_e.current,i=t.contextTypes,s=(i=i!=null)?Ts(e,r):Fi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function fv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function Nd(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Zw,Dm(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Ze(s):(s=Me(t)?br:_e.current,r.context=Ts(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Od(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&nh.enqueueReplaceState(r,r.state,null),uc(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var i=n.stateNode}if(!i)throw Error(A(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;a===Zw&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Vl(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dv(e){var t=e._init;return t(e._payload)}function ex(e){function t(g,p){if(e){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(g,p){return g=Ci(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,w){return p===null||p.tag!==6?(p=xf(_,g.mode,w),p.return=g,p):(p=r(p,_),p.return=g,p)}function l(g,p,_,w){var x=_.type;return x===Xr?c(g,p,_.props.children,w,_.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ci&&dv(x)===p.type)?(w=r(p,_.props),w.ref=ao(g,p,_),w.return=g,w):(w=Ru(_.type,_.key,_.props,null,g.mode,w),w.ref=ao(g,p,_),w.return=g,w)}function u(g,p,_,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Ef(_,g.mode,w),p.return=g,p):(p=r(p,_.children||[]),p.return=g,p)}function c(g,p,_,w,x){return p===null||p.tag!==7?(p=_r(_,g.mode,w,x),p.return=g,p):(p=r(p,_),p.return=g,p)}function h(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=xf(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case kl:return _=Ru(p.type,p.key,p.props,null,g.mode,_),_.ref=ao(g,null,p),_.return=g,_;case Qr:return p=Ef(p,g.mode,_),p.return=g,p;case ci:var w=p._init;return h(g,w(p._payload),_)}if(wo(p)||no(p))return p=_r(p,g.mode,_,null),p.return=g,p;Vl(g,p)}return null}function f(g,p,_,w){var x=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return _.key===x?l(g,p,_,w):null;case Qr:return _.key===x?u(g,p,_,w):null;case ci:return x=_._init,f(g,p,x(_._payload),w)}if(wo(_)||no(_))return x!==null?null:c(g,p,_,w,null);Vl(g,_)}return null}function d(g,p,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,a(p,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return g=g.get(w.key===null?_:w.key)||null,l(p,g,w,x);case Qr:return g=g.get(w.key===null?_:w.key)||null,u(p,g,w,x);case ci:var E=w._init;return d(g,p,_,E(w._payload),x)}if(wo(w)||no(w))return g=g.get(_)||null,c(p,g,w,x,null);Vl(p,w)}return null}function m(g,p,_,w){for(var x=null,E=null,b=p,S=p=0,P=null;b!==null&&S<_.length;S++){b.index>S?(P=b,b=null):P=b.sibling;var R=f(g,b,_[S],w);if(R===null){b===null&&(b=P);break}e&&b&&R.alternate===null&&t(g,b),p=s(R,p,S),E===null?x=R:E.sibling=R,E=R,b=P}if(S===_.length)return n(g,b),St&&rr(g,S),x;if(b===null){for(;S<_.length;S++)b=h(g,_[S],w),b!==null&&(p=s(b,p,S),E===null?x=b:E.sibling=b,E=b);return St&&rr(g,S),x}for(b=i(g,b);S<_.length;S++)P=d(b,g,S,_[S],w),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?S:P.key),p=s(P,p,S),E===null?x=P:E.sibling=P,E=P);return e&&b.forEach(function(j){return t(g,j)}),St&&rr(g,S),x}function y(g,p,_,w){var x=no(_);if(typeof x!="function")throw Error(A(150));if(_=x.call(_),_==null)throw Error(A(151));for(var E=x=null,b=p,S=p=0,P=null,R=_.next();b!==null&&!R.done;S++,R=_.next()){b.index>S?(P=b,b=null):P=b.sibling;var j=f(g,b,R.value,w);if(j===null){b===null&&(b=P);break}e&&b&&j.alternate===null&&t(g,b),p=s(j,p,S),E===null?x=j:E.sibling=j,E=j,b=P}if(R.done)return n(g,b),St&&rr(g,S),x;if(b===null){for(;!R.done;S++,R=_.next())R=h(g,R.value,w),R!==null&&(p=s(R,p,S),E===null?x=R:E.sibling=R,E=R);return St&&rr(g,S),x}for(b=i(g,b);!R.done;S++,R=_.next())R=d(b,g,S,R.value,w),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?S:R.key),p=s(R,p,S),E===null?x=R:E.sibling=R,E=R);return e&&b.forEach(function(G){return t(g,G)}),St&&rr(g,S),x}function v(g,p,_,w){if(typeof _=="object"&&_!==null&&_.type===Xr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:t:{for(var x=_.key,E=p;E!==null;){if(E.key===x){if(x=_.type,x===Xr){if(E.tag===7){n(g,E.sibling),p=r(E,_.props.children),p.return=g,g=p;break t}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ci&&dv(x)===E.type){n(g,E.sibling),p=r(E,_.props),p.ref=ao(g,E,_),p.return=g,g=p;break t}n(g,E);break}else t(g,E);E=E.sibling}_.type===Xr?(p=_r(_.props.children,g.mode,w,_.key),p.return=g,g=p):(w=Ru(_.type,_.key,_.props,null,g.mode,w),w.ref=ao(g,p,_),w.return=g,g=w)}return o(g);case Qr:t:{for(E=_.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=r(p,_.children||[]),p.return=g,g=p;break t}else{n(g,p);break}else t(g,p);p=p.sibling}p=Ef(_,g.mode,w),p.return=g,g=p}return o(g);case ci:return E=_._init,v(g,p,E(_._payload),w)}if(wo(_))return m(g,p,_,w);if(no(_))return y(g,p,_,w);Vl(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=r(p,_),p.return=g,g=p):(n(g,p),p=xf(_,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return v}var As=ex(!0),nx=ex(!1),el={},In=Yi(el),da=Yi(el),pa=Yi(el);function hr(e){if(e===el)throw Error(A(174));return e}function Om(e,t){switch(ft(pa,t),ft(da,e),ft(In,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dd(t,e)}_t(In),ft(In,t)}function Is(){_t(In),_t(da),_t(pa)}function ix(e){hr(pa.current);var t=hr(In.current),n=dd(t,e.type);t!==n&&(ft(da,e),ft(In,n))}function Nm(e){da.current===e&&(_t(In),_t(da))}var At=Yi(0);function cc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mf=[];function Lm(){for(var e=0;e<mf.length;e++)mf[e]._workInProgressVersionPrimary=null;mf.length=0}var ku=oi.ReactCurrentDispatcher,gf=oi.ReactCurrentBatchConfig,Tr=0,It=null,jt=null,Gt=null,hc=!1,zo=!1,ma=0,eA=0;function ae(){throw Error(A(321))}function Vm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function Fm(e,t,n,i,r,s){if(Tr=s,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=e===null||e.memoizedState===null?sA:oA,e=n(i,r),zo){s=0;do{if(zo=!1,ma=0,25<=s)throw Error(A(301));s+=1,Gt=jt=null,t.updateQueue=null,ku.current=aA,e=n(i,r)}while(zo)}if(ku.current=fc,t=jt!==null&&jt.next!==null,Tr=0,Gt=jt=It=null,hc=!1,t)throw Error(A(300));return e}function zm(){var e=ma!==0;return ma=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?It.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function tn(){if(jt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Gt===null?It.memoizedState:Gt.next;if(t!==null)Gt=t,jt=e;else{if(e===null)throw Error(A(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Gt===null?It.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function ga(e,t){return typeof t=="function"?t(e):t}function yf(e){var t=tn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=jt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Tr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,It.lanes|=c,kr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,pn(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,It.lanes|=s,kr|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vf(e){var t=tn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);pn(s,t.memoizedState)||(Ce=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function rx(){}function sx(e,t){var n=It,i=tn(),r=t(),s=!pn(i.memoizedState,r);if(s&&(i.memoizedState=r,Ce=!0),i=i.queue,$m(lx.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,ya(9,ax.bind(null,n,i,r,t),void 0,null),Xt===null)throw Error(A(349));Tr&30||ox(n,t,r)}return r}function ox(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ax(e,t,n,i){t.value=n,t.getSnapshot=i,ux(t)&&cx(e)}function lx(e,t,n){return n(function(){ux(t)&&cx(e)})}function ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function cx(e){var t=Jn(e,1);t!==null&&hn(t,e,1,-1)}function pv(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=rA.bind(null,It,e),[t.memoizedState,e]}function ya(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function hx(){return tn().memoizedState}function Au(e,t,n,i){var r=wn();It.flags|=e,r.memoizedState=ya(1|t,n,void 0,i===void 0?null:i)}function ih(e,t,n,i){var r=tn();i=i===void 0?null:i;var s=void 0;if(jt!==null){var o=jt.memoizedState;if(s=o.destroy,i!==null&&Vm(i,o.deps)){r.memoizedState=ya(t,n,s,i);return}}It.flags|=e,r.memoizedState=ya(1|t,n,s,i)}function mv(e,t){return Au(8390656,8,e,t)}function $m(e,t){return ih(2048,8,e,t)}function fx(e,t){return ih(4,2,e,t)}function dx(e,t){return ih(4,4,e,t)}function px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mx(e,t,n){return n=n!=null?n.concat([e]):null,ih(4,4,px.bind(null,t,e),n)}function Bm(){}function gx(e,t){var n=tn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Vm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function yx(e,t){var n=tn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Vm(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function vx(e,t,n){return Tr&21?(pn(n,t)||(n=xw(),It.lanes|=n,kr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function nA(e,t){var n=at;at=n!==0&&4>n?n:4,e(!0);var i=gf.transition;gf.transition={};try{e(!1),t()}finally{at=n,gf.transition=i}}function _x(){return tn().memoizedState}function iA(e,t,n){var i=Pi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},wx(e))xx(t,n);else if(n=Xw(e,t,n,i),n!==null){var r=Se();hn(n,e,i,r),Ex(n,t,i)}}function rA(e,t,n){var i=Pi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(wx(e))xx(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,pn(a,o)){var l=t.interleaved;l===null?(r.next=r,Mm(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=Xw(e,t,r,i),n!==null&&(r=Se(),hn(n,e,i,r),Ex(n,t,i))}}function wx(e){var t=e.alternate;return e===It||t!==null&&t===It}function xx(e,t){zo=hc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ex(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vm(e,n)}}var fc={readContext:Ze,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useInsertionEffect:ae,useLayoutEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useMutableSource:ae,useSyncExternalStore:ae,useId:ae,unstable_isNewReconciler:!1},sA={readContext:Ze,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:mv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Au(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){return Au(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=wn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=iA.bind(null,It,e),[i.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:pv,useDebugValue:Bm,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=pv(!1),t=e[0];return e=nA.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=It,r=wn();if(St){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Xt===null)throw Error(A(349));Tr&30||ox(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,mv(lx.bind(null,i,s,e),[e]),i.flags|=2048,ya(9,ax.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=wn(),t=Xt.identifierPrefix;if(St){var n=Hn,i=Un;n=(i&~(1<<32-cn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oA={readContext:Ze,useCallback:gx,useContext:Ze,useEffect:$m,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:yx,useReducer:yf,useRef:hx,useState:function(){return yf(ga)},useDebugValue:Bm,useDeferredValue:function(e){var t=tn();return vx(t,jt.memoizedState,e)},useTransition:function(){var e=yf(ga)[0],t=tn().memoizedState;return[e,t]},useMutableSource:rx,useSyncExternalStore:sx,useId:_x,unstable_isNewReconciler:!1},aA={readContext:Ze,useCallback:gx,useContext:Ze,useEffect:$m,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:yx,useReducer:vf,useRef:hx,useState:function(){return vf(ga)},useDebugValue:Bm,useDeferredValue:function(e){var t=tn();return jt===null?t.memoizedState=e:vx(t,jt.memoizedState,e)},useTransition:function(){var e=vf(ga)[0],t=tn().memoizedState;return[e,t]},useMutableSource:rx,useSyncExternalStore:sx,useId:_x,unstable_isNewReconciler:!1};function Ps(e,t){try{var n="",i=t;do n+=NT(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function _f(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ld(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function bx(e,t,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){pc||(pc=!0,Kd=i),Ld(e,t)},n}function Sx(e,t,n){n=Gn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Ld(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ld(e,t),typeof i!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function gv(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new lA;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=EA.bind(null,e,t,n),t.then(e,e))}function yv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vv(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gn(-1,1),t.tag=2,Ai(n,t,1))),n.lanes|=1),e)}var uA=oi.ReactCurrentOwner,Ce=!1;function Ee(e,t,n,i){t.child=e===null?nx(t,null,n,i):As(t,e.child,n,i)}function _v(e,t,n,i,r){n=n.render;var s=t.ref;return gs(t,r),i=Fm(e,t,n,i,s,r),n=zm(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Zn(e,t,r)):(St&&n&&km(t),t.flags|=1,Ee(e,t,i,r),t.child)}function wv(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Gm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Tx(e,t,s,i,r)):(e=Ru(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ua,n(o,i)&&e.ref===t.ref)return Zn(e,t,r)}return t.flags|=1,e=Ci(s,i),e.ref=t.ref,e.return=t,t.child=e}function Tx(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(ua(s,i)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,Zn(e,t,r)}return Vd(e,t,n,i,r)}function kx(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(as,Ve),Ve|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(as,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ft(as,Ve),Ve|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,ft(as,Ve),Ve|=i;return Ee(e,t,r,n),t.child}function Ax(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vd(e,t,n,i,r){var s=Me(n)?br:_e.current;return s=Ts(t,s),gs(t,r),n=Fm(e,t,n,i,s,r),i=zm(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Zn(e,t,r)):(St&&i&&km(t),t.flags|=1,Ee(e,t,n,r),t.child)}function xv(e,t,n,i,r){if(Me(n)){var s=!0;rc(t)}else s=!1;if(gs(t,r),t.stateNode===null)Iu(e,t),tx(t,n,i),Nd(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=Me(n)?br:_e.current,u=Ts(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&fv(t,o,i,u),hi=!1;var f=t.memoizedState;o.state=f,uc(t,i,o,r),l=t.memoizedState,a!==i||f!==l||Re.current||hi?(typeof c=="function"&&(Od(t,n,c,i),l=t.memoizedState),(a=hi||hv(t,n,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Jw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ze(l):(l=Me(n)?br:_e.current,l=Ts(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fv(t,o,i,l),hi=!1,f=t.memoizedState,o.state=f,uc(t,i,o,r);var m=t.memoizedState;a!==h||f!==m||Re.current||hi?(typeof d=="function"&&(Od(t,n,d,i),m=t.memoizedState),(u=hi||hv(t,n,u,i,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Fd(e,t,n,i,s,r)}function Fd(e,t,n,i,r,s){Ax(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&ov(t,n,!1),Zn(e,t,s);i=t.stateNode,uA.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,s),t.child=As(t,null,a,s)):Ee(e,t,a,s),t.memoizedState=i.state,r&&ov(t,n,!0),t.child}function Ix(e){var t=e.stateNode;t.pendingContext?sv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sv(e,t.context,!1),Om(e,t.containerInfo)}function Ev(e,t,n,i,r){return ks(),Im(r),t.flags|=256,Ee(e,t,n,i),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function $d(e){return{baseLanes:e,cachePool:null,transitions:null}}function Px(e,t,n){var i=t.pendingProps,r=At.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ft(At,r&1),e===null)return Md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oh(o,i,0,null),e=_r(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$d(n),t.memoizedState=zd,e):jm(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return cA(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ci(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=_r(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?$d(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=zd,i}return s=e.child,e=s.sibling,i=Ci(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function jm(e,t){return t=oh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,n,i){return i!==null&&Im(i),As(t,e.child,null,n),e=jm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cA(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=_f(Error(A(422))),Fl(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=oh({mode:"visible",children:i.children},r,0,null),s=_r(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=$d(o),t.memoizedState=zd,s);if(!(t.mode&1))return Fl(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(A(419)),i=_f(s,i,void 0),Fl(e,t,o,i)}if(a=(o&e.childLanes)!==0,Ce||a){if(i=Xt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Jn(e,r),hn(i,e,r,-1))}return Ym(),i=_f(Error(A(421))),Fl(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=bA.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ze=ki(r.nextSibling),$e=t,St=!0,on=null,e!==null&&(qe[Ye++]=Un,qe[Ye++]=Hn,qe[Ye++]=Sr,Un=e.id,Hn=e.overflow,Sr=t),t=jm(t,i.children),t.flags|=4096,t)}function bv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Dd(e.return,t,n)}function wf(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Cx(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ee(e,t,i.children,n),i=At.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bv(e,n,t);else if(e.tag===19)bv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ft(At,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&cc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),wf(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&cc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}wf(t,!0,n,null,s);break;case"together":wf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hA(e,t,n){switch(t.tag){case 3:Ix(t),ks();break;case 5:ix(t);break;case 1:Me(t.type)&&rc(t);break;case 4:Om(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;ft(ac,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ft(At,At.current&1),t.flags|=128,null):n&t.child.childLanes?Px(e,t,n):(ft(At,At.current&1),e=Zn(e,t,n),e!==null?e.sibling:null);ft(At,At.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Cx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ft(At,At.current),i)break;return null;case 22:case 23:return t.lanes=0,kx(e,t,n)}return Zn(e,t,n)}var Rx,Bd,Mx,Dx;Rx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};Mx=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,hr(In.current);var s=null;switch(n){case"input":r=ud(e,r),i=ud(e,i),s=[];break;case"select":r=Pt({},r,{value:void 0}),i=Pt({},i,{value:void 0}),s=[];break;case"textarea":r=fd(e,r),i=fd(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=nc)}pd(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(na.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Dx=function(e,t,n,i){n!==i&&(t.flags|=4)};function lo(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fA(e,t,n){var i=t.pendingProps;switch(Am(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(t),null;case 1:return Me(t.type)&&ic(),le(t),null;case 3:return i=t.stateNode,Is(),_t(Re),_t(_e),Lm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(Gd(on),on=null))),Bd(e,t),le(t),null;case 5:Nm(t);var r=hr(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)Mx(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(A(166));return le(t),null}if(e=hr(In.current),Ll(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[En]=t,i[fa]=s,e=(t.mode&1)!==0,n){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(r=0;r<Eo.length;r++)mt(Eo[r],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":My(i,s),mt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},mt("invalid",i);break;case"textarea":Oy(i,s),mt("invalid",i)}pd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,a,e),r=["children",""+a]):na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mt("scroll",i)}switch(n){case"input":Al(i),Dy(i,s,!0);break;case"textarea":Al(i),Ny(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=nc)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ow(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[En]=t,e[fa]=i,Rx(e,t,!1,!1),t.stateNode=e;t:{switch(o=md(n,i),n){case"dialog":mt("cancel",e),mt("close",e),r=i;break;case"iframe":case"object":case"embed":mt("load",e),r=i;break;case"video":case"audio":for(r=0;r<Eo.length;r++)mt(Eo[r],e);r=i;break;case"source":mt("error",e),r=i;break;case"img":case"image":case"link":mt("error",e),mt("load",e),r=i;break;case"details":mt("toggle",e),r=i;break;case"input":My(e,i),r=ud(e,i),mt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Pt({},i,{value:void 0}),mt("invalid",e);break;case"textarea":Oy(e,i),r=fd(e,i),mt("invalid",e);break;default:r=i}pd(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ia(e,l):typeof l=="number"&&ia(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",e):l!=null&&fm(e,s,l,o))}switch(n){case"input":Al(e),Dy(e,i,!1);break;case"textarea":Al(e),Ny(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Vi(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?fs(e,!!i.multiple,s,!1):i.defaultValue!=null&&fs(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=nc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return le(t),null;case 6:if(e&&t.stateNode!=null)Dx(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(A(166));if(n=hr(pa.current),hr(In.current),Ll(t)){if(i=t.stateNode,n=t.memoizedProps,i[En]=t,(s=i.nodeValue!==n)&&(e=$e,e!==null))switch(e.tag){case 3:Nl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nl(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[En]=t,t.stateNode=i}return le(t),null;case 13:if(_t(At),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&ze!==null&&t.mode&1&&!(t.flags&128))Qw(),ks(),t.flags|=98560,s=!1;else if(s=Ll(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(A(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[En]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;le(t),s=!1}else on!==null&&(Gd(on),on=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Ht===0&&(Ht=3):Ym())),t.updateQueue!==null&&(t.flags|=4),le(t),null);case 4:return Is(),Bd(e,t),e===null&&ca(t.stateNode.containerInfo),le(t),null;case 10:return Rm(t.type._context),le(t),null;case 17:return Me(t.type)&&ic(),le(t),null;case 19:if(_t(At),s=t.memoizedState,s===null)return le(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)lo(s,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cc(e),o!==null){for(t.flags|=128,lo(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ft(At,At.current&1|2),t.child}e=e.sibling}s.tail!==null&&Lt()>Cs&&(t.flags|=128,i=!0,lo(s,!1),t.lanes=4194304)}else{if(!i)if(e=cc(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!St)return le(t),null}else 2*Lt()-s.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,i=!0,lo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Lt(),t.sibling=null,n=At.current,ft(At,i?n&1|2:n&1),t):(le(t),null);case 22:case 23:return qm(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ve&1073741824&&(le(t),t.subtreeFlags&6&&(t.flags|=8192)):le(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function dA(e,t){switch(Am(t),t.tag){case 1:return Me(t.type)&&ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),_t(Re),_t(_e),Lm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nm(t),null;case 13:if(_t(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(At),null;case 4:return Is(),null;case 10:return Rm(t.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var zl=!1,fe=!1,pA=typeof WeakSet=="function"?WeakSet:Set,L=null;function os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Rt(e,t,i)}else n.current=null}function jd(e,t,n){try{n()}catch(i){Rt(e,t,i)}}var Sv=!1;function mA(e,t){if(Td=Zu,e=Vw(),Tm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;e:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break e;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},Zu=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:nn(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Rt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return m=Sv,Sv=!1,m}function $o(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&jd(t,n,s)}r=r.next}while(r!==i)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ox(e){var t=e.alternate;t!==null&&(e.alternate=null,Ox(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[fa],delete t[Pd],delete t[Xk],delete t[Jk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nx(e){return e.tag===5||e.tag===3||e.tag===4}function Tv(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Nx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nc));else if(i!==4&&(e=e.child,e!==null))for(Hd(e,t,n),e=e.sibling;e!==null;)Hd(e,t,n),e=e.sibling}function Wd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Wd(e,t,n),e=e.sibling;e!==null;)Wd(e,t,n),e=e.sibling}var te=null,rn=!1;function li(e,t,n){for(n=n.child;n!==null;)Lx(e,t,n),n=n.sibling}function Lx(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:fe||os(n,t);case 6:var i=te,r=rn;te=null,li(e,t,n),te=i,rn=r,te!==null&&(rn?(e=te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):te.removeChild(n.stateNode));break;case 18:te!==null&&(rn?(e=te,n=n.stateNode,e.nodeType===8?df(e.parentNode,n):e.nodeType===1&&df(e,n),aa(e)):df(te,n.stateNode));break;case 4:i=te,r=rn,te=n.stateNode.containerInfo,rn=!0,li(e,t,n),te=i,rn=r;break;case 0:case 11:case 14:case 15:if(!fe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jd(n,t,o),r=r.next}while(r!==i)}li(e,t,n);break;case 1:if(!fe&&(os(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Rt(n,t,a)}li(e,t,n);break;case 21:li(e,t,n);break;case 22:n.mode&1?(fe=(i=fe)||n.memoizedState!==null,li(e,t,n),fe=i):li(e,t,n);break;default:li(e,t,n)}}function kv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pA),t.forEach(function(i){var r=SA.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:te=a.stateNode,rn=!1;break t;case 3:te=a.stateNode.containerInfo,rn=!0;break t;case 4:te=a.stateNode.containerInfo,rn=!0;break t}a=a.return}if(te===null)throw Error(A(160));Lx(s,o,r),te=null,rn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Rt(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vx(t,e),t=t.sibling}function Vx(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),vn(e),i&4){try{$o(3,e,e.return),rh(3,e)}catch(y){Rt(e,e.return,y)}try{$o(5,e,e.return)}catch(y){Rt(e,e.return,y)}}break;case 1:en(t,e),vn(e),i&512&&n!==null&&os(n,n.return);break;case 5:if(en(t,e),vn(e),i&512&&n!==null&&os(n,n.return),e.flags&32){var r=e.stateNode;try{ia(r,"")}catch(y){Rt(e,e.return,y)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rw(r,s),md(a,o);var u=md(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?uw(r,h):c==="dangerouslySetInnerHTML"?aw(r,h):c==="children"?ia(r,h):fm(r,c,h,u)}switch(a){case"input":cd(r,s);break;case"textarea":sw(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?fs(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?fs(r,!!s.multiple,s.defaultValue,!0):fs(r,!!s.multiple,s.multiple?[]:"",!1))}r[fa]=s}catch(y){Rt(e,e.return,y)}}break;case 6:if(en(t,e),vn(e),i&4){if(e.stateNode===null)throw Error(A(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(y){Rt(e,e.return,y)}}break;case 3:if(en(t,e),vn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(t.containerInfo)}catch(y){Rt(e,e.return,y)}break;case 4:en(t,e),vn(e);break;case 13:en(t,e),vn(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Wm=Lt())),i&4&&kv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(fe=(u=fe)||c,en(t,e),fe=u):en(t,e),vn(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(h=L=c;L!==null;){switch(f=L,d=f.child,f.tag){case 0:case 11:case 14:case 15:$o(4,f,f.return);break;case 1:os(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Rt(i,n,y)}}break;case 5:os(f,f.return);break;case 22:if(f.memoizedState!==null){Iv(h);continue}}d!==null?(d.return=f,L=d):Iv(h)}c=c.sibling}t:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lw("display",o))}catch(y){Rt(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Rt(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:en(t,e),vn(e),i&4&&kv(e);break;case 21:break;default:en(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(Nx(n)){var i=n;break t}n=n.return}throw Error(A(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ia(r,""),i.flags&=-33);var s=Tv(e);Wd(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Tv(e);Hd(e,a,o);break;default:throw Error(A(161))}}catch(l){Rt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gA(e,t,n){L=e,Fx(e)}function Fx(e,t,n){for(var i=(e.mode&1)!==0;L!==null;){var r=L,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||zl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||fe;a=zl;var u=fe;if(zl=o,(fe=l)&&!u)for(L=r;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Pv(r):l!==null?(l.return=o,L=l):Pv(r);for(;s!==null;)L=s,Fx(s),s=s.sibling;L=r,zl=a,fe=u}Av(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,L=s):Av(e)}}function Av(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||rh(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!fe)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cv(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&aa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}fe||t.flags&512&&Ud(t)}catch(f){Rt(t,t.return,f)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Iv(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Pv(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rh(4,t)}catch(l){Rt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Rt(t,r,l)}}var s=t.return;try{Ud(t)}catch(l){Rt(t,s,l)}break;case 5:var o=t.return;try{Ud(t)}catch(l){Rt(t,o,l)}}}catch(l){Rt(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var yA=Math.ceil,dc=oi.ReactCurrentDispatcher,Um=oi.ReactCurrentOwner,Je=oi.ReactCurrentBatchConfig,nt=0,Xt=null,$t=null,ie=0,Ve=0,as=Yi(0),Ht=0,va=null,kr=0,sh=0,Hm=0,Bo=null,Ie=null,Wm=0,Cs=1/0,zn=null,pc=!1,Kd=null,Ii=null,$l=!1,mi=null,mc=0,jo=0,qd=null,Pu=-1,Cu=0;function Se(){return nt&6?Lt():Pu!==-1?Pu:Pu=Lt()}function Pi(e){return e.mode&1?nt&2&&ie!==0?ie&-ie:tA.transition!==null?(Cu===0&&(Cu=xw()),Cu):(e=at,e!==0||(e=window.event,e=e===void 0?16:Iw(e.type)),e):1}function hn(e,t,n,i){if(50<jo)throw jo=0,qd=null,Error(A(185));Ja(e,n,i),(!(nt&2)||e!==Xt)&&(e===Xt&&(!(nt&2)&&(sh|=n),Ht===4&&di(e,ie)),De(e,i),n===1&&nt===0&&!(t.mode&1)&&(Cs=Lt()+500,eh&&Gi()))}function De(e,t){var n=e.callbackNode;tk(e,t);var i=Ju(e,e===Xt?ie:0);if(i===0)n!==null&&Fy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Fy(n),t===1)e.tag===0?Zk(Cv.bind(null,e)):qw(Cv.bind(null,e)),Gk(function(){!(nt&6)&&Gi()}),n=null;else{switch(Ew(i)){case 1:n=ym;break;case 4:n=_w;break;case 16:n=Xu;break;case 536870912:n=ww;break;default:n=Xu}n=Kx(n,zx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zx(e,t){if(Pu=-1,Cu=0,nt&6)throw Error(A(327));var n=e.callbackNode;if(ys()&&e.callbackNode!==n)return null;var i=Ju(e,e===Xt?ie:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=gc(e,i);else{t=i;var r=nt;nt|=2;var s=Bx();(Xt!==e||ie!==t)&&(zn=null,Cs=Lt()+500,vr(e,t));do try{wA();break}catch(a){$x(e,a)}while(1);Cm(),dc.current=s,nt=r,$t!==null?t=0:(Xt=null,ie=0,t=Ht)}if(t!==0){if(t===2&&(r=wd(e),r!==0&&(i=r,t=Yd(e,r))),t===1)throw n=va,vr(e,0),di(e,i),De(e,Lt()),n;if(t===6)di(e,i);else{if(r=e.current.alternate,!(i&30)&&!vA(r)&&(t=gc(e,i),t===2&&(s=wd(e),s!==0&&(i=s,t=Yd(e,s))),t===1))throw n=va,vr(e,0),di(e,i),De(e,Lt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(A(345));case 2:sr(e,Ie,zn);break;case 3:if(di(e,i),(i&130023424)===i&&(t=Wm+500-Lt(),10<t)){if(Ju(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Se(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Id(sr.bind(null,e,Ie,zn),t);break}sr(e,Ie,zn);break;case 4:if(di(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-cn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=Lt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yA(i/1960))-i,10<i){e.timeoutHandle=Id(sr.bind(null,e,Ie,zn),i);break}sr(e,Ie,zn);break;case 5:sr(e,Ie,zn);break;default:throw Error(A(329))}}}return De(e,Lt()),e.callbackNode===n?zx.bind(null,e):null}function Yd(e,t){var n=Bo;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=gc(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Gd(t)),e}function Gd(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function vA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!pn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~Hm,t&=~sh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),i=1<<n;e[n]=-1,t&=~i}}function Cv(e){if(nt&6)throw Error(A(327));ys();var t=Ju(e,0);if(!(t&1))return De(e,Lt()),null;var n=gc(e,t);if(e.tag!==0&&n===2){var i=wd(e);i!==0&&(t=i,n=Yd(e,i))}if(n===1)throw n=va,vr(e,0),di(e,t),De(e,Lt()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Ie,zn),De(e,Lt()),null}function Km(e,t){var n=nt;nt|=1;try{return e(t)}finally{nt=n,nt===0&&(Cs=Lt()+500,eh&&Gi())}}function Ar(e){mi!==null&&mi.tag===0&&!(nt&6)&&ys();var t=nt;nt|=1;var n=Je.transition,i=at;try{if(Je.transition=null,at=1,e)return e()}finally{at=i,Je.transition=n,nt=t,!(nt&6)&&Gi()}}function qm(){Ve=as.current,_t(as)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yk(n)),$t!==null)for(n=$t.return;n!==null;){var i=n;switch(Am(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ic();break;case 3:Is(),_t(Re),_t(_e),Lm();break;case 5:Nm(i);break;case 4:Is();break;case 13:_t(At);break;case 19:_t(At);break;case 10:Rm(i.type._context);break;case 22:case 23:qm()}n=n.return}if(Xt=e,$t=e=Ci(e.current,null),ie=Ve=t,Ht=0,va=null,Hm=sh=kr=0,Ie=Bo=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}cr=null}return e}function $x(e,t){do{var n=$t;try{if(Cm(),ku.current=fc,hc){for(var i=It.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}hc=!1}if(Tr=0,Gt=jt=It=null,zo=!1,ma=0,Um.current=null,n===null||n.return===null){Ht=1,va=t,$t=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=yv(o);if(d!==null){d.flags&=-257,vv(d,o,a,s,t),d.mode&1&&gv(s,u,t),t=d,l=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break t}else{if(!(t&1)){gv(s,u,t),Ym();break t}l=Error(A(426))}}else if(St&&a.mode&1){var v=yv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vv(v,o,a,s,t),Im(Ps(l,a));break t}}s=l=Ps(l,a),Ht!==4&&(Ht=2),Bo===null?Bo=[s]:Bo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=bx(s,l,t);uv(s,g);break t;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ii===null||!Ii.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Sx(s,a,t);uv(s,w);break t}}s=s.return}while(s!==null)}Ux(n)}catch(x){t=x,$t===n&&n!==null&&($t=n=n.return);continue}break}while(1)}function Bx(){var e=dc.current;return dc.current=fc,e===null?fc:e}function Ym(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||!(kr&268435455)&&!(sh&268435455)||di(Xt,ie)}function gc(e,t){var n=nt;nt|=2;var i=Bx();(Xt!==e||ie!==t)&&(zn=null,vr(e,t));do try{_A();break}catch(r){$x(e,r)}while(1);if(Cm(),nt=n,dc.current=i,$t!==null)throw Error(A(261));return Xt=null,ie=0,Ht}function _A(){for(;$t!==null;)jx($t)}function wA(){for(;$t!==null&&!WT();)jx($t)}function jx(e){var t=Wx(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Ux(e):$t=t,Um.current=null}function Ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dA(n,t),n!==null){n.flags&=32767,$t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,$t=null;return}}else if(n=fA(n,t,Ve),n!==null){$t=n;return}if(t=t.sibling,t!==null){$t=t;return}$t=t=e}while(t!==null);Ht===0&&(Ht=5)}function sr(e,t,n){var i=at,r=Je.transition;try{Je.transition=null,at=1,xA(e,t,n,i)}finally{Je.transition=r,at=i}return null}function xA(e,t,n,i){do ys();while(mi!==null);if(nt&6)throw Error(A(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ek(e,s),e===Xt&&($t=Xt=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,Kx(Xu,function(){return ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var o=at;at=1;var a=nt;nt|=4,Um.current=null,mA(e,n),Vx(n,e),Bk(kd),Zu=!!Td,kd=Td=null,e.current=n,gA(n),KT(),nt=a,at=o,Je.transition=s}else e.current=n;if($l&&($l=!1,mi=e,mc=r),s=e.pendingLanes,s===0&&(Ii=null),GT(n.stateNode),De(e,Lt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(pc)throw pc=!1,e=Kd,Kd=null,e;return mc&1&&e.tag!==0&&ys(),s=e.pendingLanes,s&1?e===qd?jo++:(jo=0,qd=e):jo=0,Gi(),null}function ys(){if(mi!==null){var e=Ew(mc),t=Je.transition,n=at;try{if(Je.transition=null,at=16>e?16:e,mi===null)var i=!1;else{if(e=mi,mi=null,mc=0,nt&6)throw Error(A(331));var r=nt;for(nt|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:$o(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var f=c.sibling,d=c.return;if(Ox(c),c===u){L=null;break}if(f!==null){f.return=d,L=f;break}L=d}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else t:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$o(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break t}L=s.return}}var p=e.current;for(L=p;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else t:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(x){Rt(a,a.return,x)}if(a===o){L=null;break t}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break t}L=a.return}}if(nt=r,Gi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Qc,e)}catch{}i=!0}return i}finally{at=n,Je.transition=t}}return!1}function Rv(e,t,n){t=Ps(n,t),t=bx(e,t,1),e=Ai(e,t,1),t=Se(),e!==null&&(Ja(e,1,t),De(e,t))}function Rt(e,t,n){if(e.tag===3)Rv(e,e,n);else for(;t!==null;){if(t.tag===3){Rv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ii===null||!Ii.has(i))){e=Ps(n,e),e=Sx(t,e,1),t=Ai(t,e,1),e=Se(),t!==null&&(Ja(t,1,e),De(t,e));break}}t=t.return}}function EA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,Xt===e&&(ie&n)===n&&(Ht===4||Ht===3&&(ie&130023424)===ie&&500>Lt()-Wm?vr(e,0):Hm|=n),De(e,t)}function Hx(e,t){t===0&&(e.mode&1?(t=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):t=1);var n=Se();e=Jn(e,t),e!==null&&(Ja(e,t,n),De(e,n))}function bA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hx(e,n)}function SA(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(A(314))}i!==null&&i.delete(t),Hx(e,n)}var Wx;Wx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,hA(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,St&&t.flags&1048576&&Yw(t,oc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Iu(e,t),e=t.pendingProps;var r=Ts(t,_e.current);gs(t,n),r=Fm(null,t,i,e,r,n);var s=zm();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(i)?(s=!0,rc(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dm(t),r.updater=nh,t.stateNode=r,r._reactInternals=t,Nd(t,i,e,n),t=Fd(null,t,i,!0,s,n)):(t.tag=0,St&&s&&km(t),Ee(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(Iu(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=kA(i),e=nn(i,e),r){case 0:t=Vd(null,t,i,e,n);break t;case 1:t=xv(null,t,i,e,n);break t;case 11:t=_v(null,t,i,e,n);break t;case 14:t=wv(null,t,i,nn(i.type,e),n);break t}throw Error(A(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:nn(i,r),Vd(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:nn(i,r),xv(e,t,i,r,n);case 3:t:{if(Ix(t),e===null)throw Error(A(387));i=t.pendingProps,s=t.memoizedState,r=s.element,Jw(e,t),uc(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Ps(Error(A(423)),t),t=Ev(e,t,i,n,r);break t}else if(i!==r){r=Ps(Error(A(424)),t),t=Ev(e,t,i,n,r);break t}else for(ze=ki(t.stateNode.containerInfo.firstChild),$e=t,St=!0,on=null,n=nx(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),i===r){t=Zn(e,t,n);break t}Ee(e,t,i,n)}t=t.child}return t;case 5:return ix(t),e===null&&Md(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Ad(i,r)?o=null:s!==null&&Ad(i,s)&&(t.flags|=32),Ax(e,t),Ee(e,t,o,n),t.child;case 6:return e===null&&Md(t),null;case 13:return Px(e,t,n);case 4:return Om(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=As(t,null,i,n):Ee(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:nn(i,r),_v(e,t,i,r,n);case 7:return Ee(e,t,t.pendingProps,n),t.child;case 8:return Ee(e,t,t.pendingProps.children,n),t.child;case 12:return Ee(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,ft(ac,i._currentValue),i._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===r.children&&!Re.current){t=Zn(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Gn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ee(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,gs(t,n),r=Ze(r),i=i(r),t.flags|=1,Ee(e,t,i,n),t.child;case 14:return i=t.type,r=nn(i,t.pendingProps),r=nn(i.type,r),wv(e,t,i,r,n);case 15:return Tx(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:nn(i,r),Iu(e,t),t.tag=1,Me(i)?(e=!0,rc(t)):e=!1,gs(t,n),tx(t,i,r),Nd(t,i,r,n),Fd(null,t,i,!0,e,n);case 19:return Cx(e,t,n);case 22:return kx(e,t,n)}throw Error(A(156,t.tag))};function Kx(e,t){return vw(e,t)}function TA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,i){return new TA(e,t,n,i)}function Gm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kA(e){if(typeof e=="function")return Gm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pm)return 11;if(e===mm)return 14}return 2}function Ci(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Gm(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Xr:return _r(n.children,r,s,t);case dm:o=8,r|=8;break;case sd:return e=Xe(12,n,t,r|2),e.elementType=sd,e.lanes=s,e;case od:return e=Xe(13,n,t,r),e.elementType=od,e.lanes=s,e;case ad:return e=Xe(19,n,t,r),e.elementType=ad,e.lanes=s,e;case ew:return oh(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z1:o=10;break t;case tw:o=9;break t;case pm:o=11;break t;case mm:o=14;break t;case ci:o=16,i=null;break t}throw Error(A(130,e==null?e:typeof e,""))}return t=Xe(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function _r(e,t,n,i){return e=Xe(7,e,i,t),e.lanes=n,e}function oh(e,t,n,i){return e=Xe(22,e,i,t),e.elementType=ew,e.lanes=n,e.stateNode={isHidden:!1},e}function xf(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function Ef(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AA(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qm(e,t,n,i,r,s,o,a,l){return e=new AA(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(s),e}function IA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function qx(e){if(!e)return Fi;e=e._reactInternals;t:{if(Vr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Me(n))return Kw(e,n,t)}return t}function Yx(e,t,n,i,r,s,o,a,l){return e=Qm(n,i,!0,e,r,s,o,a,l),e.context=qx(null),n=e.current,i=Se(),r=Pi(n),s=Gn(i,r),s.callback=t??null,Ai(n,s,r),e.current.lanes=r,Ja(e,r,i),De(e,i),e}function ah(e,t,n,i){var r=t.current,s=Se(),o=Pi(r);return n=qx(n),t.context===null?t.context=n:t.pendingContext=n,t=Gn(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ai(r,t,o),e!==null&&(hn(e,r,o,s),Tu(e,r,o)),o}function yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xm(e,t){Mv(e,t),(e=e.alternate)&&Mv(e,t)}function PA(){return null}var Gx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jm(e){this._internalRoot=e}lh.prototype.render=Jm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));ah(e,t,null,null)};lh.prototype.unmount=Jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){ah(null,e,null,null)}),t[Xn]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&Aw(e)}};function Zm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dv(){}function CA(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=yc(o);s.call(u)}}var o=Yx(t,i,e,0,null,!1,!1,"",Dv);return e._reactRootContainer=o,e[Xn]=o.current,ca(e.nodeType===8?e.parentNode:e),Ar(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=yc(l);a.call(u)}}var l=Qm(e,0,!1,null,null,!1,!1,"",Dv);return e._reactRootContainer=l,e[Xn]=l.current,ca(e.nodeType===8?e.parentNode:e),Ar(function(){ah(t,l,n,i)}),l}function ch(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=yc(o);a.call(l)}}ah(t,o,e,r)}else o=CA(n,t,e,r,i);return yc(o)}bw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xo(t.pendingLanes);n!==0&&(vm(t,n|1),De(t,Lt()),!(nt&6)&&(Cs=Lt()+500,Gi()))}break;case 13:Ar(function(){var i=Jn(e,1);if(i!==null){var r=Se();hn(i,e,1,r)}}),Xm(e,1)}};_m=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=Se();hn(t,e,134217728,n)}Xm(e,134217728)}};Sw=function(e){if(e.tag===13){var t=Pi(e),n=Jn(e,t);if(n!==null){var i=Se();hn(n,e,t,i)}Xm(e,t)}};Tw=function(){return at};kw=function(e,t){var n=at;try{return at=e,t()}finally{at=n}};yd=function(e,t,n){switch(t){case"input":if(cd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=th(i);if(!r)throw Error(A(90));iw(i),cd(i,r)}}}break;case"textarea":sw(e,n);break;case"select":t=n.value,t!=null&&fs(e,!!n.multiple,t,!1)}};fw=Km;dw=Ar;var RA={usingClientEntryPoint:!1,Events:[tl,es,th,cw,hw,Km]},uo={findFiberByHostInstance:ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MA={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gw(e),e===null?null:e.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||PA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Qc=Bl.inject(MA),An=Bl}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RA;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zm(t))throw Error(A(200));return IA(e,t,null,n)};Ue.createRoot=function(e,t){if(!Zm(e))throw Error(A(299));var n=!1,i="",r=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Qm(e,1,!1,null,null,n,!1,i,r),e[Xn]=t.current,ca(e.nodeType===8?e.parentNode:e),new Jm(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=gw(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return Ar(e)};Ue.hydrate=function(e,t,n){if(!uh(t))throw Error(A(200));return ch(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!Zm(e))throw Error(A(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Yx(t,null,e,1,n??null,r,!1,s,o),e[Xn]=t.current,ca(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new lh(t)};Ue.render=function(e,t,n){if(!uh(t))throw Error(A(200));return ch(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!uh(e))throw Error(A(40));return e._reactRootContainer?(Ar(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Ue.unstable_batchedUpdates=Km;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!uh(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ch(e,t,n,!1,i)};Ue.version="18.2.0-next-9e3b772b8-20220608";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(e){console.error(e)}}Qx(),Y1.exports=Ue;var DA=Y1.exports,Ov=DA;id.createRoot=Ov.createRoot,id.hydrateRoot=Ov.hydrateRoot;function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(n),!0).forEach(function(i){qt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function OA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function NA(e,t,n){return t&&Lv(e.prototype,t),n&&Lv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e,t){return VA(e)||zA(e,t)||Xx(e,t)||BA()}function nl(e){return LA(e)||FA(e)||Xx(e)||$A()}function LA(e){if(Array.isArray(e))return Qd(e)}function VA(e){if(Array.isArray(e))return e}function FA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function Xx(e,t){if(e){if(typeof e=="string")return Qd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qd(e,t)}}function Qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $A(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vv=function(){},eg={},Jx={},Zx=null,tE={mark:Vv,measure:Vv};try{typeof window<"u"&&(eg=window),typeof document<"u"&&(Jx=document),typeof MutationObserver<"u"&&(Zx=MutationObserver),typeof performance<"u"&&(tE=performance)}catch{}var jA=eg.navigator||{},Fv=jA.userAgent,zv=Fv===void 0?"":Fv,zi=eg,wt=Jx,$v=Zx,jl=tE;zi.document;var ai=!!wt.documentElement&&!!wt.head&&typeof wt.addEventListener=="function"&&typeof wt.createElement=="function",eE=~zv.indexOf("MSIE")||~zv.indexOf("Trident/"),Ul,Hl,Wl,Kl,ql,ti="___FONT_AWESOME___",Xd=16,nE="fa",iE="svg-inline--fa",Ir="data-fa-i2svg",Jd="data-fa-pseudo-element",UA="data-fa-pseudo-element-pending",ng="data-prefix",ig="data-icon",Bv="fontawesome-i2svg",HA="async",WA=["HTML","HEAD","STYLE","SCRIPT"],rE=function(){try{return!0}catch{return!1}}(),gt="classic",Mt="sharp",rg=[gt,Mt];function il(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[gt]}})}var _a=il((Ul={},qt(Ul,gt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),qt(Ul,Mt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ul)),wa=il((Hl={},qt(Hl,gt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),qt(Hl,Mt,{solid:"fass",regular:"fasr",light:"fasl"}),Hl)),xa=il((Wl={},qt(Wl,gt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),qt(Wl,Mt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Wl)),KA=il((Kl={},qt(Kl,gt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),qt(Kl,Mt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Kl)),qA=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,sE="fa-layers-text",YA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,GA=il((ql={},qt(ql,gt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),qt(ql,Mt,{900:"fass",400:"fasr",300:"fasl"}),ql)),oE=[1,2,3,4,5,6,7,8,9,10],QA=oE.concat([11,12,13,14,15,16,17,18,19,20]),XA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ea=new Set;Object.keys(wa[gt]).map(Ea.add.bind(Ea));Object.keys(wa[Mt]).map(Ea.add.bind(Ea));var JA=[].concat(rg,nl(Ea),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",fr.GROUP,fr.SWAP_OPACITY,fr.PRIMARY,fr.SECONDARY]).concat(oE.map(function(e){return"".concat(e,"x")})).concat(QA.map(function(e){return"w-".concat(e)})),Uo=zi.FontAwesomeConfig||{};function ZA(e){var t=wt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function tI(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(wt&&typeof wt.querySelector=="function"){var eI=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];eI.forEach(function(e){var t=tg(e,2),n=t[0],i=t[1],r=tI(ZA(n));r!=null&&(Uo[i]=r)})}var aE={styleDefault:"solid",familyDefault:"classic",cssPrefix:nE,replacementClass:iE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Uo.familyPrefix&&(Uo.cssPrefix=Uo.familyPrefix);var Rs=N(N({},aE),Uo);Rs.autoReplaceSvg||(Rs.observeMutations=!1);var F={};Object.keys(aE).forEach(function(e){Object.defineProperty(F,e,{enumerable:!0,set:function(n){Rs[e]=n,Ho.forEach(function(i){return i(F)})},get:function(){return Rs[e]}})});Object.defineProperty(F,"familyPrefix",{enumerable:!0,set:function(t){Rs.cssPrefix=t,Ho.forEach(function(n){return n(F)})},get:function(){return Rs.cssPrefix}});zi.FontAwesomeConfig=F;var Ho=[];function nI(e){return Ho.push(e),function(){Ho.splice(Ho.indexOf(e),1)}}var ui=Xd,Sn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function iI(e){if(!(!e||!ai)){var t=wt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=wt.head.childNodes,i=null,r=n.length-1;r>-1;r--){var s=n[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return wt.head.insertBefore(t,i),e}}var rI="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ba(){for(var e=12,t="";e-- >0;)t+=rI[Math.random()*62|0];return t}function Ks(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function sg(e){return e.classList?Ks(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function lE(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sI(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(lE(e[n]),'" ')},"").trim()}function hh(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function og(e){return e.size!==Sn.size||e.x!==Sn.x||e.y!==Sn.y||e.rotate!==Sn.rotate||e.flipX||e.flipY}function oI(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:u}}function aI(e){var t=e.transform,n=e.width,i=n===void 0?Xd:n,r=e.height,s=r===void 0?Xd:r,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&eE?l+="translate(".concat(t.x/ui-i/2,"em, ").concat(t.y/ui-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/ui,"em), calc(-50% + ").concat(t.y/ui,"em)) "):l+="translate(".concat(t.x/ui,"em, ").concat(t.y/ui,"em) "),l+="scale(".concat(t.size/ui*(t.flipX?-1:1),", ").concat(t.size/ui*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var lI=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function uE(){var e=nE,t=iE,n=F.cssPrefix,i=F.replacementClass,r=lI;if(n!==e||i!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return r}var jv=!1;function bf(){F.autoAddCss&&!jv&&(iI(uE()),jv=!0)}var uI={mixout:function(){return{dom:{css:uE,insertCss:bf}}},hooks:function(){return{beforeDOMElementCreation:function(){bf()},beforeI2svg:function(){bf()}}}},ei=zi||{};ei[ti]||(ei[ti]={});ei[ti].styles||(ei[ti].styles={});ei[ti].hooks||(ei[ti].hooks={});ei[ti].shims||(ei[ti].shims=[]);var an=ei[ti],cE=[],cI=function e(){wt.removeEventListener("DOMContentLoaded",e),_c=1,cE.map(function(t){return t()})},_c=!1;ai&&(_c=(wt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(wt.readyState),_c||wt.addEventListener("DOMContentLoaded",cI));function hI(e){ai&&(_c?setTimeout(e,0):cE.push(e))}function rl(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,r=e.children,s=r===void 0?[]:r;return typeof e=="string"?lE(e):"<".concat(t," ").concat(sI(i),">").concat(s.map(rl).join(""),"</").concat(t,">")}function Uv(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var fI=function(t,n){return function(i,r,s,o){return t.call(n,i,r,s,o)}},Sf=function(t,n,i,r){var s=Object.keys(t),o=s.length,a=r!==void 0?fI(n,r):n,l,u,c;for(i===void 0?(l=1,c=t[s[0]]):(l=0,c=i);l<o;l++)u=s[l],c=a(c,t[u],u,t);return c};function dI(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);(s&64512)==56320?t.push(((r&1023)<<10)+(s&1023)+65536):(t.push(r),n--)}else t.push(r)}return t}function Zd(e){var t=dI(e);return t.length===1?t[0].toString(16):null}function pI(e,t){var n=e.length,i=e.charCodeAt(t),r;return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function Hv(e){return Object.keys(e).reduce(function(t,n){var i=e[n],r=!!i.icon;return r?t[i.iconName]=i.icon:t[n]=i,t},{})}function tp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,r=i===void 0?!1:i,s=Hv(t);typeof an.hooks.addPack=="function"&&!r?an.hooks.addPack(e,Hv(t)):an.styles[e]=N(N({},an.styles[e]||{}),s),e==="fas"&&tp("fa",t)}var Yl,Gl,Ql,ls=an.styles,mI=an.shims,gI=(Yl={},qt(Yl,gt,Object.values(xa[gt])),qt(Yl,Mt,Object.values(xa[Mt])),Yl),ag=null,hE={},fE={},dE={},pE={},mE={},yI=(Gl={},qt(Gl,gt,Object.keys(_a[gt])),qt(Gl,Mt,Object.keys(_a[Mt])),Gl);function vI(e){return~JA.indexOf(e)}function _I(e,t){var n=t.split("-"),i=n[0],r=n.slice(1).join("-");return i===e&&r!==""&&!vI(r)?r:null}var gE=function(){var t=function(s){return Sf(ls,function(o,a,l){return o[l]=Sf(a,s,{}),o},{})};hE=t(function(r,s,o){if(s[3]&&(r[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){r[l.toString(16)]=o})}return r}),fE=t(function(r,s,o){if(r[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){r[l]=o})}return r}),mE=t(function(r,s,o){var a=s[2];return r[o]=o,a.forEach(function(l){r[l]=o}),r});var n="far"in ls||F.autoFetchSvg,i=Sf(mI,function(r,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});dE=i.names,pE=i.unicodes,ag=fh(F.styleDefault,{family:F.familyDefault})};nI(function(e){ag=fh(e.styleDefault,{family:F.familyDefault})});gE();function lg(e,t){return(hE[e]||{})[t]}function wI(e,t){return(fE[e]||{})[t]}function dr(e,t){return(mE[e]||{})[t]}function yE(e){return dE[e]||{prefix:null,iconName:null}}function xI(e){var t=pE[e],n=lg("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function $i(){return ag}var ug=function(){return{prefix:null,iconName:null,rest:[]}};function fh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?gt:n,r=_a[i][e],s=wa[i][e]||wa[i][r],o=e in an.styles?e:null;return s||o||null}var Wv=(Ql={},qt(Ql,gt,Object.keys(xa[gt])),qt(Ql,Mt,Object.keys(xa[Mt])),Ql);function dh(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,r=i===void 0?!1:i,s=(t={},qt(t,gt,"".concat(F.cssPrefix,"-").concat(gt)),qt(t,Mt,"".concat(F.cssPrefix,"-").concat(Mt)),t),o=null,a=gt;(e.includes(s[gt])||e.some(function(u){return Wv[gt].includes(u)}))&&(a=gt),(e.includes(s[Mt])||e.some(function(u){return Wv[Mt].includes(u)}))&&(a=Mt);var l=e.reduce(function(u,c){var h=_I(F.cssPrefix,c);if(ls[c]?(c=gI[a].includes(c)?KA[a][c]:c,o=c,u.prefix=c):yI[a].indexOf(c)>-1?(o=c,u.prefix=fh(c,{family:a})):h?u.iconName=h:c!==F.replacementClass&&c!==s[gt]&&c!==s[Mt]&&u.rest.push(c),!r&&u.prefix&&u.iconName){var f=o==="fa"?yE(u.iconName):{},d=dr(u.prefix,u.iconName);f.prefix&&(o=null),u.iconName=f.iconName||d||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!ls.far&&ls.fas&&!F.autoFetchSvg&&(u.prefix="fas")}return u},ug());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Mt&&(ls.fass||F.autoFetchSvg)&&(l.prefix="fass",l.iconName=dr(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=$i()||"fas"),l}var EI=function(){function e(){OA(this,e),this.definitions={}}return NA(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=N(N({},n.definitions[a]||{}),o[a]),tp(a,o[a]);var l=xa[gt][a];l&&tp(l,o[a]),gE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(h){typeof h=="string"&&(n[a][h]=u)}),n[a][l]=u}),n}}]),e}(),Kv=[],us={},vs={},bI=Object.keys(vs);function SI(e,t){var n=t.mixoutsTo;return Kv=e,us={},Object.keys(vs).forEach(function(i){bI.indexOf(i)===-1&&delete vs[i]}),Kv.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(o){typeof r[o]=="function"&&(n[o]=r[o]),vc(r[o])==="object"&&Object.keys(r[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=r[o][a]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(o){us[o]||(us[o]=[]),us[o].push(s[o])})}i.provides&&i.provides(vs)}),n}function ep(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=us[e]||[];return s.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function Pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=us[e]||[];r.forEach(function(s){s.apply(null,n)})}function ni(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return vs[e]?vs[e].apply(null,t):void 0}function np(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||$i();if(t)return t=dr(n,t)||t,Uv(vE.definitions,n,t)||Uv(an.styles,n,t)}var vE=new EI,TI=function(){F.autoReplaceSvg=!1,F.observeMutations=!1,Pr("noAuto")},kI={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ai?(Pr("beforeI2svg",t),ni("pseudoElements2svg",t),ni("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;F.autoReplaceSvg===!1&&(F.autoReplaceSvg=!0),F.observeMutations=!0,hI(function(){II({autoReplaceSvgRoot:n}),Pr("watch",t)})}},AI={icon:function(t){if(t===null)return null;if(vc(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:dr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=fh(t[0]);return{prefix:i,iconName:dr(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(F.cssPrefix,"-"))>-1||t.match(qA))){var r=dh(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||$i(),iconName:dr(r.prefix,r.iconName)||r.iconName}}if(typeof t=="string"){var s=$i();return{prefix:s,iconName:dr(s,t)||t}}}},We={noAuto:TI,config:F,dom:kI,parse:AI,library:vE,findIconDefinition:np,toHtml:rl},II=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?wt:n;(Object.keys(an.styles).length>0||F.autoFetchSvg)&&ai&&F.autoReplaceSvg&&We.dom.i2svg({node:i})};function ph(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return rl(i)})}}),Object.defineProperty(e,"node",{get:function(){if(ai){var i=wt.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function PI(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,s=e.styles,o=e.transform;if(og(o)&&n.found&&!i.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};r.style=hh(N(N({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function CI(e){var t=e.prefix,n=e.iconName,i=e.children,r=e.attributes,s=e.symbol,o=s===!0?"".concat(t,"-").concat(F.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:N(N({},r),{},{id:o}),children:i}]}]}function cg(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,s=e.iconName,o=e.transform,a=e.symbol,l=e.title,u=e.maskId,c=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,m=i.found?i:n,y=m.width,v=m.height,g=r==="fak",p=[F.replacementClass,s?"".concat(F.cssPrefix,"-").concat(s):""].filter(function(P){return h.classes.indexOf(P)===-1}).filter(function(P){return P!==""||!!P}).concat(h.classes).join(" "),_={children:[],attributes:N(N({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:p,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(v)})},w=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(y/v*16*.0625,"em")}:{};d&&(_.attributes[Ir]=""),l&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(c||ba())},children:[l]}),delete _.attributes.title);var x=N(N({},_),{},{prefix:r,iconName:s,main:n,mask:i,maskId:u,transform:o,symbol:a,styles:N(N({},w),h.styles)}),E=i.found&&n.found?ni("generateAbstractMask",x)||{children:[],attributes:{}}:ni("generateAbstractIcon",x)||{children:[],attributes:{}},b=E.children,S=E.attributes;return x.children=b,x.attributes=S,a?CI(x):PI(x)}function qv(e){var t=e.content,n=e.width,i=e.height,r=e.transform,s=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,u=N(N(N({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[Ir]="");var c=N({},o.styles);og(r)&&(c.transform=aI({transform:r,startCentered:!0,width:n,height:i}),c["-webkit-transform"]=c.transform);var h=hh(c);h.length>0&&(u.style=h);var f=[];return f.push({tag:"span",attributes:u,children:[t]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function RI(e){var t=e.content,n=e.title,i=e.extra,r=N(N(N({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),s=hh(i.styles);s.length>0&&(r.style=s);var o=[];return o.push({tag:"span",attributes:r,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Tf=an.styles;function ip(e){var t=e[0],n=e[1],i=e.slice(4),r=tg(i,1),s=r[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(F.cssPrefix,"-").concat(fr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(fr.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(fr.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:n,icon:o}}var MI={found:!1,width:512,height:512};function DI(e,t){!rE&&!F.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function rp(e,t){var n=t;return t==="fa"&&F.styleDefault!==null&&(t=$i()),new Promise(function(i,r){if(ni("missingIconAbstract"),n==="fa"){var s=yE(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&Tf[t]&&Tf[t][e]){var o=Tf[t][e];return i(ip(o))}DI(e,t),i(N(N({},MI),{},{icon:F.showMissingIcons&&e?ni("missingIconAbstract")||{}:{}}))})}var Yv=function(){},sp=F.measurePerformance&&jl&&jl.mark&&jl.measure?jl:{mark:Yv,measure:Yv},bo='FA "6.4.2"',OI=function(t){return sp.mark("".concat(bo," ").concat(t," begins")),function(){return _E(t)}},_E=function(t){sp.mark("".concat(bo," ").concat(t," ends")),sp.measure("".concat(bo," ").concat(t),"".concat(bo," ").concat(t," begins"),"".concat(bo," ").concat(t," ends"))},hg={begin:OI,end:_E},Mu=function(){};function Gv(e){var t=e.getAttribute?e.getAttribute(Ir):null;return typeof t=="string"}function NI(e){var t=e.getAttribute?e.getAttribute(ng):null,n=e.getAttribute?e.getAttribute(ig):null;return t&&n}function LI(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(F.replacementClass)}function VI(){if(F.autoReplaceSvg===!0)return Du.replace;var e=Du[F.autoReplaceSvg];return e||Du.replace}function FI(e){return wt.createElementNS("http://www.w3.org/2000/svg",e)}function zI(e){return wt.createElement(e)}function wE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?FI:zI:n;if(typeof e=="string")return wt.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){r.setAttribute(o,e.attributes[o])});var s=e.children||[];return s.forEach(function(o){r.appendChild(wE(o,{ceFn:i}))}),r}function $I(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Du={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(r){n.parentNode.insertBefore(wE(r),n)}),n.getAttribute(Ir)===null&&F.keepOriginalSource){var i=wt.createComment($I(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~sg(n).indexOf(F.replacementClass))return Du.replace(t);var r=new RegExp("".concat(F.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(a,l){return l===F.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=i.map(function(a){return rl(a)}).join(`
`);n.setAttribute(Ir,""),n.innerHTML=o}};function Qv(e){e()}function xE(e,t){var n=typeof t=="function"?t:Mu;if(e.length===0)n();else{var i=Qv;F.mutateApproach===HA&&(i=zi.requestAnimationFrame||Qv),i(function(){var r=VI(),s=hg.begin("mutate");e.map(r),s(),n()})}}var fg=!1;function EE(){fg=!0}function op(){fg=!1}var wc=null;function Xv(e){if($v&&F.observeMutations){var t=e.treeCallback,n=t===void 0?Mu:t,i=e.nodeCallback,r=i===void 0?Mu:i,s=e.pseudoElementsCallback,o=s===void 0?Mu:s,a=e.observeMutationsRoot,l=a===void 0?wt:a;wc=new $v(function(u){if(!fg){var c=$i();Ks(u).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!Gv(h.addedNodes[0])&&(F.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&F.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&Gv(h.target)&&~XA.indexOf(h.attributeName))if(h.attributeName==="class"&&NI(h.target)){var f=dh(sg(h.target)),d=f.prefix,m=f.iconName;h.target.setAttribute(ng,d||c),m&&h.target.setAttribute(ig,m)}else LI(h.target)&&r(h.target)})}}),ai&&wc.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function BI(){wc&&wc.disconnect()}function jI(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,r){var s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function UI(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",r=dh(sg(e));return r.prefix||(r.prefix=$i()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=wI(r.prefix,e.innerText)||lg(r.prefix,Zd(e.innerText))),!r.iconName&&F.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function HI(e){var t=Ks(e.attributes).reduce(function(r,s){return r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return F.autoA11y&&(n?t["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(i||ba()):(t["aria-hidden"]="true",t.focusable="false")),t}function WI(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Sn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Jv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=UI(e),i=n.iconName,r=n.prefix,s=n.rest,o=HI(e),a=ep("parseNodeAttributes",{},e),l=t.styleParser?jI(e):[];return N({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Sn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var KI=an.styles;function bE(e){var t=F.autoReplaceSvg==="nest"?Jv(e,{styleParser:!1}):Jv(e);return~t.extra.classes.indexOf(sE)?ni("generateLayersText",e,t):ni("generateSvgReplacementMutation",e,t)}var Bi=new Set;rg.map(function(e){Bi.add("fa-".concat(e))});Object.keys(_a[gt]).map(Bi.add.bind(Bi));Object.keys(_a[Mt]).map(Bi.add.bind(Bi));Bi=nl(Bi);function Zv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ai)return Promise.resolve();var n=wt.documentElement.classList,i=function(h){return n.add("".concat(Bv,"-").concat(h))},r=function(h){return n.remove("".concat(Bv,"-").concat(h))},s=F.autoFetchSvg?Bi:rg.map(function(c){return"fa-".concat(c)}).concat(Object.keys(KI));s.includes("fa")||s.push("fa");var o=[".".concat(sE,":not([").concat(Ir,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(Ir,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Ks(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),r("complete");else return Promise.resolve();var l=hg.begin("onTree"),u=a.reduce(function(c,h){try{var f=bE(h);f&&c.push(f)}catch(d){rE||d.name==="MissingIcon"&&console.error(d)}return c},[]);return new Promise(function(c,h){Promise.all(u).then(function(f){xE(f,function(){i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),l(),c()})}).catch(function(f){l(),h(f)})})}function qI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;bE(e).then(function(n){n&&xE([n],t)})}function YI(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:np(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:np(r||{})),e(i,N(N({},n),{},{mask:r}))}}var GI=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,r=i===void 0?Sn:i,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,h=n.title,f=h===void 0?null:h,d=n.titleId,m=d===void 0?null:d,y=n.classes,v=y===void 0?[]:y,g=n.attributes,p=g===void 0?{}:g,_=n.styles,w=_===void 0?{}:_;if(t){var x=t.prefix,E=t.iconName,b=t.icon;return ph(N({type:"icon"},t),function(){return Pr("beforeDOMElementCreation",{iconDefinition:t,params:n}),F.autoA11y&&(f?p["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(m||ba()):(p["aria-hidden"]="true",p.focusable="false")),cg({icons:{main:ip(b),mask:l?ip(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:E,transform:N(N({},Sn),r),symbol:o,title:f,maskId:c,titleId:m,extra:{attributes:p,styles:w,classes:v}})})}},QI={mixout:function(){return{icon:YI(GI)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Zv,n.nodeCallback=qI,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,r=i===void 0?wt:i,s=n.callback,o=s===void 0?function(){}:s;return Zv(r,o)},t.generateSvgReplacementMutation=function(n,i){var r=i.iconName,s=i.title,o=i.titleId,a=i.prefix,l=i.transform,u=i.symbol,c=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,m){Promise.all([rp(r,a),c.iconName?rp(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(y){var v=tg(y,2),g=v[0],p=v[1];d([n,cg({icons:{main:g,mask:p},prefix:a,iconName:r,transform:l,symbol:u,maskId:h,title:s,titleId:o,extra:f,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(n){var i=n.children,r=n.attributes,s=n.main,o=n.transform,a=n.styles,l=hh(a);l.length>0&&(r.style=l);var u;return og(o)&&(u=ni("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),i.push(u||s.icon),{children:i,attributes:r}}}},XI={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,s=r===void 0?[]:r;return ph({type:"layer"},function(){Pr("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(F.cssPrefix,"-layers")].concat(nl(s)).join(" ")},children:o}]})}}}},JI={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.title,s=r===void 0?null:r,o=i.classes,a=o===void 0?[]:o,l=i.attributes,u=l===void 0?{}:l,c=i.styles,h=c===void 0?{}:c;return ph({type:"counter",content:n},function(){return Pr("beforeDOMElementCreation",{content:n,params:i}),RI({content:n.toString(),title:s,extra:{attributes:u,styles:h,classes:["".concat(F.cssPrefix,"-layers-counter")].concat(nl(a))}})})}}}},ZI={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,s=r===void 0?Sn:r,o=i.title,a=o===void 0?null:o,l=i.classes,u=l===void 0?[]:l,c=i.attributes,h=c===void 0?{}:c,f=i.styles,d=f===void 0?{}:f;return ph({type:"text",content:n},function(){return Pr("beforeDOMElementCreation",{content:n,params:i}),qv({content:n,transform:N(N({},Sn),s),title:a,extra:{attributes:h,styles:d,classes:["".concat(F.cssPrefix,"-layers-text")].concat(nl(u))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var r=i.title,s=i.transform,o=i.extra,a=null,l=null;if(eE){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();a=c.width/u,l=c.height/u}return F.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,qv({content:n.innerHTML,width:a,height:l,transform:s,title:r,extra:o,watchable:!0})])}}},tP=new RegExp('"',"ug"),t0=[1105920,1112319];function eP(e){var t=e.replace(tP,""),n=pI(t,0),i=n>=t0[0]&&n<=t0[1],r=t.length===2?t[0]===t[1]:!1;return{value:Zd(r?t[0]:t),isSecondary:i||r}}function e0(e,t){var n="".concat(UA).concat(t.replace(":","-"));return new Promise(function(i,r){if(e.getAttribute(n)!==null)return i();var s=Ks(e.children),o=s.filter(function(b){return b.getAttribute(Jd)===t})[0],a=zi.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(YA),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&c!=="none"&&c!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Mt:gt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?wa[f][l[2].toLowerCase()]:GA[f][u],m=eP(h),y=m.value,v=m.isSecondary,g=l[0].startsWith("FontAwesome"),p=lg(d,y),_=p;if(g){var w=xI(y);w.iconName&&w.prefix&&(p=w.iconName,d=w.prefix)}if(p&&!v&&(!o||o.getAttribute(ng)!==d||o.getAttribute(ig)!==_)){e.setAttribute(n,_),o&&e.removeChild(o);var x=WI(),E=x.extra;E.attributes[Jd]=t,rp(p,d).then(function(b){var S=cg(N(N({},x),{},{icons:{main:b,mask:ug()},prefix:d,iconName:_,extra:E,watchable:!0})),P=wt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(P,e.firstChild):e.appendChild(P),P.outerHTML=S.map(function(R){return rl(R)}).join(`
`),e.removeAttribute(n),i()}).catch(r)}else i()}else i()})}function nP(e){return Promise.all([e0(e,"::before"),e0(e,"::after")])}function iP(e){return e.parentNode!==document.head&&!~WA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Jd)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function n0(e){if(ai)return new Promise(function(t,n){var i=Ks(e.querySelectorAll("*")).filter(iP).map(nP),r=hg.begin("searchPseudoElements");EE(),Promise.all(i).then(function(){r(),op(),t()}).catch(function(){r(),op(),n()})})}var rP={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=n0,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,r=i===void 0?wt:i;F.searchPseudoElements&&n0(r)}}},i0=!1,sP={mixout:function(){return{dom:{unwatch:function(){EE(),i0=!0}}}},hooks:function(){return{bootstrap:function(){Xv(ep("mutationObserverCallbacks",{}))},noAuto:function(){BI()},watch:function(n){var i=n.observeMutationsRoot;i0?op():Xv(ep("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},r0=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},oP={mixout:function(){return{parse:{transform:function(n){return r0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-transform");return r&&(n.transform=r0(r)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,r=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(u," ").concat(c)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:N({},d.outer),children:[{tag:"g",attributes:N({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:N(N({},i.icon.attributes),d.path)}]}]}}}},kf={x:0,y:0,width:"100%",height:"100%"};function s0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function aP(e){return e.tag==="g"?e.children:[e]}var lP={hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-mask"),s=r?dh(r.split(" ").map(function(o){return o.trim()})):ug();return s.prefix||(s.prefix=$i()),n.mask=s,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,r=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,h=o.width,f=o.icon,d=oI({transform:l,containerWidth:h,iconWidth:u}),m={tag:"rect",attributes:N(N({},kf),{},{fill:"white"})},y=c.children?{children:c.children.map(s0)}:{},v={tag:"g",attributes:N({},d.inner),children:[s0(N({tag:c.tag,attributes:N(N({},c.attributes),d.path)},y))]},g={tag:"g",attributes:N({},d.outer),children:[v]},p="mask-".concat(a||ba()),_="clip-".concat(a||ba()),w={tag:"mask",attributes:N(N({},kf),{},{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,g]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:aP(f)},w]};return i.push(x,{tag:"rect",attributes:N({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(p,")")},kf)}),{children:i,attributes:r}}}},uP={provides:function(t){var n=!1;zi.matchMedia&&(n=zi.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:N(N({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=N(N({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:N(N({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:N(N({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:N(N({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:N(N({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:N(N({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:N(N({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:N(N({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},cP={hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-symbol"),s=r===null?!1:r===""?!0:r;return n.symbol=s,n}}}},hP=[uI,QI,XI,JI,ZI,rP,sP,oP,lP,uP,cP];SI(hP,{mixoutsTo:We});We.noAuto;We.config;We.library;We.dom;var ap=We.parse;We.findIconDefinition;We.toHtml;var fP=We.icon;We.layer;We.text;We.counter;var SE={exports:{}},dP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pP=dP,mP=pP;function TE(){}function kE(){}kE.resetWarningCache=TE;var gP=function(){function e(i,r,s,o,a,l){if(l!==mP){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kE,resetWarningCache:TE};return n.PropTypes=n,n};SE.exports=gP();var yP=SE.exports;const Q=z1(yP);function o0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o0(Object(n),!0).forEach(function(i){cs(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function _P(e,t){if(e==null)return{};var n=vP(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function lp(e){return wP(e)||xP(e)||EP(e)||bP()}function wP(e){if(Array.isArray(e))return up(e)}function xP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EP(e,t){if(e){if(typeof e=="string")return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return up(e,t)}}function up(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e){var t,n=e.beat,i=e.fade,r=e.beatFade,s=e.bounce,o=e.shake,a=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,h=e.pulse,f=e.fixedWidth,d=e.inverse,m=e.border,y=e.listItem,v=e.flip,g=e.size,p=e.rotation,_=e.pull,w=(t={"fa-beat":n,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":f,"fa-inverse":d,"fa-border":m,"fa-li":y,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},cs(t,"fa-".concat(g),typeof g<"u"&&g!==null),cs(t,"fa-rotate-".concat(p),typeof p<"u"&&p!==null&&p!==0),cs(t,"fa-pull-".concat(_),typeof _<"u"&&_!==null),cs(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map(function(x){return w[x]?x:null}).filter(function(x){return x})}function TP(e){return e=e-0,e===e}function AE(e){return TP(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var kP=["style"];function AP(e){return e.charAt(0).toUpperCase()+e.slice(1)}function IP(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),r=AE(n.slice(0,i)),s=n.slice(i+1).trim();return r.startsWith("webkit")?t[AP(r)]=s:t[r]=s,t},{})}function IE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var i=(t.children||[]).map(function(l){return IE(e,l)}),r=Object.keys(t.attributes||{}).reduce(function(l,u){var c=t.attributes[u];switch(u){case"class":l.attrs.className=c,delete t.attributes.class;break;case"style":l.attrs.style=IP(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[AE(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=_P(n,kP);return r.attrs.style=gi(gi({},r.attrs.style),o),e.apply(void 0,[t.tag,gi(gi({},r.attrs),a)].concat(lp(i)))}var PE=!1;try{PE=!0}catch{}function PP(){if(!PE&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function a0(e){if(e&&xc(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(ap.icon)return ap.icon(e);if(e===null)return null;if(e&&xc(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Af(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?cs({},e,t):{}}var sn=I.forwardRef(function(e,t){var n=e.icon,i=e.mask,r=e.symbol,s=e.className,o=e.title,a=e.titleId,l=e.maskId,u=a0(n),c=Af("classes",[].concat(lp(SP(e)),lp(s.split(" ")))),h=Af("transform",typeof e.transform=="string"?ap.transform(e.transform):e.transform),f=Af("mask",a0(i)),d=fP(u,gi(gi(gi(gi({},c),h),f),{},{symbol:r,title:o,titleId:a,maskId:l}));if(!d)return PP("Could not find icon",u),null;var m=d.abstract,y={ref:t};return Object.keys(e).forEach(function(v){sn.defaultProps.hasOwnProperty(v)||(y[v]=e[v])}),CP(m[0],y)});sn.displayName="FontAwesomeIcon";sn.propTypes={beat:Q.bool,border:Q.bool,beatFade:Q.bool,bounce:Q.bool,className:Q.string,fade:Q.bool,flash:Q.bool,mask:Q.oneOfType([Q.object,Q.array,Q.string]),maskId:Q.string,fixedWidth:Q.bool,inverse:Q.bool,flip:Q.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Q.oneOfType([Q.object,Q.array,Q.string]),listItem:Q.bool,pull:Q.oneOf(["right","left"]),pulse:Q.bool,rotation:Q.oneOf([0,90,180,270]),shake:Q.bool,size:Q.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Q.bool,spinPulse:Q.bool,spinReverse:Q.bool,symbol:Q.oneOfType([Q.bool,Q.string]),title:Q.string,titleId:Q.string,transform:Q.oneOfType([Q.string,Q.object]),swapOpacity:Q.bool};sn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var CP=IE.bind(null,I.createElement),RP={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},MP={prefix:"fas",iconName:"bath",icon:[512,512,[128705,"bathtub"],"f2cd","M96 77.3c0-7.3 5.9-13.3 13.3-13.3c3.5 0 6.9 1.4 9.4 3.9l14.9 14.9C130 91.8 128 101.7 128 112c0 19.9 7.2 38 19.2 52c-5.3 9.2-4 21.1 3.8 29c9.4 9.4 24.6 9.4 33.9 0L289 89c9.4-9.4 9.4-24.6 0-33.9c-7.9-7.9-19.8-9.1-29-3.8C246 39.2 227.9 32 208 32c-10.3 0-20.2 2-29.2 5.5L163.9 22.6C149.4 8.1 129.7 0 109.3 0C66.6 0 32 34.6 32 77.3V256c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H96V77.3zM32 352v16c0 28.4 12.4 54 32 71.6V480c0 17.7 14.3 32 32 32s32-14.3 32-32V464H384v16c0 17.7 14.3 32 32 32s32-14.3 32-32V439.6c19.6-17.6 32-43.1 32-71.6V352H32z"]},DP={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},OP=DP,NP={prefix:"fas",iconName:"utensils",icon:[448,512,[127860,61685,"cutlery"],"f2e7","M416 0C400 0 288 32 288 176V288c0 35.3 28.7 64 64 64h32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V352 240 32c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7V480c0 17.7 14.3 32 32 32s32-14.3 32-32V255.6c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16V150.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8V16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"]},LP={prefix:"fas",iconName:"bed",icon:[640,512,[128716],"f236","M32 32c17.7 0 32 14.3 32 32V320H288V160c0-17.7 14.3-32 32-32H544c53 0 96 43 96 96V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V416H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V64C0 46.3 14.3 32 32 32zm144 96a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"]},VP={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},FP={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V288z"]};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sa.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const l0="popstate";function zP(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return cp("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ec(r)}return BP(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $P(){return Math.random().toString(36).substr(2,8)}function u0(e,t){return{usr:e.state,key:e.key,idx:t}}function cp(e,t,n,i){return n===void 0&&(n=null),Sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qs(t):t,{state:n,key:t&&t.key||i||$P()})}function Ec(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function qs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function BP(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=yi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Sa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=yi.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:g})}function f(v,g){a=yi.Push;let p=cp(y.location,v,g);n&&n(p,v),u=c()+1;let _=u0(p,u),w=y.createHref(p);try{o.pushState(_,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function d(v,g){a=yi.Replace;let p=cp(y.location,v,g);n&&n(p,v),u=c();let _=u0(p,u),w=y.createHref(p);o.replaceState(_,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function m(v){let g=r.location.origin!=="null"?r.location.origin:r.location.href,p=typeof v=="string"?v:Ec(v);return Bt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return e(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(l0,h),l=v,()=>{r.removeEventListener(l0,h),l=null}},createHref(v){return t(r,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:d,go(v){return o.go(v)}};return y}var c0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c0||(c0={}));function jP(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?qs(t):t,r=pg(i.pathname||"/",n);if(r==null)return null;let s=CE(e);UP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=JP(s[a],eC(r));return o}function CE(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Ri([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CE(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:QP(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of RE(s.path))r(s,o,l)}),t}function RE(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=RE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function UP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HP=/^:\w+$/,WP=3,KP=2,qP=1,YP=10,GP=-2,h0=e=>e==="*";function QP(e,t){let n=e.split("/"),i=n.length;return n.some(h0)&&(i+=GP),t&&(i+=KP),n.filter(r=>!h0(r)).reduce((r,s)=>r+(HP.test(s)?WP:s===""?qP:YP),i)}function XP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function JP(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",c=ZP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:Ri([r,c.pathname]),pathnameBase:sC(Ri([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=Ri([r,c.pathnameBase]))}return s}function ZP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=tC(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=nC(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function tC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function eC(e){try{return decodeURI(e)}catch(t){return dg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nC(e,t){try{return decodeURIComponent(e)}catch(n){return dg(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function iC(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?qs(e):e;return{pathname:n?n.startsWith("/")?n:rC(n,t):t,search:oC(i),hash:aC(r)}}function rC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function If(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ME(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function DE(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=qs(e):(r=Sa({},e),Bt(!r.pathname||!r.pathname.includes("?"),If("?","pathname","search",r)),Bt(!r.pathname||!r.pathname.includes("#"),If("#","pathname","hash",r)),Bt(!r.search||!r.search.includes("#"),If("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=iC(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ri=e=>e.join("/").replace(/\/\/+/g,"/"),sC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OE=["post","put","patch","delete"];new Set(OE);const uC=["get",...OE];new Set(uC);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bc.apply(this,arguments)}const mg=O.createContext(null),cC=O.createContext(null),Ys=O.createContext(null),mh=O.createContext(null),Qi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),NE=O.createContext(null);function hC(e,t){let{relative:n}=t===void 0?{}:t;sl()||Bt(!1);let{basename:i,navigator:r}=O.useContext(Ys),{hash:s,pathname:o,search:a}=VE(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ri([i,o])),r.createHref({pathname:l,search:a,hash:s})}function sl(){return O.useContext(mh)!=null}function ol(){return sl()||Bt(!1),O.useContext(mh).location}function LE(e){O.useContext(Ys).static||O.useLayoutEffect(e)}function fC(){let{isDataRoute:e}=O.useContext(Qi);return e?kC():dC()}function dC(){sl()||Bt(!1);let e=O.useContext(mg),{basename:t,navigator:n}=O.useContext(Ys),{matches:i}=O.useContext(Qi),{pathname:r}=ol(),s=JSON.stringify(ME(i).map(l=>l.pathnameBase)),o=O.useRef(!1);return LE(()=>{o.current=!0}),O.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=DE(l,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Ri([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,r,e])}function pC(){let{matches:e}=O.useContext(Qi),t=e[e.length-1];return t?t.params:{}}function VE(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=O.useContext(Qi),{pathname:r}=ol(),s=JSON.stringify(ME(i).map(o=>o.pathnameBase));return O.useMemo(()=>DE(e,JSON.parse(s),r,n==="path"),[e,s,r,n])}function mC(e,t){return gC(e,t)}function gC(e,t,n){sl()||Bt(!1);let{navigator:i}=O.useContext(Ys),{matches:r}=O.useContext(Qi),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ol(),u;if(t){var c;let y=typeof t=="string"?qs(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Bt(!1),u=y}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=jP(e,{pathname:f}),m=xC(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ri([a,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Ri([a,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n);return t&&m?O.createElement(mh.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yi.Pop}},m):m}function yC(){let e=TC(),t=lC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:r},n):null,s)}const vC=O.createElement(yC,null);class _C extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?O.createElement(Qi.Provider,{value:this.props.routeContext},O.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wC(e){let{routeContext:t,match:n,children:i}=e,r=O.useContext(mg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Qi.Provider,{value:t},i)}function xC(e,t,n){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let s=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Bt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||vC);let f=t.concat(s.slice(0,u+1)),d=()=>{let m;return c?m=h:l.route.Component?m=O.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,O.createElement(wC,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?O.createElement(_C,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var FE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FE||{}),Sc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sc||{});function EC(e){let t=O.useContext(mg);return t||Bt(!1),t}function bC(e){let t=O.useContext(cC);return t||Bt(!1),t}function SC(e){let t=O.useContext(Qi);return t||Bt(!1),t}function zE(e){let t=SC(),n=t.matches[t.matches.length-1];return n.route.id||Bt(!1),n.route.id}function TC(){var e;let t=O.useContext(NE),n=bC(Sc.UseRouteError),i=zE(Sc.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function kC(){let{router:e}=EC(FE.UseNavigateStable),t=zE(Sc.UseNavigateStable),n=O.useRef(!1);return LE(()=>{n.current=!0}),O.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,bc({fromRouteId:t},s)))},[e,t])}function hp(e){Bt(!1)}function AC(e){let{basename:t="/",children:n=null,location:i,navigationType:r=yi.Pop,navigator:s,static:o=!1}=e;sl()&&Bt(!1);let a=t.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=qs(i));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=i,m=O.useMemo(()=>{let y=pg(u,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:f,key:d},navigationType:r}},[a,u,c,h,f,d,r]);return m==null?null:O.createElement(Ys.Provider,{value:l},O.createElement(mh.Provider,{children:n,value:m}))}function IC(e){let{children:t,location:n}=e;return mC(fp(t),n)}new Promise(()=>{});function fp(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(i,r)=>{if(!O.isValidElement(i))return;let s=[...t,r];if(i.type===O.Fragment){n.push.apply(n,fp(i.props.children,s));return}i.type!==hp&&Bt(!1),!i.props.index||!i.props.children||Bt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=fp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dp.apply(this,arguments)}function PC(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function CC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RC(e,t){return e.button===0&&(!t||t==="_self")&&!CC(e)}const MC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],DC="startTransition",f0=PT[DC];function OC(e){let{basename:t,children:n,future:i,window:r}=e,s=O.useRef();s.current==null&&(s.current=zP({window:r,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=O.useCallback(h=>{u&&f0?f0(()=>l(h)):l(h)},[l,u]);return O.useLayoutEffect(()=>o.listen(c),[o,c]),O.createElement(AC,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const NC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=O.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=PC(t,MC),{basename:f}=O.useContext(Ys),d,m=!1;if(typeof u=="string"&&LC.test(u)&&(d=u,NC))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),w=pg(_.pathname,f);_.origin===p.origin&&w!=null?u=w+_.search+_.hash:m=!0}catch{}let y=hC(u,{relative:r}),v=VC(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r});function g(p){i&&i(p),p.defaultPrevented||v(p)}return O.createElement("a",dp({},h,{href:d||y,onClick:m||s?i:g,ref:n,target:l}))});var d0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(d0||(d0={}));var p0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function VC(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=fC(),l=ol(),u=VE(e,{relative:o});return O.useCallback(c=>{if(RC(c,n)){c.preventDefault();let h=i!==void 0?i:Ec(l)===Ec(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,n,e,s,o])}const FC=()=>{const[e,t]=O.useState(!1),n=ol(),[i,r]=O.useState("Zarządzanie budżetem remontowym"),s=()=>{t(!e)},o=()=>{t(!1)},a=l=>{e&&l.preventDefault()};return O.useEffect(()=>{switch(n.pathname){case"/salon":r("Salon");break;case"/kuchnia":r("Kuchnia");break;case"/lazienka":r("Łazienka");break;case"/gabinet":r("Gabinet");break;case"/sypialnia":r("Sypialnia");break;default:r("Zarządzanie budżetem remontowym");break}},[n.pathname]),I.createElement("header",{className:"header"},I.createElement("div",{className:"menu"},I.createElement(Ur,{to:"/",onClick:a},I.createElement(sn,{icon:RP})),I.createElement("span",null,i),I.createElement(sn,{onClick:s,icon:VP})),e&&I.createElement("ul",{className:"submenu"},I.createElement("li",null,I.createElement(Ur,{to:"/salon",onClick:o},I.createElement(sn,{icon:OP}),I.createElement("span",null," Salon"))),I.createElement("li",null,I.createElement(Ur,{to:"/kuchnia",onClick:o},I.createElement(sn,{icon:NP}),I.createElement("span",null," Kuchnia"))),I.createElement("li",null,I.createElement(Ur,{to:"/lazienka",onClick:o},I.createElement(sn,{icon:MP}),I.createElement("span",null," Łazienka"))),I.createElement("li",null,I.createElement(Ur,{to:"/gabinet",onClick:o},I.createElement(sn,{icon:FP}),I.createElement("span",null," Gabinet"))),I.createElement("li",null,I.createElement(Ur,{to:"/sypialnia",onClick:o},I.createElement(sn,{icon:LP}),I.createElement("span",null," Sypialnia")))))};const zC=()=>I.createElement("footer",{className:"footer"},I.createElement("p",null,"© Copyright 2023 - AleTutaj"));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},$C=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($E(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$C(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new BC;const f=s<<2|a>>4;if(i.push(f),u!==64){const d=a<<4&240|u>>2;if(i.push(d),h!==64){const m=u<<6&192|h;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class BC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(e){const t=$E(e);return BE.encodeByteArray(t,!0)},Tc=function(e){return jC(e).replace(/\./g,"")},UC=function(e){try{return BE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=()=>HC().__FIREBASE_DEFAULTS__,KC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&UC(e[1]);return t&&JSON.parse(t)},jE=()=>{try{return WC()||KC()||qC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},YC=e=>{var t,n;return(n=(t=jE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},GC=e=>{const t=YC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},UE=()=>{var e;return(e=jE())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Tc(JSON.stringify(n)),Tc(JSON.stringify(o)),a].join(".")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="FirebaseError";class Gs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=tR,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HE.prototype.create)}}class HE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?eR(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Gs(r,a,i)}}function eR(e,t){return e.replace(nR,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const nR=/\{\$([^}]+)}/g;function pp(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(m0(s)&&m0(o)){if(!pp(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function m0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(e){return e&&e._delegate?e._delegate:e}class ka{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new QC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sR(t))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=or){return this.instances.has(t)}getOptions(t=or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=or){return this.component?this.component.multipleInstances?t:or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(e){return e===or?void 0:e}function sR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(et||(et={}));const aR={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},lR=et.INFO,uR={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},cR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=uR[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class WE{constructor(t){this.name=t,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...t),this._logHandler(this,et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...t),this._logHandler(this,et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,et.INFO,...t),this._logHandler(this,et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,et.WARN,...t),this._logHandler(this,et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...t),this._logHandler(this,et.ERROR,...t)}}const hR=(e,t)=>t.some(n=>e instanceof n);let g0,y0;function fR(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,mp=new WeakMap,qE=new WeakMap,Pf=new WeakMap,gg=new WeakMap;function pR(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&KE.set(n,e)}).catch(()=>{}),gg.set(t,e),t}function mR(e){if(mp.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});mp.set(e,t)}let gp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return mp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function gR(e){gp=e(gp)}function yR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Cf(this),t,...n);return qE.set(i,t.sort?t.sort():[t]),Mi(i)}:dR().includes(e)?function(...t){return e.apply(Cf(this),t),Mi(KE.get(this))}:function(...t){return Mi(e.apply(Cf(this),t))}}function vR(e){return typeof e=="function"?yR(e):(e instanceof IDBTransaction&&mR(e),hR(e,fR())?new Proxy(e,gp):e)}function Mi(e){if(e instanceof IDBRequest)return pR(e);if(Pf.has(e))return Pf.get(e);const t=vR(e);return t!==e&&(Pf.set(e,t),gg.set(t,e)),t}const Cf=e=>gg.get(e);function _R(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Mi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],Rf=new Map;function v0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Rf.get(t))return Rf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=xR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Rf.set(t,s),s}gR(e=>({...e,get:(t,n,i)=>v0(t,n)||e.get(t,n,i),has:(t,n)=>!!v0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yp="@firebase/app",_0="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new WE("@firebase/app"),SR="@firebase/app-compat",TR="@firebase/analytics-compat",kR="@firebase/analytics",AR="@firebase/app-check-compat",IR="@firebase/app-check",PR="@firebase/auth",CR="@firebase/auth-compat",RR="@firebase/database",MR="@firebase/database-compat",DR="@firebase/functions",OR="@firebase/functions-compat",NR="@firebase/installations",LR="@firebase/installations-compat",VR="@firebase/messaging",FR="@firebase/messaging-compat",zR="@firebase/performance",$R="@firebase/performance-compat",BR="@firebase/remote-config",jR="@firebase/remote-config-compat",UR="@firebase/storage",HR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/firestore-compat",qR="firebase",YR="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",GR={[yp]:"fire-core",[SR]:"fire-core-compat",[kR]:"fire-analytics",[TR]:"fire-analytics-compat",[IR]:"fire-app-check",[AR]:"fire-app-check-compat",[PR]:"fire-auth",[CR]:"fire-auth-compat",[RR]:"fire-rtdb",[MR]:"fire-rtdb-compat",[DR]:"fire-fn",[OR]:"fire-fn-compat",[NR]:"fire-iid",[LR]:"fire-iid-compat",[VR]:"fire-fcm",[FR]:"fire-fcm-compat",[zR]:"fire-perf",[$R]:"fire-perf-compat",[BR]:"fire-rc",[jR]:"fire-rc-compat",[UR]:"fire-gcs",[HR]:"fire-gcs-compat",[WR]:"fire-fst",[KR]:"fire-fst-compat","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,_p=new Map;function QR(e,t){try{e.container.addComponent(t)}catch(n){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ac(e){const t=e.name;if(_p.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;_p.set(t,e);for(const n of kc.values())QR(n,e);return!0}function XR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Di=new HE("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=YR;function YE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:vp,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Di.create("bad-app-name",{appName:String(r)});if(n||(n=UE()),!n)throw Di.create("no-options");const s=kc.get(r);if(s){if(pp(n,s.options)&&pp(i,s.config))return s;throw Di.create("duplicate-app",{appName:r})}const o=new oR(r);for(const l of _p.values())o.addComponent(l);const a=new ZR(n,i,o);return kc.set(r,a),a}function eM(e=vp){const t=kc.get(e);if(!t&&e===vp&&UE())return YE();if(!t)throw Di.create("no-app",{appName:e});return t}function _s(e,t,n){var i;let r=(i=GR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(a.join(" "));return}Ac(new ka(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="firebase-heartbeat-database",iM=1,Aa="firebase-heartbeat-store";let Mf=null;function GE(){return Mf||(Mf=_R(nM,iM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Aa)}}}).catch(e=>{throw Di.create("idb-open",{originalErrorMessage:e.message})})),Mf}async function rM(e){try{return await(await GE()).transaction(Aa).objectStore(Aa).get(QE(e))}catch(t){if(t instanceof Gs)Cr.warn(t.message);else{const n=Di.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(n.message)}}}async function w0(e,t){try{const i=(await GE()).transaction(Aa,"readwrite");await i.objectStore(Aa).put(t,QE(e)),await i.done}catch(n){if(n instanceof Gs)Cr.warn(n.message);else{const i=Di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(i.message)}}}function QE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=1024,oM=30*24*60*60*1e3;class aM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=x0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=oM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x0(),{heartbeatsToSend:n,unsentEntries:i}=lM(this._heartbeatsCache.heartbeats),r=Tc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function x0(){return new Date().toISOString().substring(0,10)}function lM(e,t=sM){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),E0(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),E0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class uM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function E0(e){return Tc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(e){Ac(new ka("platform-logger",t=>new ER(t),"PRIVATE")),Ac(new ka("heartbeat",t=>new aM(t),"PRIVATE")),_s(yp,_0,e),_s(yp,_0,"esm2017"),_s("fire-js","")}cM("");var hM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,yg=yg||{},W=hM||self;function gh(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function al(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fM(e){return Object.prototype.hasOwnProperty.call(e,Df)&&e[Df]||(e[Df]=++dM)}var Df="closure_uid_"+(1e9*Math.random()>>>0),dM=0;function pM(e,t,n){return e.call.apply(e.bind,arguments)}function mM(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function ge(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ge=pM:ge=mM,ge.apply(null,arguments)}function Xl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Zt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Xi(){this.s=this.s,this.o=this.o}var gM=0;Xi.prototype.s=!1;Xi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),gM!=0)&&fM(this)};Xi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vg(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function b0(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(gh(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let o=0;o<s;o++)e[r+o]=i[o]}else e.push(i)}}function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var yM=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{W.addEventListener("test",()=>{},t),W.removeEventListener("test",()=>{},t)}catch{}return e}();function Ia(e){return/^[\s\xa0]*$/.test(e)}function yh(){var e=W.navigator;return e&&(e=e.userAgent)?e:""}function bn(e){return yh().indexOf(e)!=-1}function _g(e){return _g[" "](e),e}_g[" "]=function(){};function vM(e,t){var n=cD;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var _M=bn("Opera"),Ms=bn("Trident")||bn("MSIE"),JE=bn("Edge"),wp=JE||Ms,ZE=bn("Gecko")&&!(yh().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),wM=yh().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function tb(){var e=W.document;return e?e.documentMode:void 0}var xp;t:{var Of="",Nf=function(){var e=yh();if(ZE)return/rv:([^\);]+)(\)|;)/.exec(e);if(JE)return/Edge\/([\d\.]+)/.exec(e);if(Ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(wM)return/WebKit\/(\S+)/.exec(e);if(_M)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Nf&&(Of=Nf?Nf[1]:""),Ms){var Lf=tb();if(Lf!=null&&Lf>parseFloat(Of)){xp=String(Lf);break t}}xp=Of}var Ep;if(W.document&&Ms){var S0=tb();Ep=S0||parseInt(xp,10)||void 0}else Ep=void 0;var xM=Ep;function Pa(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ZE){t:{try{_g(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:EM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pa.$.h.call(this)}}Zt(Pa,ye);var EM={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ll="closure_listenable_"+(1e6*Math.random()|0),bM=0;function SM(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++bM,this.fa=this.ia=!1}function vh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function wg(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function TM(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function eb(e){const t={};for(const n in e)t[n]=e[n];return t}const T0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nb(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<T0.length;s++)n=T0[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function _h(e){this.src=e,this.g={},this.h=0}_h.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Sp(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new SM(t,this.src,s,!!i,r),t.ia=n,e.push(t)),t};function bp(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=XE(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(vh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Sp(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}var xg="closure_lm_"+(1e6*Math.random()|0),Vf={};function ib(e,t,n,i,r){if(i&&i.once)return sb(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ib(e,t[s],n,i,r);return null}return n=Sg(n),e&&e[ll]?e.O(t,n,al(i)?!!i.capture:!!i,r):rb(e,t,n,!1,i,r)}function rb(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=al(r)?!!r.capture:!!r,a=bg(e);if(a||(e[xg]=a=new _h(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=kM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)yM||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ab(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kM(){function e(n){return t.call(e.src,e.listener,n)}const t=AM;return e}function sb(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)sb(e,t[s],n,i,r);return null}return n=Sg(n),e&&e[ll]?e.P(t,n,al(i)?!!i.capture:!!i,r):rb(e,t,n,!0,i,r)}function ob(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)ob(e,t[s],n,i,r);else i=al(i)?!!i.capture:!!i,n=Sg(n),e&&e[ll]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Sp(s,n,i,r),-1<n&&(vh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=bg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sp(t,n,i,r)),(n=-1<e?t[e]:null)&&Eg(n))}function Eg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ll])bp(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ab(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=bg(t))?(bp(n,e),n.h==0&&(n.src=null,t[xg]=null)):vh(e)}}}function ab(e){return e in Vf?Vf[e]:Vf[e]="on"+e}function AM(e,t){if(e.fa)e=!0;else{t=new Pa(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Eg(e),e=n.call(i,t)}return e}function bg(e){return e=e[xg],e instanceof _h?e:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sg(e){return typeof e=="function"?e:(e[Ff]||(e[Ff]=function(t){return e.handleEvent(t)}),e[Ff])}function Jt(){Xi.call(this),this.i=new _h(this),this.S=this,this.J=null}Zt(Jt,Xi);Jt.prototype[ll]=!0;Jt.prototype.removeEventListener=function(e,t,n,i){ob(this,e,t,n,i)};function re(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var r=t;t=new ye(i,e),nb(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Jl(o,i,!0,t)&&r}if(o=t.g=e,r=Jl(o,i,!0,t)&&r,r=Jl(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=Jl(o,i,!1,t)&&r}Jt.prototype.N=function(){if(Jt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)vh(n[i]);delete e.g[t],e.h--}}this.J=null};Jt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Jt.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Jl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bp(e.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Tg=W.JSON.stringify;class IM{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function PM(){var e=kg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class CM{constructor(){this.h=this.g=null}add(t,n){const i=lb.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var lb=new IM(()=>new RM,e=>e.reset());class RM{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function MM(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function DM(e){W.setTimeout(()=>{throw e},0)}let Ca,Ra=!1,kg=new CM,ub=()=>{const e=W.Promise.resolve(void 0);Ca=()=>{e.then(OM)}};var OM=()=>{for(var e;e=PM();){try{e.h.call(e.g)}catch(n){DM(n)}var t=lb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ra=!1};function wh(e,t){Jt.call(this),this.h=e||1,this.g=t||W,this.j=ge(this.qb,this),this.l=Date.now()}Zt(wh,Jt);D=wh.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),re(this,"tick"),this.ga&&(Ag(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ag(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){wh.$.N.call(this),Ag(this),delete this.g};function Ig(e,t,n){if(typeof e=="function")n&&(e=ge(e,n));else if(e&&typeof e.handleEvent=="function")e=ge(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:W.setTimeout(e,t||0)}function cb(e){e.g=Ig(()=>{e.g=null,e.i&&(e.i=!1,cb(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class NM extends Xi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cb(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(e){Xi.call(this),this.h=e,this.g={}}Zt(Ma,Xi);var k0=[];function hb(e,t,n,i){Array.isArray(n)||(n&&(k0[0]=n.toString()),n=k0);for(var r=0;r<n.length;r++){var s=ib(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fb(e){wg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Eg(t)},e),e.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),fb(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xh(){this.g=!0}xh.prototype.Ea=function(){this.g=!1};function LM(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function VM(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+o})}function hs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+zM(e,n)+(i?" "+i:"")})}function FM(e,t){e.info(function(){return"TIMEOUT: "+t})}xh.prototype.info=function(){};function zM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Tg(n)}catch{return t}}var Fr={},A0=null;function Eh(){return A0=A0||new Jt}Fr.Ta="serverreachability";function db(e){ye.call(this,Fr.Ta,e)}Zt(db,ye);function Da(e){const t=Eh();re(t,new db(t))}Fr.STAT_EVENT="statevent";function pb(e,t){ye.call(this,Fr.STAT_EVENT,e),this.stat=t}Zt(pb,ye);function be(e){const t=Eh();re(t,new pb(t,e))}Fr.Ua="timingevent";function mb(e,t){ye.call(this,Fr.Ua,e),this.size=t}Zt(mb,ye);function ul(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){e()},t)}var bh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pg(){}Pg.prototype.h=null;function I0(e){return e.h||(e.h=e.i())}function yb(){}var cl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cg(){ye.call(this,"d")}Zt(Cg,ye);function Rg(){ye.call(this,"c")}Zt(Rg,ye);var Tp;function Sh(){}Zt(Sh,Pg);Sh.prototype.g=function(){return new XMLHttpRequest};Sh.prototype.i=function(){return{}};Tp=new Sh;function hl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Ma(this),this.P=$M,e=wp?125:void 0,this.V=new wh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vb}function vb(){this.i=null,this.g="",this.h=!1}var $M=45e3,kp={},Ic={};D=hl.prototype;D.setTimeout=function(e){this.P=e};function Ap(e,t,n){e.L=1,e.v=kh(ii(t)),e.s=n,e.S=!0,_b(e,null)}function _b(e,t){e.G=Date.now(),fl(e),e.A=ii(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),Ab(n.i,"t",i),e.C=0,n=e.l.J,e.h=new vb,e.g=Yb(e.l,n?t:null,!e.s),0<e.O&&(e.M=new NM(ge(e.Pa,e,e.g),e.O)),hb(e.U,e.g,"readystatechange",e.nb),t=e.I?eb(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Da(),LM(e.j,e.u,e.A,e.m,e.W,e.s)}D.nb=function(e){e=e.target;const t=this.M;t&&Tn(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)t:{const c=Tn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||wp||this.g&&(this.h.h||this.g.ja()||M0(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Da(3):Da(2)),Th(this);var n=this.g.da();this.ca=n;e:if(wb(this)){var i=M0(this.g);e="";var r=i.length,s=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Wo(this);var o="";break e}this.h.i=new W.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,VM(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ia(a)){var u=a;break e}}u=null}if(n=u)hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ip(this,n);else{this.i=!1,this.o=3,be(12),pr(this),Wo(this);break t}}this.S?(xb(this,c,o),wp&&this.i&&c==3&&(hb(this.U,this.V,"tick",this.mb),this.V.start())):(hs(this.j,this.m,o,null),Ip(this,o)),c==4&&pr(this),this.i&&!this.J&&(c==4?Hb(this.l,this):(this.i=!1,fl(this)))}else aD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,be(12)):(this.o=0,be(13)),pr(this),Wo(this)}}}catch{}finally{}};function wb(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function xb(e,t,n){let i=!0,r;for(;!e.J&&e.C<n.length;)if(r=BM(e,n),r==Ic){t==4&&(e.o=4,be(14),i=!1),hs(e.j,e.m,null,"[Incomplete Response]");break}else if(r==kp){e.o=4,be(15),hs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else hs(e.j,e.m,r,null),Ip(e,r);wb(e)&&r!=Ic&&r!=kp&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,be(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vg(t),t.M=!0,be(11))):(hs(e.j,e.m,n,"[Invalid Chunked Response]"),pr(e),Wo(e))}D.mb=function(){if(this.g){var e=Tn(this.g),t=this.g.ja();this.C<t.length&&(Th(this),xb(this,e,t),this.i&&e!=4&&fl(this))}};function BM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Ic:(n=Number(t.substring(n,i)),isNaN(n)?kp:(i+=1,i+n>t.length?Ic:(t=t.slice(i,i+n),e.C=i+n,t)))}D.cancel=function(){this.J=!0,pr(this)};function fl(e){e.Y=Date.now()+e.P,Eb(e,e.P)}function Eb(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ul(ge(e.lb,e),t)}function Th(e){e.B&&(W.clearTimeout(e.B),e.B=null)}D.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(FM(this.j,this.A),this.L!=2&&(Da(),be(17)),pr(this),this.o=2,Wo(this)):Eb(this,this.Y-e)};function Wo(e){e.l.H==0||e.J||Hb(e.l,e)}function pr(e){Th(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Ag(e.V),fb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ip(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Pp(n.i,e))){if(!e.K&&Pp(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Rc(n),Ch(n);else break t;Lg(n),be(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ul(ge(n.ib,n),6e3));if(1>=Cb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mr(n,11)}else if((e.K||n.g==e)&&Rc(n),!Ia(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let u=r[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=i.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Mg(s,s.h),s.h=null))}if(i.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.Da=y,yt(i.I,i.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=qb(i,i.J?i.pa:null,i.Y),o.K){Rb(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Th(a),fl(a)),i.g=o}else jb(i);0<n.j.length&&Rh(n)}else u[0]!="stop"&&u[0]!="close"||mr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?mr(n,7):Ng(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Da(4)}catch{}}function jM(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(gh(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function UM(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(gh(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function bb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(gh(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=UM(e),i=jM(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var Sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function wr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wr){this.h=e.h,Pc(this,e.j),this.s=e.s,this.g=e.g,Cc(this,e.m),this.l=e.l;var t=e.i,n=new Oa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),P0(this,n),this.o=e.o}else e&&(t=String(e).match(Sb))?(this.h=!1,Pc(this,t[1]||"",!0),this.s=So(t[2]||""),this.g=So(t[3]||"",!0),Cc(this,t[4]),this.l=So(t[5]||"",!0),P0(this,t[6]||"",!0),this.o=So(t[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}wr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(To(t,C0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(To(t,C0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(To(n,n.charAt(0)=="/"?qM:KM,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",To(n,GM)),e.join("")};function ii(e){return new wr(e)}function Pc(e,t,n){e.j=n?So(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function P0(e,t,n){t instanceof Oa?(e.i=t,QM(e.i,e.h)):(n||(t=To(t,YM)),e.i=new Oa(t,e.h))}function yt(e,t,n){e.i.set(t,n)}function kh(e){return yt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function So(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function To(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var C0=/[#\/\?@]/g,KM=/[#\?:]/g,qM=/[#\?]/g,YM=/[#\?@]/g,GM=/#/g;function Oa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ji(e){e.g||(e.g=new Map,e.h=0,e.i&&HM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=Oa.prototype;D.add=function(e,t){Ji(this),this.i=null,e=Qs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Tb(e,t){Ji(e),t=Qs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kb(e,t){return Ji(e),t=Qs(e,t),e.g.has(t)}D.forEach=function(e,t){Ji(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};D.ta=function(){Ji(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};D.Z=function(e){Ji(this);let t=[];if(typeof e=="string")kb(this,e)&&(t=t.concat(this.g.get(Qs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};D.set=function(e,t){return Ji(this),this.i=null,e=Qs(this,e),kb(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Ab(e,t,n){Tb(e,t),0<n.length&&(e.i=null,e.g.set(Qs(e,t),vg(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function Qs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function QM(e,t){t&&!e.j&&(Ji(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Tb(this,i),Ab(this,r,n))},e)),e.j=t}var XM=class{constructor(e,t){this.g=e,this.map=t}};function Ib(e){this.l=e||JM,W.PerformanceNavigationTiming?(e=W.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JM=10;function Pb(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Cb(e){return e.h?1:e.g?e.g.size:0}function Pp(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Mg(e,t){e.g?e.g.add(t):e.h=t}function Rb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ib.prototype.cancel=function(){if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Mb(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vg(e.i)}var ZM=class{stringify(e){return W.JSON.stringify(e,void 0)}parse(e){return W.JSON.parse(e,void 0)}};function tD(){this.g=new ZM}function eD(e,t,n){const i=n||"";try{bb(e,function(r,s){let o=r;al(r)&&(o=Tg(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function nD(e,t){const n=new xh;if(W.Image){const i=new Image;i.onload=Xl(Zl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Xl(Zl,n,i,"TestLoadImage: error",!1,t),i.onabort=Xl(Zl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Xl(Zl,n,i,"TestLoadImage: timeout",!1,t),W.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Zl(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ah(e){this.l=e.ec||null,this.j=e.ob||!1}Zt(Ah,Pg);Ah.prototype.g=function(){return new Ih(this.l,this.j)};Ah.prototype.i=function(e){return function(){return e}}({});function Ih(e,t){Jt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Dg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(Ih,Jt);var Dg=0;D=Ih.prototype;D.open=function(e,t){if(this.readyState!=Dg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Na(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||W).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=Dg};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Db(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Db(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dl(this):Na(this),this.readyState==3&&Db(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,dl(this))};D.Ya=function(e){this.g&&(this.response=e,dl(this))};D.ka=function(){this.g&&dl(this)};function dl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Na(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iD=W.JSON.parse;function Nt(e){Jt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ob,this.L=this.M=!1}Zt(Nt,Jt);var Ob="",rD=/^https?$/i,sD=["POST","PUT"];D=Nt.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tp.g(),this.C=this.u?I0(this.u):I0(Tp),this.g.onreadystatechange=ge(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){R0(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=W.FormData&&e instanceof W.FormData,!(0<=XE(sD,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vb(this),0<this.B&&((this.L=oD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ge(this.ua,this)):this.A=Ig(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){R0(this,s)}};function oD(e){return Ms&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof yg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,re(this,"timeout"),this.abort(8))};function R0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nb(e),Ph(e)}function Nb(e){e.F||(e.F=!0,re(e,"complete"),re(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ph(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),Nt.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?Lb(this):this.kb())};D.kb=function(){Lb(this)};function Lb(e){if(e.h&&typeof yg<"u"&&(!e.C[1]||Tn(e)!=4||e.da()!=2)){if(e.v&&Tn(e)==4)Ig(e.La,0,e);else if(re(e,"readystatechange"),Tn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var r=String(e.I).match(Sb)[1]||null;!r&&W.self&&W.self.location&&(r=W.self.location.protocol.slice(0,-1)),i=!rD.test(r?r.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Tn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Nb(e)}}finally{Ph(e)}}}}function Ph(e,t){if(e.g){Vb(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||re(e,"ready");try{n.onreadystatechange=i}catch{}}}function Vb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(W.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iD(t)}};function M0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ob:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function aD(e){const t={};e=(e.g&&2<=Tn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Ia(e[i]))continue;var n=MM(e[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}TM(t,function(i){return i.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fb(e){let t="";return wg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Og(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Fb(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):yt(e,t,n))}function co(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zb(e){this.Ga=0,this.j=[],this.l=new xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=co("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=co("baseRetryDelayMs",5e3,e),this.hb=co("retryDelaySeedMs",1e4,e),this.eb=co("forwardChannelMaxRetries",2,e),this.xa=co("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ib(e&&e.concurrentRequestLimit),this.Ja=new tD,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=zb.prototype;D.ra=8;D.H=1;function Ng(e){if($b(e),e.H==3){var t=e.W++,n=ii(e.I);if(yt(n,"SID",e.K),yt(n,"RID",t),yt(n,"TYPE","terminate"),pl(e,n),t=new hl(e,e.l,t),t.L=2,t.v=kh(ii(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&W.Image&&(new Image().src=t.v,n=!0),n||(t.g=Yb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fl(t)}Kb(e)}function Ch(e){e.g&&(Vg(e),e.g.cancel(),e.g=null)}function $b(e){Ch(e),e.u&&(W.clearTimeout(e.u),e.u=null),Rc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&W.clearTimeout(e.m),e.m=null)}function Rh(e){if(!Pb(e.i)&&!e.m){e.m=!0;var t=e.Na;Ca||ub(),Ra||(Ca(),Ra=!0),kg.add(t,e),e.C=0}}function lD(e,t){return Cb(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ul(ge(e.Na,e,t),Wb(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new hl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=eb(s),nb(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Bb(this,r,t),n=ii(this.I),yt(n,"RID",e),yt(n,"CVER",22),this.F&&yt(n,"X-HTTP-Session-Id",this.F),pl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Fb(s)))+"&"+t:this.o&&Og(n,this.o,s)),Mg(this.i,r),this.bb&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",t),yt(n,"SID","null"),r.aa=!0,Ap(r,n,null)):Ap(r,n,t),this.H=2}}else this.H==3&&(e?D0(this,e):this.j.length==0||Pb(this.i)||D0(this))};function D0(e,t){var n;t?n=t.m:n=e.W++;const i=ii(e.I);yt(i,"SID",e.K),yt(i,"RID",n),yt(i,"AID",e.V),pl(e,i),e.o&&e.s&&Og(i,e.o,e.s),n=new hl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Bb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Mg(e.i,n),Ap(n,i,t)}function pl(e,t){e.na&&wg(e.na,function(n,i){yt(t,i,n)}),e.h&&bb({},function(n,i){yt(t,i,n)})}function Bb(e,t,n){n=Math.min(e.j.length,n);var i=e.h?ge(e.h.Va,e.h,e):null;t:{var r=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].g;const c=r[l].map;if(u-=s,0>u)s=Math.max(0,r[l].g-100),a=!1;else try{eD(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function jb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ca||ub(),Ra||(Ca(),Ra=!0),kg.add(t,e),e.A=0}}function Lg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ul(ge(e.Ma,e),Wb(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,Ub(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ul(ge(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,be(10),Ch(this),Ub(this))};function Vg(e){e.B!=null&&(W.clearTimeout(e.B),e.B=null)}function Ub(e){e.g=new hl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ii(e.wa);yt(t,"RID","rpc"),yt(t,"SID",e.K),yt(t,"AID",e.V),yt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&yt(t,"TO",e.qa),yt(t,"TYPE","xmlhttp"),pl(e,t),e.o&&e.s&&Og(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=kh(ii(t)),n.s=null,n.S=!0,_b(n,e)}D.ib=function(){this.v!=null&&(this.v=null,Ch(this),Lg(this),be(19))};function Rc(e){e.v!=null&&(W.clearTimeout(e.v),e.v=null)}function Hb(e,t){var n=null;if(e.g==t){Rc(e),Vg(e),e.g=null;var i=2}else if(Pp(e.i,t))n=t.F,Rb(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;i=Eh(),re(i,new mb(i,n)),Rh(e)}else jb(e);else if(r=t.o,r==3||r==0&&0<t.ca||!(i==1&&lD(e,t)||i==2&&Lg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:mr(e,5);break;case 4:mr(e,10);break;case 3:mr(e,6);break;default:mr(e,2)}}}function Wb(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function mr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=ge(e.pb,e);n||(n=new wr("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Pc(n,"https"),kh(n)),nD(n.toString(),i)}else be(2);e.H=0,e.h&&e.h.za(t),Kb(e),$b(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),be(2)):(this.l.info("Failed to ping google.com"),be(1))};function Kb(e){if(e.H=0,e.ma=[],e.h){const t=Mb(e.i);(t.length!=0||e.j.length!=0)&&(b0(e.ma,t),b0(e.ma,e.j),e.i.i.length=0,vg(e.j),e.j.length=0),e.h.ya()}}function qb(e,t,n){var i=n instanceof wr?ii(n):new wr(n);if(i.g!="")t&&(i.g=t+"."+i.g),Cc(i,i.m);else{var r=W.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new wr(null);i&&Pc(s,i),t&&(s.g=t),r&&Cc(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&yt(i,n,t),yt(i,"VER",e.ra),pl(e,i),i}function Yb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Nt(new Ah({ob:!0})):new Nt(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function Gb(){}D=Gb.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Mc(){if(Ms&&!(10<=Number(xM)))throw Error("Environmental error: no available transport.")}Mc.prototype.g=function(e,t){return new je(e,t)};function je(e,t){Jt.call(this),this.g=new zb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ia(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ia(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xs(this)}Zt(je,Jt);je.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;be(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=qb(e,null,e.Y),Rh(e)};je.prototype.close=function(){Ng(this.g)};je.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Tg(e),e=n);t.j.push(new XM(t.fb++,e)),t.H==3&&Rh(t)};je.prototype.N=function(){this.g.h=null,delete this.j,Ng(this.g),delete this.g,je.$.N.call(this)};function Qb(e){Cg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Zt(Qb,Cg);function Xb(){Rg.call(this),this.status=1}Zt(Xb,Rg);function Xs(e){this.g=e}Zt(Xs,Gb);Xs.prototype.Ba=function(){re(this.g,"a")};Xs.prototype.Aa=function(e){re(this.g,new Qb(e))};Xs.prototype.za=function(e){re(this.g,new Xb)};Xs.prototype.ya=function(){re(this.g,"b")};function uD(){this.blockSize=-1}function mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Zt(mn,uD);mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zf(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(r^s&(n^r))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(n^r^s)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(r^(n|~s))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}mn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(r==0)for(;s<=n;)zf(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){zf(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){zf(this,i),r=0;break}}this.h=r,this.i+=t};mn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function lt(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=e[r]|0;i&&s==t||(n[r]=s,i=!1)}this.g=n}var cD={};function Fg(e){return-128<=e&&128>e?vM(e,function(t){return new lt([t|0],0>t?-1:0)}):new lt([e|0],0>e?-1:0)}function kn(e){if(isNaN(e)||!isFinite(e))return ws;if(0>e)return ne(kn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Cp;return new lt(t,0)}function Jb(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ne(Jb(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=kn(Math.pow(t,8)),i=ws,r=0;r<e.length;r+=8){var s=Math.min(8,e.length-r),o=parseInt(e.substring(r,r+s),t);8>s?(s=kn(Math.pow(t,s)),i=i.R(s).add(kn(o))):(i=i.R(n),i=i.add(kn(o)))}return i}var Cp=4294967296,ws=Fg(0),Rp=Fg(1),O0=Fg(16777216);D=lt.prototype;D.ea=function(){if(Ge(this))return-ne(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Cp+i)*t,t*=Cp}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Wn(this))return"0";if(Ge(this))return"-"+ne(this).toString(e);for(var t=kn(Math.pow(e,6)),n=this,i="";;){var r=Oc(n,t).g;n=Dc(n,r.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,Wn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Wn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ge(e){return e.h==-1}D.X=function(e){return e=Dc(this,e),Ge(e)?-1:Wn(e)?0:1};function ne(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new lt(n,~e.h).add(Rp)}D.abs=function(){return Ge(this)?ne(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(this.D(r)&65535)+(e.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new lt(n,n[n.length-1]&-2147483648?-1:0)};function Dc(e,t){return e.add(ne(t))}D.R=function(e){if(Wn(this)||Wn(e))return ws;if(Ge(this))return Ge(e)?ne(this).R(ne(e)):ne(ne(this).R(e));if(Ge(e))return ne(this.R(ne(e)));if(0>this.X(O0)&&0>e.X(O0))return kn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(r)>>>16,l=e.D(r)&65535;n[2*i+2*r]+=o*l,tu(n,2*i+2*r),n[2*i+2*r+1]+=s*l,tu(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,tu(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,tu(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new lt(n,0)};function tu(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ho(e,t){this.g=e,this.h=t}function Oc(e,t){if(Wn(t))throw Error("division by zero");if(Wn(e))return new ho(ws,ws);if(Ge(e))return t=Oc(ne(e),t),new ho(ne(t.g),ne(t.h));if(Ge(t))return t=Oc(e,ne(t)),new ho(ne(t.g),t.h);if(30<e.g.length){if(Ge(e)||Ge(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Rp,i=t;0>=i.X(e);)n=N0(n),i=N0(i);var r=Hr(n,1),s=Hr(i,1);for(i=Hr(i,2),n=Hr(n,2);!Wn(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=Hr(i,1),n=Hr(n,1)}return t=Dc(e,r.R(t)),new ho(r,t)}for(r=ws;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=kn(n),o=s.R(t);Ge(o)||0<o.X(e);)n-=i,s=kn(n),o=s.R(t);Wn(s)&&(s=Rp),r=r.add(s),e=Dc(e,o)}return new ho(r,e)}D.gb=function(e){return Oc(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new lt(n,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new lt(n,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new lt(n,this.h^e.h)};function N0(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new lt(n,e.h)}function Hr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new lt(r,e.h)}Mc.prototype.createWebChannel=Mc.prototype.g;je.prototype.send=je.prototype.u;je.prototype.open=je.prototype.m;je.prototype.close=je.prototype.close;bh.NO_ERROR=0;bh.TIMEOUT=8;bh.HTTP_ERROR=6;gb.COMPLETE="complete";yb.EventType=cl;cl.OPEN="a";cl.CLOSE="b";cl.ERROR="c";cl.MESSAGE="d";Jt.prototype.listen=Jt.prototype.O;Nt.prototype.listenOnce=Nt.prototype.P;Nt.prototype.getLastError=Nt.prototype.Sa;Nt.prototype.getLastErrorCode=Nt.prototype.Ia;Nt.prototype.getStatus=Nt.prototype.da;Nt.prototype.getResponseJson=Nt.prototype.Wa;Nt.prototype.getResponseText=Nt.prototype.ja;Nt.prototype.send=Nt.prototype.ha;Nt.prototype.setWithCredentials=Nt.prototype.Oa;mn.prototype.digest=mn.prototype.l;mn.prototype.reset=mn.prototype.reset;mn.prototype.update=mn.prototype.j;lt.prototype.add=lt.prototype.add;lt.prototype.multiply=lt.prototype.R;lt.prototype.modulo=lt.prototype.gb;lt.prototype.compare=lt.prototype.X;lt.prototype.toNumber=lt.prototype.ea;lt.prototype.toString=lt.prototype.toString;lt.prototype.getBits=lt.prototype.D;lt.fromNumber=kn;lt.fromString=Jb;var hD=function(){return new Mc},fD=function(){return Eh()},$f=bh,dD=gb,pD=Fr,L0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eu=yb,mD=Nt,gD=mn,xs=lt;const V0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new WE("@firebase/firestore");function fo(){return Rr.logLevel}function V(e,...t){if(Rr.logLevel<=et.DEBUG){const n=t.map(zg);Rr.debug(`Firestore (${Js}): ${e}`,...n)}}function ri(e,...t){if(Rr.logLevel<=et.ERROR){const n=t.map(zg);Rr.error(`Firestore (${Js}): ${e}`,...n)}}function Ds(e,...t){if(Rr.logLevel<=et.WARN){const n=t.map(zg);Rr.warn(`Firestore (${Js}): ${e}`,...n)}}function zg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e="Unexpected state"){const t=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+e;throw ri(t),new Error(t)}function Et(e,t){e||U()}function Y(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Gs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class vD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string"),new Zb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Et(t===null||typeof t=="string"),new he(t)}}class wD{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=he.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xD{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new wD(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ED{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new ED(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=SD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function rt(e,t){return e<t?-1:e>t?1:0}function Os(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Kt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.timestamp=t}static fromTimestamp(t){return new K(t)}static min(){return new K(new Kt(0,0))}static max(){return new K(new Kt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,i){n===void 0?n=0:n>t.length&&U(),i===void 0?i=t.length-n:i>t.length-n&&U(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return La.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof La?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tt extends La{construct(t,n,i){return new Tt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pe extends La{construct(t,n,i){return new pe(t,n,i)}static isValidIdentifier(t){return TD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pe(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pe(n)}static emptyPath(){return new pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.path=t}static fromPath(t){return new B(Tt.fromString(t))}static fromName(t){return new B(Tt.fromString(t).popFirst(5))}static empty(){return new B(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new B(new Tt(t.slice()))}}function kD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=K.fromTimestamp(i===1e9?new Kt(n+1,0):new Kt(n,i));return new ji(r,B.empty(),t)}function AD(e){return new ji(e.readTime,e.key,-1)}class ji{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ji(K.min(),B.empty(),-1)}static max(){return new ji(K.max(),B.empty(),-1)}}function ID(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==PD)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new T((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):T.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):T.reject(n)}static resolve(t){return new T((n,i)=>{n(t)})}static reject(t){return new T((n,i)=>{i(t)})}static waitFor(t){return new T((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=T.resolve(!1);for(const i of t)n=n.next(r=>r?T.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new T((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new T((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function gl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}$g.ae=-1;function Mh(e){return e==null}function Nc(e){return e===0&&1/e==-1/0}function RD(e){return typeof e=="number"&&Number.isInteger(e)&&!Nc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,n){this.comparator=t,this.root=n||ee.EMPTY}insert(t,n){return new Ct(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ee.BLACK,null,null))}remove(t){return new Ct(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nu(this.root,t,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nu(this.root,t,this.comparator,!0)}}class nu{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ee{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ee.RED,this.left=r??ee.EMPTY,this.right=s??ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ee(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ee.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const t=this.left.check();if(t!==this.right.check())throw U();return t+(this.isRed()?0:1)}}ee.EMPTY=null,ee.RED=!0,ee.BLACK=!1;ee.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(t,n,i,r,s){return this}insert(t,n,i){return new ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.comparator=t,this.data=new Ct(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ve(this.comparator);return n.data=t,n}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.fields=t,t.sort(pe.comparator)}static empty(){return new ln([])}unionWith(t){let n=new ve(pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nS("Invalid base64 string: "+s):s}}(t);return new we(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new we(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}we.EMPTY_BYTE_STRING=new we("");const MD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(e){if(Et(!!e),typeof e=="string"){let t=0;const n=MD.exec(e);if(Et(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mr(e){return typeof e=="string"?we.fromBase64String(e):we.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jg(e){const t=e.mapValue.fields.__previous_value__;return Bg(t)?jg(t):t}function Va(e){const t=Ui(e.mapValue.fields.__local_write_time__.timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Fa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Fa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bg(e)?4:OD(e)?9007199254740991:10:U()}function Dn(e,t){if(e===t)return!0;const n=Dr(e);if(n!==Dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Va(e).isEqual(Va(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ui(r.timestampValue),a=Ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Mr(r.bytesValue).isEqual(Mr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return zt(r.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return zt(r.integerValue)===zt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=zt(r.doubleValue),a=zt(s.doubleValue);return o===a?Nc(o)===Nc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Os(e.arrayValue.values||[],t.arrayValue.values||[],Dn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(F0(o)!==F0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dn(o[l],a[l])))return!1;return!0}(e,t);default:return U()}}function za(e,t){return(e.values||[]).find(n=>Dn(n,t))!==void 0}function Ns(e,t){if(e===t)return 0;const n=Dr(e),i=Dr(t);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=zt(s.integerValue||s.doubleValue),l=zt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return $0(e.timestampValue,t.timestampValue);case 4:return $0(Va(e),Va(t));case 5:return rt(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Mr(s),l=Mr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=rt(a[u],l[u]);if(c!==0)return c}return rt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=rt(zt(s.latitude),zt(o.latitude));return a!==0?a:rt(zt(s.longitude),zt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ns(a[u],l[u]);if(c)return c}return rt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===iu.mapValue&&o===iu.mapValue)return 0;if(s===iu.mapValue)return 1;if(o===iu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=rt(l[h],c[h]);if(f!==0)return f;const d=Ns(a[l[h]],u[c[h]]);if(d!==0)return d}return rt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw U()}}function $0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=Ui(e),i=Ui(t),r=rt(n.seconds,i.seconds);return r!==0?r:rt(n.nanos,i.nanos)}function Ls(e){return Mp(e)}function Mp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ui(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Mr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return B.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Mp(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Mp(n.fields[o])}`;return r+"}"}(e.mapValue):U()}function Dp(e){return!!e&&"integerValue"in e}function Ug(e){return!!e&&"arrayValue"in e}function B0(e){return!!e&&"nullValue"in e}function j0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ou(e){return!!e&&"mapValue"in e}function Ko(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ko(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ko(e.arrayValue.values[n]);return t}return Object.assign({},e)}function OD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.value=t}static empty(){return new Qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ou(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ko(n)}setAll(t){let n=pe.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ko(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Zs(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Qe(Ko(this.value))}}function iS(e){const t=[];return Zs(e.fields,(n,i)=>{const r=new pe([n]);if(Ou(i)){const s=iS(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new de(t,0,K.min(),K.min(),K.min(),Qe.empty(),0)}static newFoundDocument(t,n,i,r){return new de(t,1,n,K.min(),i,r,0)}static newNoDocument(t,n){return new de(t,2,n,K.min(),K.min(),Qe.empty(),0)}static newUnknownDocument(t,n){return new de(t,3,n,K.min(),K.min(),Qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof de&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new de(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n){this.position=t,this.inclusive=n}}function U0(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=B.comparator(B.fromName(o.referenceValue),n.key):i=Ns(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function H0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,n="asc"){this.field=t,this.dir=n}}function ND(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class Ut extends rS{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new VD(t,n,i):n==="array-contains"?new $D(t,i):n==="in"?new BD(t,i):n==="not-in"?new jD(t,i):n==="array-contains-any"?new UD(t,i):new Ut(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new FD(t,i):new zD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ns(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends rS{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new On(t,n)}matches(t){return sS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function sS(e){return e.op==="and"}function oS(e){return LD(e)&&sS(e)}function LD(e){for(const t of e.filters)if(t instanceof On)return!1;return!0}function Op(e){if(e instanceof Ut)return e.field.canonicalString()+e.op.toString()+Ls(e.value);if(oS(e))return e.filters.map(t=>Op(t)).join(",");{const t=e.filters.map(n=>Op(n)).join(",");return`${e.op}(${t})`}}function aS(e,t){return e instanceof Ut?function(i,r){return r instanceof Ut&&i.op===r.op&&i.field.isEqual(r.field)&&Dn(i.value,r.value)}(e,t):e instanceof On?function(i,r){return r instanceof On&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&aS(o,r.filters[a]),!0):!1}(e,t):void U()}function lS(e){return e instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(e):e instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(e):"Filter"}class VD extends Ut{constructor(t,n,i){super(t,n,i),this.key=B.fromName(i.referenceValue)}matches(t){const n=B.comparator(t.key,this.key);return this.matchesComparison(n)}}class FD extends Ut{constructor(t,n){super(t,"in",n),this.keys=uS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zD extends Ut{constructor(t,n){super(t,"not-in",n),this.keys=uS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function uS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>B.fromName(i.referenceValue))}class $D extends Ut{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ug(n)&&za(n.arrayValue,this.value)}}class BD extends Ut{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class jD extends Ut{constructor(t,n){super(t,"not-in",n)}matches(t){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class UD extends Ut{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>za(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function W0(e,t=null,n=[],i=[],r=null,s=null,o=null){return new HD(e,t,n,i,r,s,o)}function Hg(e){const t=Y(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Op(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ls(i)).join(",")),t.he=n}return t.he}function Wg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ND(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!H0(e.startAt,t.startAt)&&H0(e.endAt,t.endAt)}function Np(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WD(e,t,n,i,r,s,o,a){return new Dh(e,t,n,i,r,s,o,a)}function cS(e){return new Dh(e)}function K0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function KD(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qD(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function YD(e){return e.collectionGroup!==null}function Yo(e){const t=Y(e);if(t.Pe===null){t.Pe=[];const n=qD(t),i=KD(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new qo(n)),t.Pe.push(new qo(pe.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.Pe.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new qo(pe.keyField(),s))}}}return t.Pe}function Pn(e){const t=Y(e);return t.Ie||(t.Ie=GD(t,Yo(e))),t.Ie}function GD(e,t){if(e.limitType==="F")return W0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new qo(r.field,s)});const n=e.endAt?new Lc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Lc(e.startAt.position,e.startAt.inclusive):null;return W0(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Lp(e,t,n){return new Dh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oh(e,t){return Wg(Pn(e),Pn(t))&&e.limitType===t.limitType}function hS(e){return`${Hg(Pn(e))}|lt:${e.limitType}`}function qr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>lS(r)).join(", ")}]`),Mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ls(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ls(r)).join(",")),`Target(${i})`}(Pn(e))}; limitType=${e.limitType})`}function Nh(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):B.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Yo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Yo(i),r)||i.endAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Yo(i),r))}(e,t)}function QD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fS(e){return(t,n)=>{let i=!1;for(const r of Yo(e)){const s=XD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function XD(e,t,n){const i=e.field.isKeyField()?B.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ns(l,u):U()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return U()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return eS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Ct(B.comparator);function si(){return JD}const dS=new Ct(B.comparator);function ko(...e){let t=dS;for(const n of e)t=t.insert(n.key,n);return t}function pS(e){let t=dS;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function gr(){return Go()}function mS(){return Go()}function Go(){return new to(e=>e.toString(),(e,t)=>e.isEqual(t))}const ZD=new Ct(B.comparator),tO=new ve(B.comparator);function X(...e){let t=tO;for(const n of e)t=t.add(n);return t}const eO=new ve(rt);function nO(){return eO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(t)?"-0":t}}function yS(e){return{integerValue:""+e}}function iO(e,t){return RD(t)?yS(t):gS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function rO(e,t,n){return e instanceof Vc?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Bg(s)&&(s=jg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof $a?_S(e,t):e instanceof Ba?wS(e,t):function(r,s){const o=vS(r,s),a=q0(o)+q0(r.Te);return Dp(o)&&Dp(r.Te)?yS(a):gS(r.serializer,a)}(e,t)}function sO(e,t,n){return e instanceof $a?_S(e,t):e instanceof Ba?wS(e,t):n}function vS(e,t){return e instanceof Fc?function(i){return Dp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Vc extends Lh{}class $a extends Lh{constructor(t){super(),this.elements=t}}function _S(e,t){const n=xS(t);for(const i of e.elements)n.some(r=>Dn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ba extends Lh{constructor(t){super(),this.elements=t}}function wS(e,t){let n=xS(t);for(const i of e.elements)n=n.filter(r=>!Dn(r,i));return{arrayValue:{values:n}}}class Fc extends Lh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function q0(e){return zt(e.integerValue||e.doubleValue)}function xS(e){return Ug(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function oO(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof $a&&r instanceof $a||i instanceof Ba&&r instanceof Ba?Os(i.elements,r.elements,Dn):i instanceof Fc&&r instanceof Fc?Dn(i.Te,r.Te):i instanceof Vc&&r instanceof Vc}(e.transform,t.transform)}class aO{constructor(t,n){this.version=t,this.transformResults=n}}class Cn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Cn}static exists(t){return new Cn(void 0,t)}static updateTime(t){return new Cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vh{}function ES(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Kg(e.key,Cn.none()):new yl(e.key,e.data,Cn.none());{const n=e.data,i=Qe.empty();let r=new ve(pe.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new zr(e.key,i,new ln(r.toArray()),Cn.none())}}function lO(e,t,n){e instanceof yl?function(r,s,o){const a=r.value.clone(),l=G0(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof zr?function(r,s,o){if(!Nu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bS(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Qo(e,t,n,i){return e instanceof yl?function(s,o,a,l){if(!Nu(s.precondition,o))return a;const u=s.value.clone(),c=Q0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof zr?function(s,o,a,l){if(!Nu(s.precondition,o))return a;const u=Q0(s.fieldTransforms,l,o),c=o.data;return c.setAll(bS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(s,o,a){return Nu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function uO(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=vS(i.transform,r||null);s!=null&&(n===null&&(n=Qe.empty()),n.set(i.field,s))}return n||null}function Y0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Os(i,r,(s,o)=>oO(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yl extends Vh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zr extends Vh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function G0(e,t,n){const i=new Map;Et(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,sO(o,a,n[r]))}return i}function Q0(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,rO(s,o,t))}return i}class Kg extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cO extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&lO(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Qo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Qo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=mS();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=ES(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(K.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),X())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,(n,i)=>Y0(n,i))&&Os(this.baseMutations,t.baseMutations,(n,i)=>Y0(n,i))}}class qg{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Et(t.mutations.length===i.length);let r=function(){return ZD}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new qg(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,tt;function pO(e){switch(e){default:return U();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function SS(e){if(e===void 0)return ri("GRPC error has no .code"),k.UNKNOWN;switch(e){case Ft.OK:return k.OK;case Ft.CANCELLED:return k.CANCELLED;case Ft.UNKNOWN:return k.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return k.INTERNAL;case Ft.UNAVAILABLE:return k.UNAVAILABLE;case Ft.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ft.NOT_FOUND:return k.NOT_FOUND;case Ft.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ft.ABORTED:return k.ABORTED;case Ft.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ft.DATA_LOSS:return k.DATA_LOSS;default:return U()}}(tt=Ft||(Ft={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new xs([4294967295,4294967295],0);function X0(e){const t=mO().encode(e),n=new gD;return n.update(t),new Uint8Array(n.digest())}function J0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xs([n,i],0),new xs([r,s],0)]}class Yg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ao(`Invalid padding: ${n}`);if(i<0)throw new Ao(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*t.length-n,this.Re=xs.fromNumber(this.Ae)}Ve(t,n,i){let r=t.add(n.multiply(xs.fromNumber(i)));return r.compare(gO)===1&&(r=new xs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}me(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ae===0)return!1;const n=X0(t),[i,r]=J0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(i,r,s);if(!this.me(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Yg(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ae===0)return;const n=X0(t),[i,r]=J0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(i,r,s);this.fe(o)}}fe(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,vl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Fh(K.min(),r,new Ct(rt),si(),X())}}class vl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new vl(i,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,n,i,r){this.ge=t,this.removedTargetIds=n,this.key=i,this.pe=r}}class TS{constructor(t,n){this.targetId=t,this.ye=n}}class kS{constructor(t,n,i=we.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Z0{constructor(){this.we=0,this.Se=e_(),this.be=we.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(t){t.approximateByteSize()>0&&(this.Ce=!0,this.be=t)}xe(){let t=X(),n=X(),i=X();return this.Se.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:U()}}),new vl(this.be,this.De,t,n,i)}Oe(){this.Ce=!1,this.Se=e_()}Ne(t,n){this.Ce=!0,this.Se=this.Se.insert(t,n)}Be(t){this.Ce=!0,this.Se=this.Se.remove(t)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class yO{constructor(t){this.Qe=t,this.Ke=new Map,this.$e=si(),this.Ue=t_(),this.We=new Ct(rt)}Ge(t){for(const n of t.ge)t.pe&&t.pe.isFoundDocument()?this.ze(n,t.pe):this.je(n,t.key,t.pe);for(const n of t.removedTargetIds)this.je(n,t.key,t.pe)}He(t){this.forEachTarget(t,n=>{const i=this.Je(n);switch(t.state){case 0:this.Ye(n)&&i.Me(t.resumeToken);break;case 1:i.ke(),i.ve||i.Oe(),i.Me(t.resumeToken);break;case 2:i.ke(),i.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(i.qe(),i.Me(t.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),i.Me(t.resumeToken));break;default:U()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ke.forEach((i,r)=>{this.Ye(r)&&n(r)})}Xe(t){const n=t.targetId,i=t.ye.count,r=this.et(n);if(r){const s=r.target;if(Np(s))if(i===0){const o=new B(s.path);this.je(n,o,de.newNoDocument(o,K.min()))}else Et(i===1);else{const o=this.tt(n);if(o!==i){const a=this.nt(t),l=a?this.rt(a,t,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(t){const n=t.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Mr(i).toUint8Array()}catch(l){if(l instanceof nS)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yg(o,r,s)}catch(l){return Ds(l instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(t,n,i){return n.ye.count===i-this.ot(t,n.targetId)?0:2}ot(t,n){const i=this.Qe.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.je(n,s,null),r++)}),r}_t(t){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Np(a.target)){const l=new B(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,de.newNoDocument(l,t))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let i=X();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(t));const r=new Fh(t,n,this.We,this.$e,i);return this.$e=si(),this.Ue=t_(),this.We=new Ct(rt),r}ze(t,n){if(!this.Ye(t))return;const i=this.ut(t,n.key)?2:0;this.Je(t).Ne(n.key,i),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}je(t,n,i){if(!this.Ye(t))return;const r=this.Je(t);this.ut(t,n)?r.Ne(n,1):r.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),i&&(this.$e=this.$e.insert(n,i))}removeTarget(t){this.Ke.delete(t)}tt(t){const n=this.Je(t).xe();return this.Qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Le(t){this.Je(t).Le()}Je(t){let n=this.Ke.get(t);return n||(n=new Z0,this.Ke.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new ve(rt),this.Ue=this.Ue.insert(t,n)),n}Ye(t){const n=this.et(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}et(t){const n=this.Ke.get(t);return n&&n.ve?null:this.Qe.lt(t)}Ze(t){this.Ke.set(t,new Z0),this.Qe.getRemoteKeysForTarget(t).forEach(n=>{this.je(t,n,null)})}ut(t,n){return this.Qe.getRemoteKeysForTarget(t).has(n)}}function t_(){return new Ct(B.comparator)}function e_(){return new Ct(B.comparator)}const vO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_O=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wO=(()=>({and:"AND",or:"OR"}))();class xO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vp(e,t){return e.useProto3Json||Mh(t)?t:{value:t}}function zc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EO(e,t){return zc(e,t.toTimestamp())}function Rn(e){return Et(!!e),K.fromTimestamp(function(n){const i=Ui(n);return new Kt(i.seconds,i.nanos)}(e))}function Gg(e,t){return function(i){return new Tt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function IS(e){const t=Tt.fromString(e);return Et(MS(t)),t}function Fp(e,t){return Gg(e.databaseId,t.path)}function Bf(e,t){const n=IS(t);if(n.get(1)!==e.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(PS(n))}function zp(e,t){return Gg(e.databaseId,t)}function bO(e){const t=IS(e);return t.length===4?Tt.emptyPath():PS(t)}function $p(e){return new Tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PS(e){return Et(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function n_(e,t,n){return{name:Fp(e,t),fields:n.value.mapValue.fields}}function SO(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Et(c===void 0||typeof c=="string"),we.fromBase64String(c||"")):(Et(c===void 0||c instanceof Uint8Array),we.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:SS(u.code);return new $(c,u.message||"")}(o);n=new kS(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bf(e,i.document.name),s=Rn(i.document.updateTime),o=i.document.createTime?Rn(i.document.createTime):K.min(),a=new Qe({mapValue:{fields:i.document.fields}}),l=de.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Lu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Bf(e,i.document),s=i.readTime?Rn(i.readTime):K.min(),o=de.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Lu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Bf(e,i.document),s=i.removedTargetIds||[];n=new Lu([],s,r,null)}else{if(!("filter"in t))return U();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new dO(r,s),a=i.targetId;n=new TS(a,o)}}return n}function TO(e,t){let n;if(t instanceof yl)n={update:n_(e,t.key,t.value)};else if(t instanceof Kg)n={delete:Fp(e,t.key)};else if(t instanceof zr)n={update:n_(e,t.key,t.data),updateMask:OO(t.fieldMask)};else{if(!(t instanceof cO))return U();n={verify:Fp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw U()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:EO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(e,t.precondition)),n}function kO(e,t){return e&&e.length>0?(Et(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Rn(r.updateTime):Rn(s);return o.isEqual(K.min())&&(o=Rn(s)),new aO(o,r.transformResults||[])}(n,t))):[]}function AO(e,t){return{documents:[zp(e,t.path)]}}function IO(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=zp(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zp(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return RS(On.create(l,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Yr(h.field),direction:RO(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Vp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function PO(e){let t=bO(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Et(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=CS(h);return f instanceof On&&oS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new qo(Gr(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Mh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Lc(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new Lc(d,f)}(n.endAt)),WD(t,r,o,s,a,"F",l,u)}function CO(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function CS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gr(n.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gr(n.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gr(n.unaryFilter.field);return Ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gr(n.unaryFilter.field);return Ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(e):e.fieldFilter!==void 0?function(n){return Ut.create(Gr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(i=>CS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(e):U()}function RO(e){return vO[e]}function MO(e){return _O[e]}function DO(e){return wO[e]}function Yr(e){return{fieldPath:e.canonicalString()}}function Gr(e){return pe.fromServerFormat(e.fieldPath)}function RS(e){return e instanceof Ut?function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NAN"}};if(B0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NAN"}};if(B0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(n.field),op:MO(n.op),value:n.value}}}(e):e instanceof On?function(n){const i=n.getFilters().map(r=>RS(r));return i.length===1?i[0]:{compositeFilter:{op:DO(n.op),filters:i}}}(e):U()}function OO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,i,r,s=K.min(),o=K.min(),a=we.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new vi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.ht=t}}function LO(e){const t=PO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.an=new FO}addToCollectionParentIndex(t,n){return this.an.add(n),T.resolve()}getCollectionParents(t,n){return T.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return T.resolve()}deleteFieldIndex(t,n){return T.resolve()}deleteAllFieldIndexes(t){return T.resolve()}createTargetIndexes(t,n){return T.resolve()}getDocumentsMatchingTarget(t,n){return T.resolve(null)}getIndexType(t,n){return T.resolve(0)}getFieldIndexes(t,n){return T.resolve([])}getNextCollectionGroupToUpdate(t){return T.resolve(null)}getMinOffset(t,n){return T.resolve(ji.min())}getMinOffsetFromCollectionGroup(t,n){return T.resolve(ji.min())}updateCollectionGroup(t,n,i){return T.resolve()}updateIndexEntries(t,n){return T.resolve()}}class FO{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ve(Tt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ve(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Bn(){return new Vs(0)}static Ln(){return new Vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new to(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,de.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?T.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Qo(i.mutation,r,ln.empty(),Kt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,X()).next(()=>i))}getLocalViewOfDocuments(t,n,i=X()){const r=gr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=ko();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=gr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,X()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=si();const o=Go(),a=function(){return Go()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof zr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Qo(c.mutation,u,c.mutation.getFieldMask(),Kt.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new $O(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Go();let r=new Ct((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||ln.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||X()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=mS();c.forEach(f=>{if(!s.has(f)){const d=ES(n.get(f),i.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return T.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):YD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):T.resolve(gr());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,X())).next(c=>({batchId:a,changes:pS(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(i=>{let r=ko();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=ko();return this.indexManager.getCollectionParents(t,s).next(a=>T.forEach(a,l=>{const u=function(h,f){return new Dh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,de.newInvalidDocument(c)))});let a=ko();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Qo(c.mutation,u,ln.empty(),Kt.now()),Nh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return T.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Rn(r.createTime)}}(n)),T.resolve()}getNamedQuery(t,n){return T.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,function(r){return{name:r.name,query:LO(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new Ct(B.comparator),this.Pr=new Map}getOverlay(t,n){return T.resolve(this.overlays.get(n))}getOverlays(t,n){const i=gr();return T.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.It(t,n,s)}),T.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),T.resolve()}getOverlaysForCollection(t,n,i){const r=gr(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return T.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=gr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return T.resolve(a)}It(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new fO(n,i));let s=this.Pr.get(n);s===void 0&&(s=X(),this.Pr.set(n,s)),this.Pr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Ir=new ve(Yt.dr),this.Tr=new ve(Yt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const i=new Yt(t,n);this.Ir=this.Ir.add(i),this.Tr=this.Tr.add(i)}Ar(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Rr(new Yt(t,n))}Vr(t,n){t.forEach(i=>this.removeReference(i,n))}mr(t){const n=new B(new Tt([])),i=new Yt(n,t),r=new Yt(n,t+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Tr=this.Tr.delete(t)}pr(t){const n=new B(new Tt([])),i=new Yt(n,t),r=new Yt(n,t+1);let s=X();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Yt(t,0),i=this.Ir.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,n){this.key=t,this.yr=n}static dr(t,n){return B.comparator(t.key,n.key)||rt(t.yr,n.yr)}static Er(t,n){return rt(t.yr,n.yr)||B.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new ve(Yt.dr)}checkEmpty(t){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hO(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Sr=this.Sr.add(new Yt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(t,n){return T.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Dr(i),s=r<0?0:r;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(t){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Yt(n,0),r=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{const a=this.br(o.yr);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ve(rt);return n.forEach(r=>{const s=new Yt(r,0),o=new Yt(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),T.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;B.isDocumentKey(s)||(s=s.child(""));const o=new Yt(new B(s),0);let a=new ve(rt);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.yr)),!0)},o),T.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.br(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Et(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return T.forEach(n.mutations,r=>{const s=new Yt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Sr=i})}xn(t){}containsKey(t,n){const i=new Yt(n,0),r=this.Sr.firstAfterOrEqual(i);return T.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,T.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.Fr=t,this.docs=function(){return new Ct(B.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return T.resolve(i?i.document.mutableCopy():de.newInvalidDocument(n))}getEntries(t,n){let i=si();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():de.newInvalidDocument(r))}),T.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=si();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ID(AD(c),i)<=0||(r.has(c.key)||Nh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(t,n,i,r){U()}Mr(t,n){return T.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new KO(this)}getSize(t){return T.resolve(this.size)}}class KO extends zO{constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ur.addEntry(t,r)):this.ur.removeEntry(i)}),T.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.persistence=t,this.Or=new to(n=>Hg(n),Wg),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Qg,this.targetCount=0,this.Lr=Vs.Bn()}forEachTarget(t,n){return this.Or.forEach((i,r)=>n(r)),T.resolve()}getLastRemoteSnapshotVersion(t){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return T.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Nr&&(this.Nr=n),T.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Vs(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,T.resolve()}updateTargetData(t,n){return this.Qn(n),T.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),T.waitFor(s).next(()=>r)}getTargetCount(t){return T.resolve(this.targetCount)}getTargetData(t,n){const i=this.Or.get(n)||null;return T.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Ar(n,i),T.resolve()}removeMatchingKeys(t,n,i){this.Br.Vr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.mr(n),T.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.pr(n);return T.resolve(i)}containsKey(t,n){return T.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,n){this.kr={},this.overlays={},this.qr=new $g(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new qO(this),this.indexManager=new VO,this.remoteDocumentCache=function(r){return new WO(r)}(i=>this.referenceDelegate.$r(i)),this.serializer=new NO(n),this.Ur=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new UO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.kr[t.toKey()];return i||(i=new HO(n,this.referenceDelegate),this.kr[t.toKey()]=i),i}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(t,n,i){V("MemoryPersistence","Starting transaction:",t);const r=new GO(this.qr.next());return this.referenceDelegate.Wr(),i(r).next(s=>this.referenceDelegate.Gr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zr(t,n){return T.or(Object.values(this.kr).map(i=>()=>i.containsKey(t,n)))}}class GO extends CD{constructor(t){super(),this.currentSequenceNumber=t}}class Xg{constructor(t){this.persistence=t,this.jr=new Qg,this.Hr=null}static Jr(t){return new Xg(t)}get Yr(){if(this.Hr)return this.Hr;throw U()}addReference(t,n,i){return this.jr.addReference(i,n),this.Yr.delete(i.toString()),T.resolve()}removeReference(t,n,i){return this.jr.removeReference(i,n),this.Yr.add(i.toString()),T.resolve()}markPotentiallyOrphaned(t,n){return this.Yr.add(n.toString()),T.resolve()}removeTarget(t,n){this.jr.mr(n.targetId).forEach(r=>this.Yr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Yr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Wr(){this.Hr=new Set}Gr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Yr,i=>{const r=B.fromPath(i);return this.Zr(t,r).next(s=>{s||n.removeEntry(r,K.min())})}).next(()=>(this.Hr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Zr(t,n).next(i=>{i?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(t){return 0}Zr(t,n){return T.or([()=>T.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.zr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Qi=i,this.Ki=r}static $i(t,n){let i=X(),r=X();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Jg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(t,n){this.ji=t,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Hi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QO;return this.Yi(t,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(t,n,o,a.size)})}).next(()=>s.result)}Zi(t,n,i,r){return i.documentReadCount<this.Gi?(fo()<=et.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),T.resolve()):(fo()<=et.DEBUG&&V("QueryEngine","Query:",qr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.zi*r?(fo()<=et.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pn(n))):T.resolve())}Hi(t,n){if(K0(n))return T.resolve(null);let i=Pn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Lp(n,null,"F"),i=Pn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=X(...s);return this.ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(t,Lp(n,null,"F")):this.ts(t,u,n,l)}))})))}Ji(t,n,i,r){return K0(n)||r.isEqual(K.min())?T.resolve(null):this.ji.getDocuments(t,i).next(s=>{const o=this.Xi(n,s);return this.es(n,o,i,r)?T.resolve(null):(fo()<=et.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qr(n)),this.ts(t,o,n,kD(r,-1)).next(a=>a))})}Xi(t,n){let i=new ve(fS(t));return n.forEach((r,s)=>{Nh(t,s)&&(i=i.add(s))}),i}es(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Yi(t,n,i){return fo()<=et.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",qr(n)),this.ji.getDocumentsMatchingQuery(t,n,ji.min(),i)}ts(t,n,i,r){return this.ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n,i,r){this.persistence=t,this.ns=n,this.serializer=r,this.rs=new Ct(rt),this.ss=new to(s=>Hg(s),Wg),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(i)}us(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BO(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.rs))}}function ZO(e,t,n,i){return new JO(e,t,n,i)}async function DS(e,t){const n=Y(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.us(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=X();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function tN(e,t){const n=Y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=T.resolve();return f.forEach(m=>{d=d.next(()=>c.getEntry(l,m)).next(y=>{const v=u.docVersions.get(m);Et(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=X();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function OS(e){const t=Y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Kr.getLastRemoteSnapshotVersion(n))}function eN(e,t){const n=Y(e),i=t.snapshotVersion;let r=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});r=n.rs;const a=[];t.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(we.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(h,d),function(y,v,g){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,d,c)&&a.push(n.Kr.updateTargetData(s,d))});let l=si(),u=X();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(nN(s,o,t.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!i.isEqual(K.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(h=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=r,s))}function nN(e,t,n){let i=X(),r=X();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=si();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(K.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:r}})}function iN(e,t){const n=Y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rN(e,t){const n=Y(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Kr.getTargetData(i,t).next(s=>s?(r=s,T.resolve(r)):n.Kr.allocateTargetId(i).next(o=>(r=new vi(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Kr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.rs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(i.targetId,i),n.ss.set(t,i.targetId)),i})}async function Bp(e,t,n){const i=Y(e),r=i.rs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!gl(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.rs=i.rs.remove(t),i.ss.delete(r.target)}function i_(e,t,n){const i=Y(e);let r=K.min(),s=X();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Y(l),f=h.ss.get(c);return f!==void 0?T.resolve(h.rs.get(f)):h.Kr.getTargetData(u,c)}(i,o,Pn(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ns.getDocumentsMatchingQuery(o,t,n?r:K.min(),n?s:X())).next(a=>(sN(i,QD(t),a),{documents:a,Ps:s})))}function sN(e,t,n){let i=e.os.get(t)||K.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.os.set(t,i)}class r_{constructor(){this.activeTargetIds=nO()}Rs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}As(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oN{constructor(){this.ro=new r_,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.ro.Rs(t),this.io[t]||"not-current"}updateQueryState(t,n,i){this.io[t]=n}removeLocalQueryTarget(t){this.ro.Vs(t)}isLocalQueryTarget(t){return this.ro.activeTargetIds.has(t)}clearQueryState(t){delete this.io[t]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(t){return this.ro.activeTargetIds.has(t)}start(){return this.ro=new r_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{so(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(t){this.co.push(t)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.co)t(0)}uo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.co)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function jf(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.ho=t.ho,this.Po=t.Po}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.Po()}send(t){this.ho(t)}Vo(){this.To()}mo(t){this.Ao(t)}fo(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue="WebChannelConnection";class cN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=i+"://"+n.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get So(){return!1}bo(n,i,r,s,o){const a=jf(),l=this.Do(n,i);V("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,r).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ds("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Fo(n,i,r,s,o,a){return this.bo(n,i,r,s,o)}Co(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Do(n,i){const r=lN[n];return`${this.po}/v1/${i}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,r){const s=jf();return new Promise((o,a)=>{const l=new mD;l.setWithCredentials(!0),l.listenOnce(dD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $f.NO_ERROR:const c=l.getResponseJson();V(ue,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case $f.TIMEOUT:V(ue,`RPC '${t}' ${s} timed out`),a(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const h=l.getStatus();if(V(ue,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(g)>=0?g:k.UNKNOWN}(d.status);a(new $(m,d.message))}else a(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(k.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{V(ue,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);V(ue,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Mo(t,n,i){const r=jf(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=hD(),a=fD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");V(ue,`Creating RPC '${t}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const m=new uN({ho:v=>{d?V(ue,`Not sending because RPC '${t}' stream ${r} is closed:`,v):(f||(V(ue,`Opening RPC '${t}' stream ${r} transport.`),h.open(),f=!0),V(ue,`RPC '${t}' stream ${r} sending:`,v),h.send(v))},Po:()=>h.close()}),y=(v,g,p)=>{v.listen(g,_=>{try{p(_)}catch(w){setTimeout(()=>{throw w},0)}})};return y(h,eu.EventType.OPEN,()=>{d||V(ue,`RPC '${t}' stream ${r} transport opened.`)}),y(h,eu.EventType.CLOSE,()=>{d||(d=!0,V(ue,`RPC '${t}' stream ${r} transport closed`),m.mo())}),y(h,eu.EventType.ERROR,v=>{d||(d=!0,Ds(ue,`RPC '${t}' stream ${r} transport errored:`,v),m.mo(new $(k.UNAVAILABLE,"The operation could not be completed")))}),y(h,eu.EventType.MESSAGE,v=>{var g;if(!d){const p=v.data[0];Et(!!p);const _=p,w=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(w){V(ue,`RPC '${t}' stream ${r} received error:`,w);const x=w.status;let E=function(P){const R=Ft[P];if(R!==void 0)return SS(R)}(x),b=w.message;E===void 0&&(E=k.INTERNAL,b="Unknown error status: "+x+" with message "+w.message),d=!0,m.mo(new $(E,b)),h.close()}else V(ue,`RPC '${t}' stream ${r} received:`,p),m.fo(p)}}),y(a,pD.STAT_EVENT,v=>{v.stat===L0.PROXY?V(ue,`RPC '${t}' stream ${r} detected buffering proxy`):v.stat===L0.NOPROXY&&V(ue,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e){return new xO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n,i=1e3,r=1.5,s=6e4){this._i=t,this.timerId=n,this.xo=i,this.Oo=r,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(t){this.cancel();const n=Math.floor(this.Bo+this.Ko()),i=Math.max(0,Date.now()-this.ko),r=Math.max(0,n-i);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,r,()=>(this.ko=Date.now(),t())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n,i,r,s,o,a,l){this._i=t,this.Uo=i,this.Wo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new NS(t,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(t){this.r_(),this.stream.send(t)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(t,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,t!==4?this.Ho.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Go===n&&this.__(i,r)},i=>{t(()=>{const r=new $(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.a_(r)})})}__(t,n){const i=this.o_(this.Go);this.stream=this.u_(t,n),this.stream.Io(()=>{i(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(r=>{i(()=>this.a_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}o_(t){return n=>{this._i.enqueueAndForget(()=>this.Go===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends LS{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}u_(t,n){return this.connection.Mo("Listen",t,n)}onMessage(t){this.Ho.reset();const n=SO(this.serializer,t),i=function(s){if(!("targetChange"in s))return K.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?K.min():o.readTime?Rn(o.readTime):K.min()}(t);return this.listener.c_(n,i)}l_(t){const n={};n.database=$p(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Np(l)?{documents:AO(s,l)}:{query:IO(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AS(s,o.resumeToken);const u=Vp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(K.min())>0){a.readTime=zc(s,o.snapshotVersion.toTimestamp());const u=Vp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=CO(this.serializer,t);i&&(n.labels=i),this.n_(n)}h_(t){const n={};n.database=$p(this.serializer),n.removeTarget=t,this.n_(n)}}class fN extends LS{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(t,n){return this.connection.Mo("Write",t,n)}onMessage(t){if(Et(!!t.streamToken),this.lastStreamToken=t.streamToken,this.P_){this.Ho.reset();const n=kO(t.writeResults,t.commitTime),i=Rn(t.commitTime);return this.listener.T_(i,n)}return Et(!t.writeResults||t.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const t={};t.database=$p(this.serializer),this.n_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>TO(this.serializer,i))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.R_=!1}V_(){if(this.R_)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.bo(t,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(k.UNKNOWN,r.toString())})}Fo(t,n,i,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(t,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class pN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(t){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.w_("Offline")))}set(t){this.D_(),this.f_=0,t==="Online"&&(this.p_=!1),this.w_(t)}w_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}S_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ri(n),this.p_=!1):V("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{i.enqueueAndForget(async()=>{$r(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Y(l);u.F_.add(4),await _l(u),u.O_.set("Unknown"),u.F_.delete(4),await $h(u)}(this))})}),this.O_=new pN(i,r)}}async function $h(e){if($r(e))for(const t of e.M_)await t(!0)}async function _l(e){for(const t of e.M_)await t(!1)}function VS(e,t){const n=Y(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),ey(n)?ty(n):eo(n).Yo()&&Zg(n,t))}function FS(e,t){const n=Y(e),i=eo(n);n.v_.delete(t),i.Yo()&&zS(n,t),n.v_.size===0&&(i.Yo()?i.e_():$r(n)&&n.O_.set("Unknown"))}function Zg(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(K.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eo(e).l_(t)}function zS(e,t){e.N_.Le(t),eo(e).h_(t)}function ty(e){e.N_=new yO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.v_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),eo(e).start(),e.O_.y_()}function ey(e){return $r(e)&&!eo(e).Jo()&&e.v_.size>0}function $r(e){return Y(e).F_.size===0}function $S(e){e.N_=void 0}async function gN(e){e.v_.forEach((t,n)=>{Zg(e,t)})}async function yN(e,t){$S(e),ey(e)?(e.O_.b_(t),ty(e)):e.O_.set("Unknown")}async function vN(e,t,n){if(e.O_.set("Online"),t instanceof kS&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.v_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.v_.delete(a),r.N_.removeTarget(a))}(e,t)}catch(i){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $c(e,i)}else if(t instanceof Lu?e.N_.Ge(t):t instanceof TS?e.N_.Xe(t):e.N_.He(t),!n.isEqual(K.min()))try{const i=await OS(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(we.EMPTY_BYTE_STRING,c.snapshotVersion)),zS(s,l);const h=new vi(c.target,l,u,c.sequenceNumber);Zg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){V("RemoteStore","Failed to raise snapshot:",i),await $c(e,i)}}async function $c(e,t,n){if(!gl(t))throw t;e.F_.add(1),await _l(e),e.O_.set("Offline"),n||(n=()=>OS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await $h(e)})}function BS(e,t){return t().catch(n=>$c(e,n,t))}async function Bh(e){const t=Y(e),n=Hi(t);let i=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;_N(t);)try{const r=await iN(t.localStore,i);if(r===null){t.C_.length===0&&n.e_();break}i=r.batchId,wN(t,r)}catch(r){await $c(t,r)}jS(t)&&US(t)}function _N(e){return $r(e)&&e.C_.length<10}function wN(e,t){e.C_.push(t);const n=Hi(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function jS(e){return $r(e)&&!Hi(e).Jo()&&e.C_.length>0}function US(e){Hi(e).start()}async function xN(e){Hi(e).A_()}async function EN(e){const t=Hi(e);for(const n of e.C_)t.d_(n.mutations)}async function bN(e,t,n){const i=e.C_.shift(),r=qg.from(i,t,n);await BS(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Bh(e)}async function SN(e,t){t&&Hi(e).I_&&await async function(i,r){if(function(o){return pO(o)&&o!==k.ABORTED}(r.code)){const s=i.C_.shift();Hi(i).Xo(),await BS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Bh(i)}}(e,t),jS(e)&&US(e)}async function o_(e,t){const n=Y(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const i=$r(n);n.F_.add(3),await _l(n),i&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await $h(n)}async function TN(e,t){const n=Y(e);t?(n.F_.delete(2),await $h(n)):t||(n.F_.add(2),await _l(n),n.O_.set("Unknown"))}function eo(e){return e.B_||(e.B_=function(n,i,r){const s=Y(n);return s.V_(),new hN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Io:gN.bind(null,e),Eo:yN.bind(null,e),c_:vN.bind(null,e)}),e.M_.push(async t=>{t?(e.B_.Xo(),ey(e)?ty(e):e.O_.set("Unknown")):(await e.B_.stop(),$S(e))})),e.B_}function Hi(e){return e.L_||(e.L_=function(n,i,r){const s=Y(n);return s.V_(),new fN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Io:xN.bind(null,e),Eo:SN.bind(null,e),E_:EN.bind(null,e),T_:bN.bind(null,e)}),e.M_.push(async t=>{t?(e.L_.Xo(),await Bh(e)):(await e.L_.stop(),e.C_.length>0&&(V("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new ny(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(e,t){if(ri("AsyncQueue",`${t}: ${e}`),gl(e))return new $(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this.comparator=t?(n,i)=>t(n,i)||B.comparator(n.key,i.key):(n,i)=>B.comparator(n.key,i.key),this.keyedMap=ko(),this.sortedSet=new Ct(this.comparator)}static emptySet(t){return new Es(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Es)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Es;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.k_=new Ct(B.comparator)}track(t){const n=t.doc.key,i=this.k_.get(n);i?t.type!==0&&i.type===3?this.k_=this.k_.insert(n,t):t.type===3&&i.type!==1?this.k_=this.k_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.k_=this.k_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.k_=this.k_.remove(n):t.type===1&&i.type===2?this.k_=this.k_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):U():this.k_=this.k_.insert(n,t)}q_(){const t=[];return this.k_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Fs{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fs(t,n,Es.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Q_=void 0,this.listeners=[]}}class AN{constructor(){this.queries=new to(t=>hS(t),Oh),this.onlineState="Unknown",this.K_=new Set}}async function IN(e,t){const n=Y(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new kN),r)try{s.Q_=await n.onListen(i)}catch(o){const a=iy(o,`Initialization of query '${qr(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.listeners.push(t),t.U_(n.onlineState),s.Q_&&t.W_(s.Q_)&&ry(n)}async function PN(e,t){const n=Y(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function CN(e,t){const n=Y(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(r)&&(i=!0);o.Q_=r}}i&&ry(n)}function RN(e,t,n){const i=Y(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function ry(e){e.K_.forEach(t=>{t.next()})}class MN{constructor(t,n,i){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Fs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Z_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.key=t}}class WS{constructor(t){this.key=t}}class DN{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=X(),this.mutatedKeys=X(),this.ua=fS(t),this.ca=new Es(this.ua)}get la(){return this.oa}ha(t,n){const i=n?n.Pa:new a_,r=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,h)=>{const f=r.get(c),d=Nh(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?m!==y&&(i.track({type:3,doc:d}),v=!0):this.Ia(f,d)||(i.track({type:2,doc:d}),v=!0,(l&&this.ua(d,l)>0||u&&this.ua(d,u)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),v=!0):f&&!d&&(i.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(d?(o=o.add(d),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{ca:o,Pa:i,es:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.q_();s.sort((u,c)=>function(f,d){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return m(f)-m(d)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(i);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Fs(this.query,t.ca,r,s,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new a_,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}da(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this.aa;this.aa=X(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});const n=[];return t.forEach(i=>{this.aa.has(i)||n.push(new WS(i))}),this.aa.forEach(i=>{t.has(i)||n.push(new HS(i))}),n}Ra(t){this.oa=t.Ps,this.aa=X();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Fs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class ON{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class NN{constructor(t){this.key=t,this.ma=!1}}class LN{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new to(a=>hS(a),Oh),this.pa=new Map,this.ya=new Set,this.wa=new Ct(B.comparator),this.Sa=new Map,this.ba=new Qg,this.Da={},this.Ca=new Map,this.va=Vs.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function VN(e,t){const n=qN(e);let i,r;const s=n.ga.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{const o=await rN(n.localStore,Pn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await FN(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&VS(n.remoteStore,o)}return r}async function FN(e,t,n,i,r){e.Ma=(h,f,d)=>async function(y,v,g,p){let _=v.view.ha(g);_.es&&(_=await i_(y.localStore,v.query,!1).then(({documents:E})=>v.view.ha(E,_)));const w=p&&p.targetChanges.get(v.targetId),x=v.view.applyChanges(_,y.isPrimaryClient,w);return u_(y,v.targetId,x.Ea),x.snapshot}(e,h,f,d);const s=await i_(e.localStore,t,!0),o=new DN(t,s.Ps),a=o.ha(s.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);u_(e,n,u.Ea);const c=new ON(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function zN(e,t){const n=Y(e),i=n.ga.get(t),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!Oh(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Bp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),FS(n.remoteStore,i.targetId),jp(n,i.targetId)}).catch(ml)):(jp(n,i.targetId),await Bp(n.localStore,i.targetId,!0))}async function $N(e,t,n){const i=YN(e);try{const r=await function(o,a){const l=Y(o),u=Kt.now(),c=a.reduce((d,m)=>d.add(m.key),X());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=si(),y=X();return l._s.getEntries(d,c).next(v=>{m=v,m.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,m)).next(v=>{h=v;const g=[];for(const p of a){const _=uO(p,h.get(p.key).overlayedDocument);_!=null&&g.push(new zr(p.key,_,iS(_.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,g,a)}).next(v=>{f=v;const g=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(d,v.batchId,g)})}).then(()=>({batchId:f.batchId,changes:pS(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Ct(rt)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(i,r.batchId,n),await wl(i,r.changes),await Bh(i.remoteStore)}catch(r){const s=iy(r,"Failed to persist write");n.reject(s)}}async function KS(e,t){const n=Y(e);try{const i=await eN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Sa.get(s);o&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?Et(o.ma):r.removedDocuments.size>0&&(Et(o.ma),o.ma=!1))}),await wl(n,i,t)}catch(i){await ml(i)}}function l_(e,t,n){const i=Y(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.U_(a)&&(u=!0)}),u&&ry(l)}(i.eventManager,t),r.length&&i.fa.c_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function BN(e,t,n){const i=Y(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Sa.get(t),s=r&&r.key;if(s){let o=new Ct(B.comparator);o=o.insert(s,de.newNoDocument(s,K.min()));const a=X().add(s),l=new Fh(K.min(),new Map,new Ct(rt),o,a);await KS(i,l),i.wa=i.wa.remove(s),i.Sa.delete(t),sy(i)}else await Bp(i.localStore,t,!1).then(()=>jp(i,t,n)).catch(ml)}async function jN(e,t){const n=Y(e),i=t.batch.batchId;try{const r=await tN(n.localStore,t);YS(n,i,null),qS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wl(n,r)}catch(r){await ml(r)}}async function UN(e,t,n){const i=Y(e);try{const r=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Et(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);YS(i,t,n),qS(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await wl(i,r)}catch(r){await ml(r)}}function qS(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function YS(e,t,n){const i=Y(e);let r=i.Da[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Da[i.currentUser.toKey()]=r}}function jp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.pa.get(t))e.ga.delete(i),n&&e.fa.xa(i,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach(i=>{e.ba.containsKey(i)||GS(e,i)})}function GS(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(FS(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),sy(e))}function u_(e,t,n){for(const i of n)i instanceof HS?(e.ba.addReference(i.key,t),HN(e,i)):i instanceof WS?(V("SyncEngine","Document no longer in limbo: "+i.key),e.ba.removeReference(i.key,t),e.ba.containsKey(i.key)||GS(e,i.key)):U()}function HN(e,t){const n=t.key,i=n.path.canonicalString();e.wa.get(n)||e.ya.has(i)||(V("SyncEngine","New document in limbo: "+n),e.ya.add(i),sy(e))}function sy(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new B(Tt.fromString(t)),i=e.va.next();e.Sa.set(i,new NN(n)),e.wa=e.wa.insert(n,i),VS(e.remoteStore,new vi(Pn(cS(n.path)),i,"TargetPurposeLimboResolution",$g.ae))}}async function wl(e,t,n){const i=Y(e),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,l)=>{o.push(i.Ma(l,t,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=Jg.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.fa.c_(r),await async function(l,u){const c=Y(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>T.forEach(u,f=>T.forEach(f.Qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>T.forEach(f.Ki,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!gl(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.rs.get(f),m=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(m);c.rs=c.rs.insert(f,y)}}}(i.localStore,s))}async function WN(e,t){const n=Y(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const i=await DS(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new $(k.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await wl(n,i.cs)}}function KN(e,t){const n=Y(e),i=n.Sa.get(t);if(i&&i.ma)return X().add(i.key);{let r=X();const s=n.pa.get(t);if(!s)return r;for(const o of s){const a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function qN(e){const t=Y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BN.bind(null,t),t.fa.c_=CN.bind(null,t.eventManager),t.fa.xa=RN.bind(null,t.eventManager),t}function YN(e){const t=Y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UN.bind(null,t),t}class c_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return ZO(this.persistence,new XO,t.initialUser,this.serializer)}createPersistence(t){return new YO(Xg.Jr,this.serializer)}createSharedClientState(t){return new oN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await TN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AN}()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),i=function(s){return new cN(s)}(t.databaseInfo);return function(s,o,a,l){return new dN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new mN(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>l_(this.syncEngine,n,0),function(){return s_.C()?new s_:new aN}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const h=new LN(r,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=Y(n);V("RemoteStore","RemoteStore shutting down."),i.F_.add(5),await _l(i),i.x_.shutdown(),i.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):ri("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=he.UNAUTHENTICATED,this.clientId=tS.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=iy(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Hf(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await DS(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function h_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZN(e);V("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>o_(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>o_(t.remoteStore,s)),e._onlineComponents=t}function JN(e){return e.name==="FirebaseError"?e.code===k.FAILED_PRECONDITION||e.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function ZN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!JN(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Hf(e,new c_)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await Hf(e,new c_);return e._offlineComponents}async function QS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await h_(e,e._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await h_(e,new GN))),e._onlineComponents}function t4(e){return QS(e).then(t=>t.syncEngine)}async function e4(e){const t=await QS(e),n=t.eventManager;return n.onListen=VN.bind(null,t.syncEngine),n.onUnlisten=zN.bind(null,t.syncEngine),n}function n4(e,t,n={}){const i=new Oi;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new QN({next:f=>{o.enqueueAndForget(()=>PN(s,h)),f.fromCache&&l.source==="server"?u.reject(new $(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new MN(a,c,{includeMetadataChanges:!0,Z_:!0});return IN(s,h)}(await e4(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e,t,n){if(!n)throw new $(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function i4(e,t,n,i){if(t===!0&&i===!0)throw new $(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function d_(e){if(!B.isDocumentKey(e))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function p_(e){if(B.isDocumentKey(e))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":U()}function ja(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oy(e);throw new $(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XS((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yD;switch(i.type){case"firstParty":return new xD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=f_.get(n);i&&(V("ComponentProvider","Removing Datastore"),f_.delete(n),i.terminate())}(this),Promise.resolve()}}function r4(e,t,n,i={}){var r;const s=(e=ja(e,jh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=he.MOCK_USER;else{a=XC(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new he(u)}e._authCredentials=new vD(new Zb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Uh(this.firestore,t,this._query)}}class fn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}}class Ni extends Uh{constructor(t,n,i){super(t,n,cS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new B(t))}withConverter(t){return new Ni(this.firestore,t,this._path)}}function Up(e,t,...n){if(e=Ta(e),JS("collection","path",t),e instanceof jh){const i=Tt.fromString(t,...n);return p_(i),new Ni(e,null,i)}{if(!(e instanceof fn||e instanceof Ni))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Tt.fromString(t,...n));return p_(i),new Ni(e.firestore,null,i)}}function ZS(e,t,...n){if(e=Ta(e),arguments.length===1&&(t=tS.V()),JS("doc","path",t),e instanceof jh){const i=Tt.fromString(t,...n);return d_(i),new fn(e,null,new B(i))}{if(!(e instanceof fn||e instanceof Ni))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Tt.fromString(t,...n));return d_(i),new fn(e.firestore,e instanceof Ni?e.converter:null,new B(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new NS(this,"async_queue_retry"),this.ou=()=>{const n=Uf();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this._u(),this.au(t)}enterRestrictedMode(t){if(!this.eu){this.eu=!0,this.iu=t||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(t){if(this._u(),this.eu)return new Promise(()=>{});const n=new Oi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xa.push(t),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(t){if(!gl(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(t){const n=this.Za.then(()=>(this.ru=!0,t().catch(i=>{this.nu=i,this.ru=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ri("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.ru=!1,i))));return this.Za=n,n}enqueueAfterDelay(t,n,i){this._u(),this.su.indexOf(t)>-1&&(n=0);const r=ny.createAndSchedule(this,t,n,i,s=>this.cu(s));return this.tu.push(r),r}_u(){this.nu&&U()}verifyOperationInProgress(){}async lu(){let t;do t=this.Za,await t;while(t!==this.Za)}hu(t){for(const n of this.tu)if(n.timerId===t)return!0;return!1}Pu(t){return this.lu().then(()=>{this.tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lu()})}Iu(t){this.su.push(t)}cu(t){const n=this.tu.indexOf(t);this.tu.splice(n,1)}}class Hh extends jh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new s4}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e2(this),this._firestoreClient.terminate()}}function o4(e,t){const n=typeof e=="object"?e:eM(),i=typeof e=="string"?e:t||"(default)",r=XR(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=GC("firestore");s&&r4(r,...s)}return r}function t2(e){return e._firestoreClient||e2(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function e2(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new DD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XS(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new XN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zs(we.fromBase64String(t))}catch(n){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zs(we.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^__.*__$/;class l4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new zr(t,this.data,this.fieldMask,n,this.fieldTransforms):new yl(t,this.data,n,this.fieldTransforms)}}function i2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class uy{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new uy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Eu({path:i,Ru:!1});return r.Vu(t),r}mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Eu({path:i,Ru:!1});return r.du(),r}fu(t){return this.Eu({path:void 0,Ru:!0})}gu(t){return Bc(t,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vu(this.path.get(t))}Vu(t){if(t.length===0)throw this.gu("Document fields must not be empty");if(i2(this.Tu)&&a4.test(t))throw this.gu('Document fields cannot begin and end with "__"')}}class u4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||zh(t)}wu(t,n,i,r=!1){return new uy({Tu:t,methodName:n,yu:i,path:pe.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c4(e){const t=e._freezeSettings(),n=zh(e._databaseId);return new u4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function h4(e,t,n,i,r,s={}){const o=e.wu(s.merge||s.mergeFields?2:0,t,n,r);a2("Data must be an object, but it was:",o,i);const a=s2(i,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=f4(t,h,n);if(!o.contains(f))throw new $(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);p4(c,f)||c.push(f)}l=new ln(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new l4(new Qe(a),l,u)}function r2(e,t){if(o2(e=Ta(e)))return a2("Unsupported field value:",t,e),s2(e,t);if(e instanceof n2)return function(i,r){if(!i2(r.Tu))throw r.gu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&t.Tu!==4)throw t.gu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=r2(a,r.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ta(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Kt.fromDate(i);return{timestampValue:zc(r.serializer,s)}}if(i instanceof Kt){const s=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zc(r.serializer,s)}}if(i instanceof ly)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zs)return{bytesValue:AS(r.serializer,i._byteString)};if(i instanceof fn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gg(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.gu(`Unsupported field value: ${oy(i)}`)}(e,t)}function s2(e,t){const n={};return eS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(e,(i,r)=>{const s=r2(r,t.Au(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function o2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Kt||e instanceof ly||e instanceof zs||e instanceof fn||e instanceof n2)}function a2(e,t,n){if(!o2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=oy(n);throw i==="an object"?t.gu(e+" a custom object"):t.gu(e+" "+i)}}function f4(e,t,n){if((t=Ta(t))instanceof ay)return t._internalPath;if(typeof t=="string")return l2(e,t);throw Bc("Field path arguments must be of type string or ",e,!1,void 0,n)}const d4=new RegExp("[~\\*/\\[\\]]");function l2(e,t,n){if(t.search(d4)>=0)throw Bc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ay(...t.split("."))._internalPath}catch{throw Bc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bc(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new $(k.INVALID_ARGUMENT,a+e+l)}function p4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(c2("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m4 extends u2{data(){return super.data()}}function c2(e,t){return typeof t=="string"?l2(e,t):t instanceof ay?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y4{convertValue(t,n="none"){switch(Dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw U()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Zs(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new ly(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=jg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Va(t));default:return null}}convertTimestamp(t){const n=Ui(t);return new Kt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Tt.fromString(t);Et(MS(i));const r=new Fa(i.get(1),i.get(3)),s=new B(i.popFirst(5));return r.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _4 extends u2{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(c2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Vu extends _4{data(t={}){return super.data(t)}}class w4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new su(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Vu(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Vu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new su(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new su(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:x4(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class E4 extends y4{constructor(t){super(),this.firestore=t}convertBytes(t){return new zs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function h2(e){e=ja(e,Uh);const t=ja(e.firestore,Hh),n=t2(t),i=new E4(t);return g4(e._query),n4(n,e._query).then(r=>new w4(t,i,e,r))}function b4(e){return f2(ja(e.firestore,Hh),[new Kg(e._key,Cn.none())])}function S4(e,t){const n=ja(e.firestore,Hh),i=ZS(e),r=v4(e.converter,t);return f2(n,[h4(c4(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}function f2(e,t){return function(i,r){const s=new Oi;return i.asyncQueue.enqueueAndForget(async()=>$N(await t4(i),r,s)),s.promise}(t2(e),t)}(function(t,n=!0){(function(r){Js=r})(tM),Ac(new ka("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Hh(new _D(i.getProvider("auth-internal")),new bD(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_s(V0,"4.2.0",t),_s(V0,"4.2.0","esm2017")})();var T4="firebase",k4="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(T4,k4,"app");const A4={apiKey:"AIzaSyC1R8yCOX6kr6LRiZVSwTXCCy069tVIGjQ",authDomain:"renovation-budget-management.firebaseapp.com",projectId:"renovation-budget-management",storageBucket:"renovation-budget-management.appspot.com",messagingSenderId:"708113890957",appId:"1:708113890957:web:ee36aac46758bd7c0aacc4"},I4=YE(A4),Fu=o4(I4),d2=({roomName:e,items:t,setItems:n})=>{const[i,r]=O.useState({name:"",quantity:0,price:0}),s=async()=>{try{const a=Up(Fu,e),u={id:(await S4(a,i)).id,...i};n([...t,u]),console.log("Dane dodane do bazy danych.")}catch(a){console.error("Wystąpił błąd podczas dodawania danych:",a)}r({name:"",quantity:0,price:0})},o=async a=>{try{const u=ZS(Fu,e,a.id);await b4(u),console.log("Dane usunięte z bazy danych.")}catch(u){console.error("Wystąpił błąd podczas usuwania danych:",u)}const l=t.filter(u=>u.id!==a.id);n(l)};return O.useEffect(()=>{(async()=>{if(!e){console.error("Wartość roomName jest pusta lub niepoprawna.");return}try{const l=Up(Fu,e),c=(await h2(l)).docs.map(h=>({id:h.id,...h.data()}));n(c)}catch(l){console.error("Wystąpił błąd podczas pobierania danych:",l)}})()},[e,n]),I.createElement("div",null,I.createElement("table",{className:"subpage-table"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",null,"Nazwa"),I.createElement("th",null,"Ilość"),I.createElement("th",null,"Cena"),I.createElement("th",null,"Akcje"))),I.createElement("tbody",null,t.map(a=>I.createElement("tr",{key:a.id},I.createElement("td",null,a.name),I.createElement("td",null,a.quantity),I.createElement("td",null,a.price),I.createElement("td",null,I.createElement("button",{onClick:()=>o(a)},"Usuń")))))),I.createElement("div",{className:"add-item-container"},I.createElement("input",{type:"text",placeholder:"Nazwa",value:i.name,onChange:a=>r({...i,name:a.target.value})}),I.createElement("input",{type:"number",placeholder:"Ilość",value:i.quantity,onChange:a=>r({...i,quantity:parseInt(a.target.value)})}),I.createElement("input",{type:"number",placeholder:"Cena",value:i.price,onChange:a=>r({...i,price:parseFloat(a.target.value)})}),I.createElement("button",{onClick:s},"Dodaj")))};d2.propTypes={roomName:Q.string.isRequired,items:Q.array.isRequired,setItems:Q.func.isRequired};const P4=()=>{const{roomName:e}=pC(),[t,n]=O.useState([]),[i,r]=O.useState({name:"",quantity:0,price:0}),s=["salon","lazienka","gabinet","sypialnia","kuchnia"];if(!(c=>s.includes(c))(e))return I.createElement("div",{className:"error"}," Nie znaleziono pokoju o nazwie: ",e);const l=()=>{i.name&&i.quantity&&i.price&&(n([...t,i]),r({name:"",quantity:0,price:0}))},u=c=>{const h=[...t];h.splice(c,1),n(h)};return I.createElement("div",{className:"subpage-container"},I.createElement(d2,{subpage:e,roomName:e,items:t,addItem:l,removeItem:u,setItems:n}))},C4="/assets/house-5d26a589.jpeg";/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function xl(e){return e+.5|0}const _i=(e,t,n)=>Math.max(Math.min(e,n),t);function Io(e){return _i(xl(e*2.55),0,255)}function Li(e){return _i(xl(e*255),0,255)}function Bn(e){return _i(xl(e/2.55)/100,0,1)}function g_(e){return _i(xl(e*100),0,100)}const Ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hp=[..."0123456789ABCDEF"],R4=e=>Hp[e&15],M4=e=>Hp[(e&240)>>4]+Hp[e&15],ou=e=>(e&240)>>4===(e&15),D4=e=>ou(e.r)&&ou(e.g)&&ou(e.b)&&ou(e.a);function O4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ke[e[1]]*17,g:255&Ke[e[2]]*17,b:255&Ke[e[3]]*17,a:t===5?Ke[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ke[e[1]]<<4|Ke[e[2]],g:Ke[e[3]]<<4|Ke[e[4]],b:Ke[e[5]]<<4|Ke[e[6]],a:t===9?Ke[e[7]]<<4|Ke[e[8]]:255})),n}const N4=(e,t)=>e<255?t(e):"";function L4(e){var t=D4(e)?R4:M4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+N4(e.a,t):void 0}const V4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p2(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function F4(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function z4(e,t,n){const i=p2(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function $4(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function cy(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=$4(n,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function hy(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Li)}function fy(e,t,n){return hy(p2,e,t,n)}function B4(e,t,n){return hy(z4,e,t,n)}function j4(e,t,n){return hy(F4,e,t,n)}function m2(e){return(e%360+360)%360}function U4(e){const t=V4.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Io(+t[5]):Li(+t[5]));const r=m2(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=B4(r,s,o):t[1]==="hsv"?i=j4(r,s,o):i=fy(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function H4(e,t){var n=cy(e);n[0]=m2(n[0]+t),n=fy(n),e.r=n[0],e.g=n[1],e.b=n[2]}function W4(e){if(!e)return;const t=cy(e),n=t[0],i=g_(t[1]),r=g_(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Bn(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const y_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},v_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function K4(){const e={},t=Object.keys(v_),n=Object.keys(y_);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,y_[s]);s=parseInt(v_[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let au;function q4(e){au||(au=K4(),au.transparent=[0,0,0,0]);const t=au[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Y4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G4(e){const t=Y4.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Io(o):_i(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Io(i):_i(i,0,255)),r=255&(t[4]?Io(r):_i(r,0,255)),s=255&(t[6]?Io(s):_i(s,0,255)),{r:i,g:r,b:s,a:n}}}function Q4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Bn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Wf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Wr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function X4(e,t,n){const i=Wr(Bn(e.r)),r=Wr(Bn(e.g)),s=Wr(Bn(e.b));return{r:Li(Wf(i+n*(Wr(Bn(t.r))-i))),g:Li(Wf(r+n*(Wr(Bn(t.g))-r))),b:Li(Wf(s+n*(Wr(Bn(t.b))-s))),a:e.a+n*(t.a-e.a)}}function lu(e,t,n){if(e){let i=cy(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=fy(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function g2(e,t){return e&&Object.assign(t||{},e)}function __(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Li(e[3]))):(t=g2(e,{r:0,g:0,b:0,a:1}),t.a=Li(t.a)),t}function J4(e){return e.charAt(0)==="r"?G4(e):U4(e)}class Ua{constructor(t){if(t instanceof Ua)return t;const n=typeof t;let i;n==="object"?i=__(t):n==="string"&&(i=O4(t)||q4(t)||J4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=g2(this._rgb);return t&&(t.a=Bn(t.a)),t}set rgb(t){this._rgb=__(t)}rgbString(){return this._valid?Q4(this._rgb):void 0}hexString(){return this._valid?L4(this._rgb):void 0}hslString(){return this._valid?W4(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=X4(this._rgb,t._rgb,n)),this}clone(){return new Ua(this.rgb)}alpha(t){return this._rgb.a=Li(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=xl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lu(this._rgb,2,t),this}darken(t){return lu(this._rgb,2,-t),this}saturate(t){return lu(this._rgb,1,t),this}desaturate(t){return lu(this._rgb,1,-t),this}rotate(t){return H4(this._rgb,t),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Ln(){}const Z4=(()=>{let e=0;return()=>e++})();function it(e){return e===null||typeof e>"u"}function vt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function J(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Dt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Le(e,t){return Dt(e)?e:t}function q(e,t){return typeof e>"u"?t:e}const tL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,y2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ht(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ot(e,t,n,i){let r,s,o;if(vt(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(J(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function jc(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Uc(e){if(vt(e))return e.map(Uc);if(J(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Uc(e[n[r]]);return t}return e}function v2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function eL(e,t,n,i){if(!v2(e))return;const r=t[e],s=n[e];J(r)&&J(s)?Ha(r,s,i):t[e]=Uc(s)}function Ha(e,t,n){const i=vt(t)?t:[t],r=i.length;if(!J(e))return e;n=n||{};const s=n.merger||eL;let o;for(let a=0;a<r;++a){if(o=i[a],!J(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],e,o,n)}return e}function Xo(e,t){return Ha(e,t,{merger:nL})}function nL(e,t,n){if(!v2(e))return;const i=t[e],r=n[e];J(i)&&J(r)?Xo(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Uc(r))}const w_={"":e=>e,x:e=>e.x,y:e=>e.y};function iL(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function rL(e){const t=iL(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Wi(e,t){return(w_[t]||(w_[t]=rL(t)))(e)}function dy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Wa=e=>typeof e<"u",Ki=e=>typeof e=="function",x_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function sL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const bt=Math.PI,xt=2*bt,oL=xt+bt,Hc=Number.POSITIVE_INFINITY,aL=bt/180,Vt=bt/2,tr=bt/4,E_=bt*2/3,wi=Math.log10,Mn=Math.sign;function Jo(e,t,n){return Math.abs(e-t)<n}function b_(e){const t=Math.round(e);e=Jo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(wi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function lL(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function $s(e){return!isNaN(parseFloat(e))&&isFinite(e)}function uL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function _2(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function un(e){return e*(bt/180)}function py(e){return e*(180/bt)}function S_(e){if(!Dt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function w2(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*bt&&(s+=xt),{angle:s,distance:r}}function Wp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cL(e,t){return(e-t+oL)%xt-bt}function Fe(e){return(e%xt+xt)%xt}function Ka(e,t,n,i){const r=Fe(e),s=Fe(t),o=Fe(n),a=Fe(s-r),l=Fe(o-r),u=Fe(r-s),c=Fe(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function Qt(e,t,n){return Math.max(t,Math.min(n,e))}function hL(e){return Qt(e,-32768,32767)}function Kn(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function my(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const qn=(e,t,n,i)=>my(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),fL=(e,t,n)=>my(e,n,i=>e[i][t]>=n);function dL(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const x2=["push","pop","shift","splice","unshift"];function pL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),x2.forEach(n=>{const i="_onData"+dy(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function T_(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(x2.forEach(s=>{delete e[s]}),delete e._chartjs)}function E2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const b2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function S2(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,b2.call(window,()=>{i=!1,e.apply(t,n)}))}}function mL(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const gy=e=>e==="start"?"left":e==="end"?"right":"center",ce=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,gL=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function T2(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:u,max:c,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=Qt(Math.min(qn(a,l,u).lo,n?i:qn(t,l,o.getPixelForValue(u)).lo),0,i-1)),f?s=Qt(Math.max(qn(a,o.axis,c,!0).hi+1,n?0:qn(t,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function k2(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const uu=e=>e===0||e===1,k_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*xt/n)),A_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*xt/n)+1,Zo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vt)+1,easeOutSine:e=>Math.sin(e*Vt),easeInOutSine:e=>-.5*(Math.cos(bt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>uu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>uu(e)?e:k_(e,.075,.3),easeOutElastic:e=>uu(e)?e:A_(e,.075,.3),easeInOutElastic(e){return uu(e)?e:e<.5?.5*k_(e*2,.1125,.45):.5+.5*A_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Zo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Zo.easeInBounce(e*2)*.5:Zo.easeOutBounce(e*2-1)*.5+.5};function yy(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function I_(e){return yy(e)?e:new Ua(e)}function Kf(e){return yy(e)?e:new Ua(e).saturate(.5).darken(.1).hexString()}const yL=["x","y","borderWidth","radius","tension"],vL=["color","borderColor","backgroundColor"];function _L(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:vL},numbers:{type:"number",properties:yL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wL(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const P_=new Map;function xL(e,t){t=t||{};const n=e+JSON.stringify(t);let i=P_.get(n);return i||(i=new Intl.NumberFormat(e,t),P_.set(n,i)),i}function El(e,t,n){return xL(t,n).format(e)}const A2={values(e){return vt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=EL(e,n)}const o=wi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),El(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(wi(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?A2.numeric.call(this,e,t,n):""}};function EL(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Wh={formatters:A2};function bL(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Or=Object.create(null),Kp=Object.create(null);function ta(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function qf(e,t,n){return typeof t=="string"?Ha(ta(e,t),n):Ha(ta(e,""),t)}class SL{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Kf(r.backgroundColor),this.hoverBorderColor=(i,r)=>Kf(r.borderColor),this.hoverColor=(i,r)=>Kf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return qf(this,t,n)}get(t){return ta(this,t)}describe(t,n){return qf(Kp,t,n)}override(t,n){return qf(Or,t,n)}route(t,n,i,r){const s=ta(this,t),o=ta(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return J(l)?Object.assign({},u,l):q(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Ot=new SL({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_L,wL,bL]);function TL(e){return!e||it(e.size)||it(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Wc(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function kL(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,u,c,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!vt(h))o=Wc(e,r,s,o,h);else if(vt(h))for(u=0,c=h.length;u<c;u++)f=h[u],f!=null&&!vt(f)&&(o=Wc(e,r,s,o,f));e.restore();const d=s.length/2;if(d>n.length){for(l=0;l<d;l++)delete r[s[l]];s.splice(0,d)}return o}function er(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function C_(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function qp(e,t,n,i){I2(e,t,n,i,null)}function I2(e,t,n,i,r){let s,o,a,l,u,c,h,f;const d=t.pointStyle,m=t.rotation,y=t.radius;let v=(m||0)*aL;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(v),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),d){default:r?e.ellipse(n,i,r/2,y,0,0,xt):e.arc(n,i,y,0,xt),e.closePath();break;case"triangle":c=r?r/2:y,e.moveTo(n+Math.sin(v)*c,i-Math.cos(v)*y),v+=E_,e.lineTo(n+Math.sin(v)*c,i-Math.cos(v)*y),v+=E_,e.lineTo(n+Math.sin(v)*c,i-Math.cos(v)*y),e.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(v+tr)*l,h=Math.cos(v+tr)*(r?r/2-u:l),a=Math.sin(v+tr)*l,f=Math.sin(v+tr)*(r?r/2-u:l),e.arc(n-h,i-a,u,v-bt,v-Vt),e.arc(n+f,i-o,u,v-Vt,v),e.arc(n+h,i+a,u,v,v+Vt),e.arc(n-f,i+o,u,v+Vt,v+bt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,c=r?r/2:l,e.rect(n-c,i-l,2*c,2*l);break}v+=tr;case"rectRot":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":v+=tr;case"cross":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),v+=tr,h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(r?r/2:y),i+Math.sin(v)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Yn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Kh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function qh(e){e.restore()}function AL(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function IL(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function PL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),it(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function CL(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function RL(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Nr(e,t,n,i,r,s={}){const o=vt(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=r.string,PL(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&RL(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),it(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,i,s.maxWidth)),e.fillText(u,n,i,s.maxWidth),CL(e,n,i,u,s),i+=Number(r.lineHeight);e.restore()}function qa(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*bt,bt,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,bt,Vt,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Vt,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Vt,!0),e.lineTo(n+o.topLeft,i)}const ML=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,DL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OL(e,t){const n=(""+e).match(ML);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const NL=e=>+e||0;function vy(e,t){const n={},i=J(t),r=i?Object.keys(t):t,s=J(e)?i?o=>q(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=NL(s(o));return n}function P2(e){return vy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function xr(e){return vy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xe(e){const t=P2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Wt(e,t){e=e||{},t=t||Ot.font;let n=q(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=q(e.style,t.style);i&&!(""+i).match(DL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:q(e.family,t.family),lineHeight:OL(q(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:q(e.weight,t.weight),string:""};return r.string=TL(r),r}function Po(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&vt(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function LL(e,t,n){const{min:i,max:r}=e,s=y2(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Zi(e,t){return Object.assign(Object.create(e),t)}function _y(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=D2("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>_y([a,...e],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return R2(a,l,()=>HL(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return M_(a).includes(l)},ownKeys(a){return M_(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Bs(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:C2(e,i),setContext:s=>Bs(e,s,n,i),override:s=>Bs(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return R2(s,o,()=>FL(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function C2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ki(n)?n:()=>n,isIndexable:Ki(i)?i:()=>i}}const VL=(e,t)=>e?e+dy(t):t,wy=(e,t)=>J(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function R2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function FL(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return Ki(a)&&o.isScriptable(t)&&(a=zL(t,a,e,n)),vt(a)&&a.length&&(a=$L(t,a,e,o.isIndexable)),wy(t,a)&&(a=Bs(a,r,s&&s[t],o)),a}function zL(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),wy(e,l)&&(l=xy(r._scopes,r,e,l)),l}function $L(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(J(t[0])){const l=t,u=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const h=xy(u,r,e,c);t.push(Bs(h,s,o&&o[e],a))}}return t}function M2(e,t,n){return Ki(e)?e(t,n):e}const BL=(e,t)=>e===!0?t:typeof e=="string"?Wi(t,e):void 0;function jL(e,t,n,i,r){for(const s of t){const o=BL(n,s);if(o){e.add(o);const a=M2(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function xy(e,t,n,i){const r=t._rootScopes,s=M2(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=R_(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=R_(a,o,s,l,i),l===null)?!1:_y(Array.from(a),[""],r,s,()=>UL(t,n,i))}function R_(e,t,n,i,r){for(;n;)n=jL(e,t,n,i,r);return n}function UL(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return vt(r)&&J(n)?n:r||{}}function HL(e,t,n,i){let r;for(const s of t)if(r=D2(VL(s,e),n),typeof r<"u")return wy(e,r)?xy(n,i,e,r):r}function D2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function M_(e){let t=e._keys;return t||(t=e._keys=WL(e._scopes)),t}function WL(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function O2(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,u,c;for(a=0,l=i;a<l;++a)u=a+n,c=t[u],o[a]={r:r.parse(Wi(c,s),u)};return o}const KL=Number.EPSILON||1e-14,js=(e,t)=>t<e.length&&!e[t].skip&&e[t],N2=e=>e==="x"?"y":"x";function qL(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=Wp(s,r),l=Wp(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,f=i*c;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function YL(e,t,n){const i=e.length;let r,s,o,a,l,u=js(e,0);for(let c=0;c<i-1;++c)if(l=u,u=js(e,c+1),!(!l||!u)){if(Jo(t[c],0,KL)){n[c]=n[c+1]=0;continue}r=n[c]/t[c],s=n[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=r*o*t[c],n[c+1]=s*o*t[c])}}function GL(e,t,n="x"){const i=N2(n),r=e.length;let s,o,a,l=js(e,0);for(let u=0;u<r;++u){if(o=a,a=l,l=js(e,u+1),!a)continue;const c=a[n],h=a[i];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${i}`]=h-s*t[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${i}`]=h+s*t[u])}}function QL(e,t="x"){const n=N2(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=js(e,0);for(o=0;o<i;++o)if(a=l,l=u,u=js(e,o+1),!!l){if(u){const c=u[t]-l[t];r[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?Mn(r[o-1])!==Mn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}YL(e,r,s),GL(e,s,t)}function cu(e,t,n){return Math.max(Math.min(e,n),t)}function XL(e,t){let n,i,r,s,o,a=Yn(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Yn(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=cu(r.cp1x,t.left,t.right),r.cp1y=cu(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=cu(r.cp2x,t.left,t.right),r.cp2y=cu(r.cp2y,t.top,t.bottom)))}function JL(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")QL(e,r);else{let u=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=qL(u,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&XL(e,n)}function L2(){return typeof window<"u"&&typeof document<"u"}function Ey(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kc(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Yh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function ZL(e,t){return Yh(e).getPropertyValue(t)}const tV=["top","right","bottom","left"];function Er(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=tV[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const eV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function nV(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(eV(r,s,e.target))a=r,l=s;else{const u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ar(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Yh(n),s=r.boxSizing==="border-box",o=Er(r,"padding"),a=Er(r,"border","width"),{x:l,y:u,box:c}=nV(e,n),h=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:m}=t;return s&&(d-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((u-f)/m*n.height/i)}}function iV(e,t,n){let i,r;if(t===void 0||n===void 0){const s=Ey(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Yh(s),l=Er(a,"border","width"),u=Er(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,i=Kc(a.maxWidth,s,"clientWidth"),r=Kc(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||Hc,maxHeight:r||Hc}}const hu=e=>Math.round(e*10)/10;function rV(e,t,n,i){const r=Yh(e),s=Er(r,"margin"),o=Kc(r.maxWidth,e,"clientWidth")||Hc,a=Kc(r.maxHeight,e,"clientHeight")||Hc,l=iV(e,t,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const f=Er(r,"border","width"),d=Er(r,"padding");u-=d.width+f.width,c-=d.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=hu(Math.min(u,o,l.maxWidth)),c=hu(Math.min(c,a,l.maxHeight)),u&&!c&&(c=hu(u/2)),(t!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=hu(Math.floor(c*i))),{width:u,height:c}}function D_(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function O_(e,t){const n=ZL(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function lr(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function oV(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function aV(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=lr(e,r,n),a=lr(r,s,n),l=lr(s,t,n),u=lr(o,a,n),c=lr(a,l,n);return lr(u,c,n)}const lV=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},uV=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function bs(e,t,n){return e?lV(t,n):uV()}function V2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function F2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function z2(e){return e==="angle"?{between:Ka,compare:cL,normalize:Fe}:{between:Kn,compare:(t,n)=>t-n,normalize:t=>t}}function N_({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function cV(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=z2(i),l=t.length;let{start:u,end:c,loop:h}=e,f,d;if(h){for(u+=l,c+=l,f=0,d=l;f<d&&o(a(t[u%l][i]),r,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:e.style}}function $2(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=z2(i),{start:c,end:h,loop:f,style:d}=cV(e,t,n),m=[];let y=!1,v=null,g,p,_;const w=()=>l(r,_,g)&&a(r,_)!==0,x=()=>a(s,g)===0||l(s,_,g),E=()=>y||w(),b=()=>!y||x();for(let S=c,P=c;S<=h;++S)p=t[S%o],!p.skip&&(g=u(p[i]),g!==_&&(y=l(g,r,s),v===null&&E()&&(v=a(g,r)===0?S:P),v!==null&&b()&&(m.push(N_({start:v,end:S,loop:f,count:o,style:d})),v=null),P=S,_=g));return v!==null&&m.push(N_({start:v,end:h,loop:f,count:o,style:d})),m}function B2(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=$2(i[r],e.points,t);s.length&&n.push(...s)}return n}function hV(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function fV(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function dV(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=hV(n,r,s,i);if(i===!0)return L_(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,u=!!e._fullLoop&&o===0&&a===r-1;return L_(e,fV(n,o,l,u),n,t)}function L_(e,t,n,i){return!i||!i.setContext||!n?t:pV(e,t,n,i)}function pV(e,t,n,i){const r=e._chart.getContext(),s=V_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let c=s,h=t[0].start,f=h;function d(m,y,v,g){const p=a?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=p;for(;n[y%l].skip;)y+=p;m%l!==y%l&&(u.push({start:m%l,end:y%l,loop:v,style:g}),c=g,h=y%l)}}for(const m of t){h=a?h:m.start;let y=n[h%l],v;for(f=h+1;f<=m.end;f++){const g=n[f%l];v=V_(i.setContext(Zi(r,{type:"segment",p0:y,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),mV(v,c)&&d(h,f-1,m.loop,c),y=g,c=v}h<f-1&&d(h,f-1,m.loop,c)}return u}function V_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function mV(e,t){if(!t)return!1;const n=[],i=function(r,s){return yy(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class gV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=b2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vn=new gV;const F_="transparent",yV={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=I_(e||F_),r=i.valid&&I_(t||F_);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class vV{constructor(t,n,i,r){const s=n[i];r=Po([t.to,r,s,t.from]);const o=Po([t.from,s,r]);this._active=!0,this._fn=t.fn||yV[t.type||typeof o],this._easing=Zo[t.easing]||Zo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Po([t.to,n,r,t.from]),this._from=Po([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class j2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!J(t))return;const n=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!J(s))return;const o={};for(const a of n)o[a]=s[a];(vt(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=wV(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&_V(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,n));continue}const c=n[u];let h=s[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,c,a);continue}else h.cancel();if(!f||!f.duration){t[u]=c;continue}s[u]=h=new vV(f,t,u,c),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Vn.add(this._chart,i),!0}}function _V(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function wV(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function z_(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function xV(e,t,n){if(n===!1)return!1;const i=z_(e,n),r=z_(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function EV(e){let t,n,i,r;return J(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function U2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function $_(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,u;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}u=e.values[l],Dt(u)&&(s||t===0||Mn(t)===Mn(u))&&(t+=u)}return t}}function bV(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function B_(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function SV(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function TV(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function kV(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function j_(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function U_(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=SV(s,o,i),h=t.length;let f;for(let d=0;d<h;++d){const m=t[d],{[l]:y,[u]:v}=m,g=m._stacks||(m._stacks={});f=g[u]=kV(r,c,y),f[a]=v,f._top=j_(f,o,!0,i.type),f._bottom=j_(f,o,!1,i.type);const p=f._visualValues||(f._visualValues={});p[a]=v}}function Yf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function AV(e,t){return Zi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function IV(e,t,n){return Zi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function po(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Gf=e=>e==="reset"||e==="none",H_=(e,t)=>t?e:Object.assign({},e),PV=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:U2(n,!0),values:null};class dn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=B_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&po(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,f,d,m)=>h==="x"?f:h==="r"?m:d,s=n.xAxisID=q(i.xAxisID,Yf(t,"x")),o=n.yAxisID=q(i.yAxisID,Yf(t,"y")),a=n.rAxisID=q(i.rAxisID,Yf(t,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),c=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&T_(this._data,this),t._stacked&&po(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(J(n))this._data=bV(n);else if(i!==n){if(i){T_(i,this);const r=this._cachedMeta;po(r),r._parsed=[]}n&&Object.isExtensible(n)&&pL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=B_(n.vScale,n),n.stack!==i.stack&&(r=!0,po(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&U_(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,h,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{vt(r[t])?f=this.parseArrayData(i,r,t,n):J(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const d=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+t]=h=f[c],l&&(d()&&(l=!1),u=h);i._sorted=l}o&&U_(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(r);let f,d,m;for(f=0,d=r;f<d;++f)m=f+i,h[f]={[a]:c||s.parse(u[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+i,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,f,d;for(c=0,h=r;c<h;++c)f=c+i,d=n[f],u[c]={x:s.parse(Wi(d,a),f),y:o.parse(Wi(d,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:U2(r,!0),values:n._stacks[t.axis]._visualValues};return $_(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=$_(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=PV(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=TV(a);let f,d;function m(){d=r[f];const y=d[a.axis];return!Dt(d[t.axis])||c>y||h<y}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(u,t,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,t,d,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],Dt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=EV(q(this.options.clip,xV(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=IV(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=AV(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&Wa(i);if(a)return H_(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),d=Object.keys(Ot.elements[t]),m=()=>this.getContext(i,r,n),y=u.resolveNamedOptions(f,d,m,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(H_(y,l))),y}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(f,this.getContext(t,i,n))}const u=new j2(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Gf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){Gf(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!Gf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&po(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}C(dn,"defaults",{}),C(dn,"datasetElementType",null),C(dn,"dataElementType",null);function CV(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=E2(i.sort((r,s)=>r-s))}return e._cache.$bar}function RV(e){const t=e.iScale,n=CV(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Wa(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function MV(e,t,n,i){const r=n.barThickness;let s,o;return it(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function DV(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function OV(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function H2(e,t,n,i){return vt(e)?OV(e,t,n,i):t[n.axis]=n.parse(e,i),t}function W_(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,h,f;for(u=n,c=n+i;u<c;++u)f=t[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(H2(f,h,s,u));return l}function Qf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function NV(e,t,n){return e!==0?Mn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function LV(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function VV(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=LV(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=c:(s[K_(c,o,a,l)]=!0,r=u)),s[K_(r,o,a,l)]=!0,e.borderSkipped=s}function K_(e,t,n,i){return i?(e=FV(e,t,n),e=q_(e,n,t)):e=q_(e,t,n),e}function FV(e,t,n){return e===t?n:e===n?t:e}function q_(e,t,n){return e==="start"?t:e==="end"?n:e}function zV(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class zu extends dn{parsePrimitiveData(t,n,i,r){return W_(t,n,i,r)}parseArrayData(t,n,i,r){return W_(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let f,d,m,y;for(f=i,d=i+r;f<d;++f)y=n[f],m={},m[s.axis]=s.parse(Wi(y,u),f),h.push(H2(Wi(y,c),m,o,f));return h}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=Qf(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let d=n;d<n+i;d++){const m=this.getParsed(d),y=s||it(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),v=this._calculateBarIndexPixels(d,c),g=(m._stacks||{})[a.axis],p={horizontal:u,base:y.base,enableBorderRadius:!g||Qf(m._custom)||o===g._top||o===g._bottom,x:u?y.head:v.center,y:u?v.center:y.head,height:u?v.size:Math.abs(y.size),width:u?Math.abs(y.size):v.size};f&&(p.options=h||this.resolveDataElementOptions(d,t[d].active?"active":r));const _=p.options||t[d].options;VV(p,_,g,o),zV(p,_,c.ratio),this.updateElement(t[d],d,p,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const u=l.controller.getParsed(n),c=u&&u[l.vScale.axis];if(it(c)||isNaN(c))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||RV(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=Qf(u);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,m,y;d!==h&&(f=d-h,d=h),c&&(h=u.barStart,d=u.barEnd-u.barStart,h!==0&&Mn(h)!==Mn(u.barEnd)&&(f=0),f+=h);const v=!it(s)&&!c?s:f;let g=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(f+d):m=g,y=m-g,Math.abs(y)<o){y=NV(y,n,a)*o,h===a&&(g-=y/2);const p=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),w=Math.min(p,_),x=Math.max(p,_);g=Math.max(Math.min(g,x),w),m=g+y,i&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(m)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const p=Mn(y)*n.getLineWidthForValue(a)/2;g+=p,y-=p}return{size:y,base:g,head:m,center:m+y/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=q(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=s?this._getStackCount(t):n.stackCount,c=r.barThickness==="flex"?DV(t,n,r,u):MV(t,n,r,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*h+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}C(zu,"id","bar"),C(zu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),C(zu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $u extends dn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const s=super.parsePrimitiveData(t,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,n,i,r){const s=super.parseArrayData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=q(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,n,i,r){const s=super.parseObjectData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=q(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,r),c=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],m=!s&&this.getParsed(f),y={},v=y[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[c]),g=y[h]=s?a.getBasePixel():a.getPixelForValue(m[h]);y.skip=isNaN(v)||isNaN(g),u&&(y.options=l||this.resolveDataElementOptions(f,d.active?"active":r),s&&(y.options.radius=0)),this.updateElement(d,f,y,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=q(i&&i._custom,s),r}}C($u,"id","bubble"),C($u,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),C($u,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function $V(e,t,n){let i=1,r=1,s=0,o=0;if(t<xt){const a=e,l=a+t,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(_,w,x)=>Ka(_,a,l,!0)?1:Math.max(w,w*n,x,x*n),m=(_,w,x)=>Ka(_,a,l,!0)?-1:Math.min(w,w*n,x,x*n),y=d(0,u,h),v=d(Vt,c,f),g=m(bt,u,h),p=m(bt+Vt,c,f);i=(y-g)/2,r=(v-p)/2,s=-(y+g)/2,o=-(v+p)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class yr extends dn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(J(i[t])){const{key:l="value"}=this._parsing;s=u=>+Wi(i[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return un(this.options.rotation-90)}_getCircumference(){return un(this.options.circumference)}_getRotationExtents(){let t=xt,n=-xt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(tL(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:m,offsetY:y}=$V(h,c,l),v=(i.width-o)/f,g=(i.height-o)/d,p=Math.max(Math.min(v,g)/2,0),_=y2(this.options.radius,p),w=Math.max(_*l,0),x=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=y*_,r.total=this.calculateTotal(),this.outerRadius=_-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/xt)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&u.animateScale,d=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,r);let g=this._getRotation(),p;for(p=0;p<n;++p)g+=this._circumference(p,s);for(p=n;p<n+i;++p){const _=this._circumference(p,s),w=t[p],x={x:c+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+_,circumference:_,outerRadius:m,innerRadius:d};v&&(x.options=y||this.resolveDataElementOptions(p,w.active?"active":r)),g+=_,this.updateElement(w,p,x,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?xt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=El(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}C(yr,"id","doughnut"),C(yr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),C(yr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),C(yr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Bu extends dn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=T2(n,r,o);this._drawStart=a,this._drawCount=l,k2(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,d=a.axis,{spanGaps:m,segment:y}=this.options,v=$s(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none",p=n+i,_=t.length;let w=n>0&&this.getParsed(n-1);for(let x=0;x<_;++x){const E=t[x],b=g?E:{};if(x<n||x>=p){b.skip=!0;continue}const S=this.getParsed(x),P=it(S[d]),R=b[f]=o.getPixelForValue(S[f],x),j=b[d]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[d],x);b.skip=isNaN(R)||isNaN(j)||P,b.stop=x>0&&Math.abs(S[f]-w[f])>v,y&&(b.parsed=S,b.raw=u.data[x]),h&&(b.options=c||this.resolveDataElementOptions(x,E.active?"active":r)),g||this.updateElement(E,x,b,r),w=S}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}C(Bu,"id","line"),C(Bu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),C(Bu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ea extends dn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=El(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,n,i,r){return O2.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*bt;let d=f,m;const y=360/this.countVisibleElements();for(m=0;m<n;++m)d+=this._computeAngle(m,r,y);for(m=n;m<n+i;m++){const v=t[m];let g=d,p=d+this._computeAngle(m,r,y),_=o.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;d=p,s&&(l.animateScale&&(_=0),l.animateRotate&&(g=p=f));const w={x:c,y:h,innerRadius:0,outerRadius:_,startAngle:g,endAngle:p,options:this.resolveDataElementOptions(m,v.active?"active":r)};this.updateElement(v,m,w,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?un(this.resolveDataElementOptions(t,n).angle||i):0}}C(ea,"id","polarArea"),C(ea,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),C(ea,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Yp extends yr{}C(Yp,"id","pie"),C(Yp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ju extends dn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return O2.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":r),c=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:c.x,f=o?s.yCenter:c.y,d={x:h,y:f,angle:c.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,a,d,r)}}}C(ju,"id","radar"),C(ju,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),C(ju,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Uu extends dn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=T2(n,i,r);if(this._drawStart=s,this._drawCount=o,k2(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(c),f=this.includeOptions(r,h),d=o.axis,m=a.axis,{spanGaps:y,segment:v}=this.options,g=$s(y)?y:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||r==="none";let _=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const x=t[w],E=this.getParsed(w),b=p?x:{},S=it(E[m]),P=b[d]=o.getPixelForValue(E[d],w),R=b[m]=s||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[m],w);b.skip=isNaN(P)||isNaN(R)||S,b.stop=w>0&&Math.abs(E[d]-_[d])>g,v&&(b.parsed=E,b.raw=u.data[w]),f&&(b.options=h||this.resolveDataElementOptions(w,x.active?"active":r)),p||this.updateElement(x,w,b,r),_=E}this.updateSharedOptions(h,r,c)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}C(Uu,"id","scatter"),C(Uu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),C(Uu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var BV=Object.freeze({__proto__:null,BarController:zu,BubbleController:$u,DoughnutController:yr,LineController:Bu,PieController:Yp,PolarAreaController:ea,RadarController:ju,ScatterController:Uu});function nr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class by{constructor(t){C(this,"options");this.options=t||{}}static override(t){Object.assign(by.prototype,t)}init(){}formats(){return nr()}parse(){return nr()}format(){return nr()}add(){return nr()}diff(){return nr()}startOf(){return nr()}endOf(){return nr()}}var jV={_date:by};function UV(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?fL:qn;if(i){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const h=l(s,t,n-c),f=l(s,t,n+c);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function bl(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:f}=UV(s[a],t,o,r);for(let d=h;d<=f;++d){const m=c[d];m.skip||i(m,u,d)}}}function HV(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Xf(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||bl(e,n,t,function(a,l,u){!r&&!Yn(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function WV(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=w2(o,{x:t.x,y:t.y});Ka(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return bl(e,n,t,s),r}function KV(e,t,n,i,r,s){let o=[];const a=HV(n);let l=Number.POSITIVE_INFINITY;function u(c,h,f){const d=c.inRange(t.x,t.y,r);if(i&&!d)return;const m=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(m))&&!d)return;const v=a(t,m);v<l?(o=[{element:c,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:c,datasetIndex:h,index:f})}return bl(e,n,t,u),o}function Jf(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?WV(e,t,n,r):KV(e,t,n,i,r,s)}function Y_(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return bl(e,n,t,(l,u,c)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var qV={evaluateInteractionItems:bl,modes:{index(e,t,n,i){const r=ar(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Xf(e,r,s,i,o):Jf(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,i){const r=ar(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Xf(e,r,s,i,o):Jf(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(e,t,n,i){const r=ar(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Xf(e,r,s,i,o)},nearest(e,t,n,i){const r=ar(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Jf(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=ar(t,e);return Y_(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=ar(t,e);return Y_(e,r,"y",n.intersect,i)}}};const W2=["left","top","right","bottom"];function mo(e,t){return e.filter(n=>n.pos===t)}function G_(e,t){return e.filter(n=>W2.indexOf(n.pos)===-1&&n.box.axis===t)}function go(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function YV(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function GV(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!W2.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function QV(e,t){const n=GV(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return n}function XV(e){const t=YV(e),n=go(t.filter(u=>u.box.fullSize),!0),i=go(mo(t,"left"),!0),r=go(mo(t,"right")),s=go(mo(t,"top"),!0),o=go(mo(t,"bottom")),a=G_(t,"x"),l=G_(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:mo(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Q_(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function K2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function JV(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!J(r)){n.size&&(e[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[r]+=n.size}s.getPadding&&K2(o,s.getPadding());const a=Math.max(0,t.outerWidth-Q_(o,e,"left","right")),l=Math.max(0,t.outerHeight-Q_(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function ZV(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function t3(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function Co(e,t,n,i){const r=[];let s,o,a,l,u,c;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,t3(a.horizontal,t));const{same:h,other:f}=JV(t,n,a,i);u|=h&&r.length,c=c||f,l.fullSize||r.push(a)}return u&&Co(r,t,n,i)||c}function fu(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function X_(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=t.w*c,f=u.size||l.height;Wa(u.start)&&(o=u.start),l.fullSize?fu(l,r.left,o,n.outerWidth-r.right-r.left,f):fu(l,t.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=l.bottom}else{const h=t.h*c,f=u.size||l.width;Wa(u.start)&&(s=u.start),l.fullSize?fu(l,s,r.top,f,n.outerHeight-r.bottom-r.top):fu(l,s,t.top+u.placed,f,h),u.start=s,u.placed+=h,s=l.right}}t.x=s,t.y=o}var me={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=xe(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=XV(e.boxes),l=a.vertical,u=a.horizontal;ot(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);K2(f,xe(i));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=QV(l.concat(u),h);Co(a.fullSize,d,h,m),Co(l,d,h,m),Co(u,d,h,m)&&Co(l,d,h,m),ZV(d),X_(a.leftAndTop,d,h,m),d.x+=d.w,d.y+=d.h,X_(a.rightAndBottom,d,h,m),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},ot(a.chartArea,y=>{const v=y.box;Object.assign(v,e.chartArea),v.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class q2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class e3 extends q2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Hu="$chartjs",n3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J_=e=>e===null||e==="";function i3(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Hu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",J_(r)){const s=O_(e,"width");s!==void 0&&(e.width=s)}if(J_(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=O_(e,"height");s!==void 0&&(e.height=s)}return e}const Y2=sV?{passive:!0}:!1;function r3(e,t,n){e.addEventListener(t,n,Y2)}function s3(e,t,n){e.canvas.removeEventListener(t,n,Y2)}function o3(e,t){const n=n3[e.type]||e.type,{x:i,y:r}=ar(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function qc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function a3(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||qc(a.addedNodes,i),o=o&&!qc(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function l3(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||qc(a.removedNodes,i),o=o&&!qc(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ya=new Map;let Z_=0;function G2(){const e=window.devicePixelRatio;e!==Z_&&(Z_=e,Ya.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function u3(e,t){Ya.size||window.addEventListener("resize",G2),Ya.set(e,t)}function c3(e){Ya.delete(e),Ya.size||window.removeEventListener("resize",G2)}function h3(e,t,n){const i=e.canvas,r=i&&Ey(i);if(!r)return;const s=S2((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),u3(e,s),o}function Zf(e,t,n){n&&n.disconnect(),t==="resize"&&c3(e)}function f3(e,t,n){const i=e.canvas,r=S2(s=>{e.ctx!==null&&n(o3(s,e))},e);return r3(i,t,r),r}class d3 extends q2{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(i3(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Hu])return!1;const i=n[Hu].initial;["height","width"].forEach(s=>{const o=i[s];it(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Hu],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:a3,detach:l3,resize:h3}[n]||f3;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Zf,detach:Zf,resize:Zf}[n]||s3)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return rV(t,n,i,r)}isAttached(t){const n=Ey(t);return!!(n&&n.isConnected)}}function p3(e){return!L2()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?e3:d3}class gn{constructor(){C(this,"x");C(this,"y");C(this,"active",!1);C(this,"options");C(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return $s(this.x)&&$s(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}C(gn,"defaults",{}),C(gn,"defaultRoutes");function m3(e,t){const n=e.options.ticks,i=g3(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?v3(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return _3(t,u,s,o/r),u;const c=y3(s,t,r);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(du(t,u,c,it(d)?0:a-d,a),h=0,f=o-1;h<f;h++)du(t,u,c,s[h],s[h+1]);return du(t,u,c,l,it(d)?t.length:l+d),u}return du(t,u,c),u}function g3(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function y3(e,t,n){const i=w3(e),r=t.length/n;if(!i)return Math.max(r,1);const s=lL(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function v3(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function _3(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function du(e,t,n,i,r){const s=q(i,0),o=Math.min(q(r,e.length),e.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(e[u]),a++,c=Math.round(s+a*n))}function w3(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const x3=e=>e==="left"?"right":e==="right"?"left":e,t1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,e1=(e,t)=>Math.min(t||e,e);function n1(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function E3(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function b3(e,t){ot(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function yo(e){return e.drawTicks?e.tickLength:0}function i1(e,t){if(!e.display)return 0;const n=Wt(e.font,t),i=xe(e.padding);return(vt(e.text)?e.text.length:1)*n.lineHeight+i.height}function S3(e,t){return Zi(e,{scale:t,type:"scale"})}function T3(e,t,n){return Zi(e,{tick:n,index:t,type:"tick"})}function k3(e,t,n){let i=gy(e);return(n&&t!=="right"||!n&&t==="right")&&(i=x3(i)),i}function A3(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let h=0,f,d,m;const y=o-r,v=a-s;if(e.isHorizontal()){if(d=ce(i,s,a),J(n)){const g=Object.keys(n)[0],p=n[g];m=c[g].getPixelForValue(p)+y-t}else n==="center"?m=(u.bottom+u.top)/2+y-t:m=t1(e,n,t);f=a-s}else{if(J(n)){const g=Object.keys(n)[0],p=n[g];d=c[g].getPixelForValue(p)-v+t}else n==="center"?d=(u.left+u.right)/2-v+t:d=t1(e,n,t);m=ce(i,o,r),h=n==="left"?-Vt:Vt}return{titleX:d,titleY:m,maxWidth:f,rotation:h}}class Br extends gn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Le(t,Number.POSITIVE_INFINITY),n=Le(n,Number.NEGATIVE_INFINITY),i=Le(i,Number.POSITIVE_INFINITY),r=Le(r,Number.NEGATIVE_INFINITY),{min:Le(t,i),max:Le(n,r),minDefined:Dt(t),maxDefined:Dt(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Le(n,Le(i,n)),max:Le(i,Le(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ht(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LL(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?n1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=m3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ht(this.options.afterUpdate,[this])}beforeSetDimensions(){ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ht(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=e1(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,f=c.highest.height,d=Qt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-yo(t.grid)-n.padding-i1(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=py(Math.min(Math.asin(Qt((c.highest.height+6)/a,-1,1)),Math.asin(Qt(l/u,-1,1))-Math.asin(Qt(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ht(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=i1(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=yo(s)+l):(t.height=this.maxHeight,t.width=yo(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,m=un(this.labelRotation),y=Math.cos(m),v=Math.sin(m);if(a){const g=i.mirror?0:v*h.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+g+d)}else{const g=i.mirror?0:y*h.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+g+d)}this._calculatePadding(u,c,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?u?(f=r*t.width,d=i*n.height):(f=i*t.height,d=r*n.width):s==="start"?d=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=t.height/2;s==="start"?(c=0,h=t.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ht(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)it(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=n1(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/e1(n,i));let u=0,c=0,h,f,d,m,y,v,g,p,_,w,x;for(h=0;h<n;h+=l){if(m=t[h].label,y=this._resolveTickFontOptions(h),r.font=v=y.string,g=s[v]=s[v]||{data:{},gc:[]},p=y.lineHeight,_=w=0,!it(m)&&!vt(m))_=Wc(r,g.data,g.gc,_,m),w=p;else if(vt(m))for(f=0,d=m.length;f<d;++f)x=m[f],!it(x)&&!vt(x)&&(_=Wc(r,g.data,g.gc,_,x),w+=p);o.push(_),a.push(w),u=Math.max(_,u),c=Math.max(w,c)}b3(s,n);const E=o.indexOf(u),b=a.indexOf(c),S=P=>({width:o[P]||0,height:a[P]||0});return{first:S(0),last:S(n-1),widest:S(E),highest:S(b),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return hL(this._alignToPixels?er(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=T3(this.getContext(),t,i))}return this.$context||(this.$context=S3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=un(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=yo(s),d=[],m=a.setContext(this.getContext()),y=m.display?m.width:0,v=y/2,g=function(ut){return er(i,ut,y)};let p,_,w,x,E,b,S,P,R,j,G,kt;if(o==="top")p=g(this.bottom),b=this.bottom-f,P=p-v,j=g(t.top)+v,kt=t.bottom;else if(o==="bottom")p=g(this.top),j=t.top,kt=g(t.bottom)-v,b=p+v,P=this.top+f;else if(o==="left")p=g(this.right),E=this.right-f,S=p-v,R=g(t.left)+v,G=t.right;else if(o==="right")p=g(this.left),R=t.left,G=g(t.right)-v,E=p+v,S=this.left+f;else if(n==="x"){if(o==="center")p=g((t.top+t.bottom)/2+.5);else if(J(o)){const ut=Object.keys(o)[0],dt=o[ut];p=g(this.chart.scales[ut].getPixelForValue(dt))}j=t.top,kt=t.bottom,b=p+v,P=b+f}else if(n==="y"){if(o==="center")p=g((t.left+t.right)/2);else if(J(o)){const ut=Object.keys(o)[0],dt=o[ut];p=g(this.chart.scales[ut].getPixelForValue(dt))}E=p-v,S=E-f,R=t.left,G=t.right}const oe=q(r.ticks.maxTicksLimit,h),st=Math.max(1,Math.ceil(h/oe));for(_=0;_<h;_+=st){const ut=this.getContext(_),dt=s.setContext(ut),M=a.setContext(ut),z=dt.lineWidth,H=dt.color,ct=M.dash||[],pt=M.dashOffset,yn=dt.tickWidth,Oe=dt.tickColor,Nn=dt.tickBorderDash||[],Ne=dt.tickBorderDashOffset;w=E3(this,_,l),w!==void 0&&(x=er(i,w,z),u?E=S=R=G=x:b=P=j=kt=x,d.push({tx1:E,ty1:b,tx2:S,ty2:P,x1:R,y1:j,x2:G,y2:kt,width:z,color:H,borderDash:ct,borderDashOffset:pt,tickWidth:yn,tickColor:Oe,tickBorderDash:Nn,tickBorderDashOffset:Ne}))}return this._ticksLength=h,this._borderValue=p,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,f=yo(i.grid),d=f+c,m=h?-c:d,y=-un(this.labelRotation),v=[];let g,p,_,w,x,E,b,S,P,R,j,G,kt="middle";if(r==="top")E=this.bottom-m,b=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+m,b=this._getXAxisLabelAlignment();else if(r==="left"){const st=this._getYAxisLabelAlignment(f);b=st.textAlign,x=st.x}else if(r==="right"){const st=this._getYAxisLabelAlignment(f);b=st.textAlign,x=st.x}else if(n==="x"){if(r==="center")E=(t.top+t.bottom)/2+d;else if(J(r)){const st=Object.keys(r)[0],ut=r[st];E=this.chart.scales[st].getPixelForValue(ut)+d}b=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")x=(t.left+t.right)/2-d;else if(J(r)){const st=Object.keys(r)[0],ut=r[st];x=this.chart.scales[st].getPixelForValue(ut)}b=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?kt="top":l==="end"&&(kt="bottom"));const oe=this._getLabelSizes();for(g=0,p=a.length;g<p;++g){_=a[g],w=_.label;const st=s.setContext(this.getContext(g));S=this.getPixelForTick(g)+s.labelOffset,P=this._resolveTickFontOptions(g),R=P.lineHeight,j=vt(w)?w.length:1;const ut=j/2,dt=st.color,M=st.textStrokeColor,z=st.textStrokeWidth;let H=b;o?(x=S,b==="inner"&&(g===p-1?H=this.options.reverse?"left":"right":g===0?H=this.options.reverse?"right":"left":H="center"),r==="top"?u==="near"||y!==0?G=-j*R+R/2:u==="center"?G=-oe.highest.height/2-ut*R+R:G=-oe.highest.height+R/2:u==="near"||y!==0?G=R/2:u==="center"?G=oe.highest.height/2-ut*R:G=oe.highest.height-j*R,h&&(G*=-1),y!==0&&!st.showLabelBackdrop&&(x+=R/2*Math.sin(y))):(E=S,G=(1-j)*R/2);let ct;if(st.showLabelBackdrop){const pt=xe(st.backdropPadding),yn=oe.heights[g],Oe=oe.widths[g];let Nn=G-pt.top,Ne=0-pt.left;switch(kt){case"middle":Nn-=yn/2;break;case"bottom":Nn-=yn;break}switch(b){case"center":Ne-=Oe/2;break;case"right":Ne-=Oe;break}ct={left:Ne,top:Nn,width:Oe+pt.width,height:yn+pt.height,color:st.backdropColor}}v.push({label:w,font:P,textOffset:G,options:{rotation:y,color:dt,strokeColor:M,strokeWidth:z,textAlign:H,textBaseline:kt,translation:[x,E],backdrop:ct}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-un(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,f;this.isHorizontal()?(u=er(t,this.left,o)-o/2,c=er(t,this.right,a)+a/2,h=f=l):(h=er(t,this.top,o)-o/2,f=er(t,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Kh(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Nr(i,u,0,c,l,a)}r&&qh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Wt(i.font),o=xe(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,vt(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:f}=A3(this,l,n,a);Nr(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:k3(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=q(t.grid&&t.grid.z,-1),r=q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Br.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Wt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pu{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;C3(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,I3(t,o,i),this.override&&Ot.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Ot[r]&&(delete Ot[r][i],this.override&&delete Or[i])}}function I3(e,t,n){const i=Ha(Object.create(null),[n?Ot.get(n):{},Ot.get(t),e.defaults]);Ot.set(t,i),e.defaultRoutes&&P3(t,e.defaultRoutes),e.descriptors&&Ot.describe(t,e.descriptors)}function P3(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Ot.route(s,r,l,a)})}function C3(e){return"id"in e&&"defaults"in e}class R3{constructor(){this.controllers=new pu(dn,"datasets",!0),this.elements=new pu(gn,"elements"),this.plugins=new pu(Object,"plugins"),this.scales=new pu(Br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):ot(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=dy(t);ht(i["before"+r],[],i),n[t](i),ht(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var xn=new R3;class M3{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(ht(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=q(i.options&&i.options.plugins,{}),s=D3(i);return r===!1&&!n?[]:N3(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function D3(e){const t={},n=[],i=Object.keys(xn.plugins.items);for(let s=0;s<i.length;s++)n.push(xn.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function O3(e,t){return!t&&e===!1?null:e===!0?{}:e}function N3(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=O3(i[l],r);u!==null&&s.push({plugin:a,options:L3(e.config,{plugin:a,local:n[l]},u,o)})}return s}function L3(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gp(e,t){const n=Ot.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function V3(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function F3(e,t){return e===t?"_index_":"_value_"}function r1(e){if(e==="x"||e==="y"||e==="r")return e}function z3(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Qp(e,...t){if(r1(e))return e;for(const n of t){const i=n.axis||z3(n.position)||e.length>1&&r1(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function s1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $3(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return s1(e,"x",n[0])||s1(e,"y",n[0])}return{}}function B3(e,t){const n=Or[e.type]||{scales:{}},i=t.scales||{},r=Gp(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Qp(o,a,$3(o,e),Ot.scales[a.type]),u=F3(l,r),c=n.scales||{};s[o]=Xo(Object.create(null),[{axis:l},a,c[l],c[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Gp(a,t),c=(Or[a]||{}).scales||{};Object.keys(c).forEach(h=>{const f=V3(h,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),Xo(s[d],[{axis:f},i[d],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Xo(a,[Ot.scales[a.type],Ot.scale])}),s}function Q2(e){const t=e.options||(e.options={});t.plugins=q(t.plugins,{}),t.scales=B3(e,t)}function X2(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function j3(e){return e=e||{},e.data=X2(e.data),Q2(e),e}const o1=new Map,J2=new Set;function mu(e,t){let n=o1.get(e);return n||(n=t(),o1.set(e,n),J2.add(n)),n}const vo=(e,t,n)=>{const i=Wi(t,n);i!==void 0&&e.add(i)};class U3{constructor(t){this._config=j3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=X2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Q2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return mu(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return mu(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return mu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(h=>vo(l,t,h))),c.forEach(h=>vo(l,r,h)),c.forEach(h=>vo(l,Or[s]||{},h)),c.forEach(h=>vo(l,Ot,h)),c.forEach(h=>vo(l,Kp,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),J2.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Or[n]||{},Ot.datasets[n]||{},{type:n},Ot,Kp]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=a1(this._resolverCache,t,r);let l=o;if(W3(o,n)){s.$shared=!1,i=Ki(i)?i():i;const u=this.createResolver(t,i,a);l=Bs(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,i=[""],r){const{resolver:s}=a1(this._resolverCache,t,i);return J(n)?Bs(s,n,void 0,r):s}}function a1(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:_y(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const H3=e=>J(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Ki(e[n]),!1);function W3(e,t){const{isScriptable:n,isIndexable:i}=C2(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(Ki(a)||H3(a))||o&&vt(a))return!0}return!1}var K3="4.4.0";const q3=["top","bottom","left","right","chartArea"];function l1(e,t){return e==="top"||e==="bottom"||q3.indexOf(e)===-1&&t==="x"}function u1(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function c1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ht(n&&n.onComplete,[e],t)}function Y3(e){const t=e.chart,n=t.options.animation;ht(n&&n.onProgress,[e],t)}function Z2(e){return L2()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Wu={},h1=e=>{const t=Z2(e);return Object.values(Wu).filter(n=>n.canvas===t).pop()};function G3(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function Q3(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function gu(e,t,n){return e.options.clip?e[n]:t[n]}function X3(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:gu(n,t,"left"),right:gu(n,t,"right"),top:gu(i,t,"top"),bottom:gu(i,t,"bottom")}:t}class jn{static register(...t){xn.add(...t),f1()}static unregister(...t){xn.remove(...t),f1()}constructor(t,n){const i=this.config=new U3(n),r=Z2(t),s=h1(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||p3(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=Z4(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new M3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mL(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Wu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Vn.listen(this,"complete",c1),Vn.listen(this,"progress",Y3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return it(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():D_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return C_(this.canvas,this.ctx),this}stop(){return Vn.stop(this),this}resize(t,n){Vn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,D_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ht(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Qp(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),ot(s,o=>{const a=o.options,l=a.id,u=Qp(l,a),c=q(a.type,o.dtype);(a.position===void 0||l1(a.position,u)!==l1(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const f=xn.getScale(c);h=new f({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),ot(r,(o,a)=>{o||delete i[a]}),ot(i,o=>{me.configure(this,o,o.options),me.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(u1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Gp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=xn.getController(a),{datasetElementType:u,dataElementType:c}=Ot.datasets[a];Object.assign(l,{dataElementType:xn.getElement(c),datasetElementType:u&&xn.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ot(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ot(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(u1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ot(this.scales,t=>{me.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!x_(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;G3(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!x_(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;me.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ki(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vn.has(this)?this.attached&&!Vn.running(this)&&Vn.start(this):(this.draw(),c1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=X3(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Kh(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&qh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Yn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=qV.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Wa(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Vn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),C_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Wu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ot(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ot(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ot(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!jc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=sL(t),u=Q3(t,this._lastEvent,i,l);i&&(this._lastEvent=null,ht(s.onHover,[t,a,this],this),l&&ht(s.onClick,[t,a,this],this));const c=!jc(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}C(jn,"defaults",Ot),C(jn,"instances",Wu),C(jn,"overrides",Or),C(jn,"registry",xn),C(jn,"version",K3),C(jn,"getChart",h1);function f1(){return ot(jn.instances,e=>e._plugins.invalidate())}function J3(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=r/a;e.beginPath(),e.arc(s,o,a,i-u,n+u),l>r?(u=r/l,e.arc(s,o,l,n+u,i-u,!0)):e.arc(s,o,r,n+Vt,i-Vt),e.closePath(),e.clip()}function Z3(e){return vy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function t5(e,t,n,i){const r=Z3(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const u=(n-Math.min(s,l))*i/2;return Qt(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Qt(r.innerStart,0,o),innerEnd:Qt(r.innerEnd,0,o)}}function Kr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Yc(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,h=Math.max(t.outerRadius+i+n-u,0),f=c>0?c+i+n+u:0;let d=0;const m=r-l;if(i){const st=c>0?c-i:0,ut=h>0?h-i:0,dt=(st+ut)/2,M=dt!==0?m*dt/(dt+i):m;d=(m-M)/2}const y=Math.max(.001,m*h-n/bt)/h,v=(m-y)/2,g=l+v+d,p=r-v-d,{outerStart:_,outerEnd:w,innerStart:x,innerEnd:E}=t5(t,f,h,p-g),b=h-_,S=h-w,P=g+_/b,R=p-w/S,j=f+x,G=f+E,kt=g+x/j,oe=p-E/G;if(e.beginPath(),s){const st=(P+R)/2;if(e.arc(o,a,h,P,st),e.arc(o,a,h,st,R),w>0){const z=Kr(S,R,o,a);e.arc(z.x,z.y,w,R,p+Vt)}const ut=Kr(G,p,o,a);if(e.lineTo(ut.x,ut.y),E>0){const z=Kr(G,oe,o,a);e.arc(z.x,z.y,E,p+Vt,oe+Math.PI)}const dt=(p-E/f+(g+x/f))/2;if(e.arc(o,a,f,p-E/f,dt,!0),e.arc(o,a,f,dt,g+x/f,!0),x>0){const z=Kr(j,kt,o,a);e.arc(z.x,z.y,x,kt+Math.PI,g-Vt)}const M=Kr(b,g,o,a);if(e.lineTo(M.x,M.y),_>0){const z=Kr(b,P,o,a);e.arc(z.x,z.y,_,g-Vt,P)}}else{e.moveTo(o,a);const st=Math.cos(P)*h+o,ut=Math.sin(P)*h+a;e.lineTo(st,ut);const dt=Math.cos(R)*h+o,M=Math.sin(R)*h+a;e.lineTo(dt,M)}e.closePath()}function e5(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Yc(e,t,n,i,l,r);for(let u=0;u<s;++u)e.fill();isNaN(a)||(l=o+(a%xt||xt))}return Yc(e,t,n,i,l,r),e.fill(),l}function n5(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=u*2,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");let m=t.endAngle;if(s){Yc(e,t,n,i,m,r);for(let y=0;y<s;++y)e.stroke();isNaN(a)||(m=o+(a%xt||xt))}d&&J3(e,t,m),s||(Yc(e,t,n,i,m,r),e.stroke())}class Ro extends gn{constructor(n){super();C(this,"circumference");C(this,"endAngle");C(this,"fullCircles");C(this,"innerRadius");C(this,"outerRadius");C(this,"pixelMargin");C(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=w2(s,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,y=q(f,u-l)>=xt||Ka(o,l,u),v=Kn(a,c+d,h+d);return y&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(s+o)/2,f=(a+l+c+u)/2;return{x:i+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>xt?Math.floor(r/xt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(bt,r||0)),c=s*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,e5(n,this,c,o,a),n5(n,this,c,o,a),n.restore()}}C(Ro,"id","arc"),C(Ro,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),C(Ro,"defaultRoutes",{backgroundColor:"backgroundColor"}),C(Ro,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function tT(e,t,n=t){e.lineCap=q(n.borderCapStyle,t.borderCapStyle),e.setLineDash(q(n.borderDash,t.borderDash)),e.lineDashOffset=q(n.borderDashOffset,t.borderDashOffset),e.lineJoin=q(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=q(n.borderWidth,t.borderWidth),e.strokeStyle=q(n.borderColor,t.borderColor)}function i5(e,t,n){e.lineTo(n.x,n.y)}function r5(e){return e.stepped?AL:e.tension||e.cubicInterpolationMode==="monotone"?IL:i5}function eT(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!c?i+u-l:u-l}}function s5(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:u}=eT(r,n,i),c=r5(s);let{move:h=!0,reverse:f}=i||{},d,m,y;for(d=0;d<=u;++d)m=r[(a+(f?u-d:d))%o],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):c(e,y,m,f,s.stepped),y=m);return l&&(m=r[(a+(f?u:0))%o],c(e,y,m,f,s.stepped)),!!l}function o5(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=eT(r,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,f,d,m,y,v,g;const p=w=>(o+(u?a-w:w))%s,_=()=>{y!==v&&(e.lineTo(c,v),e.lineTo(c,y),e.lineTo(c,g))};for(l&&(d=r[p(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=r[p(f)],d.skip)continue;const w=d.x,x=d.y,E=w|0;E===m?(x<y?y=x:x>v&&(v=x),c=(h*c+w)/++h):(_(),e.lineTo(w,x),m=E,h=0,y=v=x),g=x}_()}function Xp(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?o5:s5}function a5(e){return e.stepped?oV:e.tension||e.cubicInterpolationMode==="monotone"?aV:lr}function l5(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),tT(e,t.options),e.stroke(r)}function u5(e,t,n,i){const{segments:r,options:s}=t,o=Xp(t);for(const a of r)tT(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const c5=typeof Path2D=="function";function h5(e,t,n,i){c5&&!t.options.segment?l5(e,t,n,i):u5(e,t,n,i)}class xi extends gn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;JL(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dV(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=B2(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=a5(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:f}=o[u],d=s[h],m=s[f];if(d===m){a.push(d);continue}const y=Math.abs((r-d[n])/(m[n]-d[n])),v=l(d,m,y,i.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Xp(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=Xp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),h5(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}C(xi,"id","line"),C(xi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),C(xi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),C(xi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function d1(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Ku extends gn{constructor(n){super();C(this,"parsed");C(this,"skip");C(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return d1(this,n,"x",i)}inYRange(n,i){return d1(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Yn(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,qp(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}C(Ku,"id","point"),C(Ku,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),C(Ku,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nT(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-h,c=i+h):(h=s/2,a=n-h,l=n+h,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Ei(e,t,n,i){return e?0:Qt(t,n,i)}function f5(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=P2(i);return{t:Ei(r.top,s.top,0,n),r:Ei(r.right,s.right,0,t),b:Ei(r.bottom,s.bottom,0,n),l:Ei(r.left,s.left,0,t)}}function d5(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=xr(r),o=Math.min(t,n),a=e.borderSkipped,l=i||J(r);return{topLeft:Ei(!l||a.top||a.left,s.topLeft,0,o),topRight:Ei(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ei(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ei(!l||a.bottom||a.right,s.bottomRight,0,o)}}function p5(e){const t=nT(e),n=t.right-t.left,i=t.bottom-t.top,r=f5(e,n/2,i/2),s=d5(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function td(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&nT(e,i);return a&&(r||Kn(t,a.left,a.right))&&(s||Kn(n,a.top,a.bottom))}function m5(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function g5(e,t){e.rect(t.x,t.y,t.w,t.h)}function ed(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class qu extends gn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=p5(this),a=m5(o.radius)?qa:g5;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,ed(o,n,s)),t.clip(),a(t,ed(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,ed(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return td(this,t,n,i)}inXRange(t,n){return td(this,t,null,n)}inYRange(t,n){return td(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}C(qu,"id","bar"),C(qu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),C(qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var y5=Object.freeze({__proto__:null,ArcElement:Ro,BarElement:qu,LineElement:xi,PointElement:Ku});const Jp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],p1=Jp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function iT(e){return Jp[e%Jp.length]}function rT(e){return p1[e%p1.length]}function v5(e,t){return e.borderColor=iT(t),e.backgroundColor=rT(t),++t}function _5(e,t){return e.backgroundColor=e.data.map(()=>iT(t++)),t}function w5(e,t){return e.backgroundColor=e.data.map(()=>rT(t++)),t}function x5(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof yr?t=_5(n,t):r instanceof ea?t=w5(n,t):r&&(t=v5(n,t))}}function m1(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function E5(e){return e&&(e.borderColor||e.backgroundColor)}var b5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:s}=r;if(!n.forceOverride&&(m1(i)||E5(r)||s&&m1(s)))return;const o=x5(e);i.forEach(o)}};function S5(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const u=t+n-1;let c=t,h,f,d,m,y;for(o[l++]=e[c],h=0;h<s-2;h++){let v=0,g=0,p;const _=Math.floor((h+1)*a)+1+t,w=Math.min(Math.floor((h+2)*a)+1,n)+t,x=w-_;for(p=_;p<w;p++)v+=e[p].x,g+=e[p].y;v/=x,g/=x;const E=Math.floor(h*a)+1+t,b=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:S,y:P}=e[c];for(d=m=-1,p=E;p<b;p++)m=.5*Math.abs((S-v)*(e[p].y-P)-(S-e[p].x)*(g-P)),m>d&&(d=m,f=e[p],y=p);o[l++]=f,c=y}return o[l++]=e[u],o}function T5(e,t,n,i){let r=0,s=0,o,a,l,u,c,h,f,d,m,y;const v=[],g=t+n-1,p=e[t].x,w=e[g].x-p;for(o=t;o<t+n;++o){a=e[o],l=(a.x-p)/w*i,u=a.y;const x=l|0;if(x===c)u<m?(m=u,h=o):u>y&&(y=u,f=o),r=(s*r+a.x)/++s;else{const E=o-1;if(!it(h)&&!it(f)){const b=Math.min(h,f),S=Math.max(h,f);b!==d&&b!==E&&v.push({...e[b],x:r}),S!==d&&S!==E&&v.push({...e[S],x:r})}o>0&&E!==d&&v.push(e[E]),v.push(a),c=x,s=0,m=y=u,h=f=d=o}}return v}function sT(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function g1(e){e.data.datasets.forEach(t=>{sT(t)})}function k5(e,t){const n=t.length;let i=0,r;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(i=Qt(qn(t,s.axis,o).lo,0,n-1)),u?r=Qt(qn(t,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var A5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){g1(e);return}const i=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(s),u=o||r.data;if(Po([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:h,count:f}=k5(l,u);const d=n.threshold||4*i;if(f<=d){sT(r);return}it(o)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let m;switch(n.algorithm){case"lttb":m=S5(u,h,f,i,n);break;case"min-max":m=T5(u,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=m})},destroy(e){g1(e)}};function I5(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:l,end:u}=a;u=Sy(l,u,r);const c=Zp(n,r[l],r[u],a.loop);if(!t.segments){o.push({source:a,target:c,start:r[l],end:r[u]});continue}const h=B2(t,c);for(const f of h){const d=Zp(n,s[f.start],s[f.end],f.loop),m=$2(a,r,d);for(const y of m)o.push({source:y,target:f,start:{[n]:y1(c,d,"start",Math.max)},end:{[n]:y1(c,d,"end",Math.min)}})}}return o}function Zp(e,t,n,i){if(i)return;let r=t[e],s=n[e];return e==="angle"&&(r=Fe(r),s=Fe(s)),{property:e,start:r,end:s}}function P5(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Sy(o,a,r);const l=r[o],u=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:u.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function Sy(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function y1(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function oT(e,t){let n=[],i=!1;return vt(e)?(i=!0,n=e):n=P5(e,t),n.length?new xi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function v1(e){return e&&e.fill!==!1}function C5(e,t,n){let r=e[t].fill;const s=[t];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Dt(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function R5(e,t,n){const i=N5(e);if(J(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Dt(r)&&Math.floor(r)===r?M5(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function M5(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function D5(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:J(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function O5(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:J(e)?i=e.value:i=t.getBaseValue(),i}function N5(e){const t=e.options,n=t.fill;let i=q(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function L5(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=V5(t,n);a.push(oT({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)F5(r,o[c],a)}return new xi({points:r,options:{}})}function V5(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function F5(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=z5(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function z5(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],h=o[c.start][n],f=o[c.end][n];if(Kn(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}class aT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:xt},t.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function $5(e){const{chart:t,fill:n,line:i}=e;if(Dt(n))return B5(t,n);if(n==="stack")return L5(e);if(n==="shape")return!0;const r=j5(e);return r instanceof aT?r:oT(r,i)}function B5(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function j5(e){return(e.scale||{}).getPointPositionForValue?H5(e):U5(e)}function U5(e){const{scale:t={},fill:n}=e,i=D5(n,t);if(Dt(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function H5(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=O5(n,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new aT({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function nd(e,t,n){const i=$5(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:h=u}=l||{};i&&r.points.length&&(Kh(e,n),W5(e,{line:r,target:i,above:c,below:h,area:n,scale:s,axis:o}),qh(e))}function W5(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==r&&(_1(e,i,o.top),w1(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),_1(e,i,o.bottom)),w1(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}function _1(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:u}=a,c=r[l],h=r[Sy(l,u,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function w1(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=I5(n,i,r);for(const{source:l,target:u,start:c,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,K5(e,o,d&&Zp(r,c,h)),e.beginPath();const m=!!n.pathSegment(e,l);let y;if(d){m?e.closePath():x1(e,i,h,r);const v=!!i.pathSegment(e,u,{move:m,reverse:!0});y=m&&v,y||x1(e,i,c,r)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function K5(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function x1(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var q5={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof xi&&(l={visible:e.isDatasetVisible(o),index:o,fill:R5(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=C5(r,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&nd(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;v1(s)&&nd(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!v1(i)||n.drawTime!=="beforeDatasetDraw"||nd(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const E1=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Y5=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class b1 extends gn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ht(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Wt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=E1(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((m,y)=>{const v=i+n/2+s.measureText(m.text).width;(y===0||u[u.length-1]+v+2*a>o)&&(h+=c,u[u.length-(y>0?0:1)]=0,d+=c,f++),l[y]={left:0,top:d,row:f,width:v,height:r},u[u.length-1]+=v+a}),h}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let h=a,f=0,d=0,m=0,y=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:p,itemHeight:_}=G5(i,n,s,v,r);g>0&&d+_+2*a>c&&(h+=f+a,u.push({width:f,height:d}),m+=f+a,y++,f=d=0),l[g]={left:m,top:d,col:y,width:p,height:_},f=Math.max(f,p),d+=_+a}),h+=f,u.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=bs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ce(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=ce(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=ce(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=ce(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Kh(t,this),this._draw(),qh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Ot.color,l=bs(t.rtl,this.left,this.width),u=Wt(o.font),{padding:c}=o,h=u.size,f=h/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:m,boxHeight:y,itemHeight:v}=E1(o,h),g=function(E,b,S){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;r.save();const P=q(S.lineWidth,1);if(r.fillStyle=q(S.fillStyle,a),r.lineCap=q(S.lineCap,"butt"),r.lineDashOffset=q(S.lineDashOffset,0),r.lineJoin=q(S.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=q(S.strokeStyle,a),r.setLineDash(q(S.lineDash,[])),o.usePointStyle){const R={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:P},j=l.xPlus(E,m/2),G=b+f;I2(r,R,j,G,o.pointStyleWidth&&m)}else{const R=b+Math.max((h-y)/2,0),j=l.leftForLtr(E,m),G=xr(S.borderRadius);r.beginPath(),Object.values(G).some(kt=>kt!==0)?qa(r,{x:j,y:R,w:m,h:y,radius:G}):r.rect(j,R,m,y),r.fill(),P!==0&&r.stroke()}r.restore()},p=function(E,b,S){Nr(r,S.text,E,b+v/2,u,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?d={x:ce(s,this.left+c,this.right-i[0]),y:this.top+c+w,line:0}:d={x:this.left+c,y:ce(s,this.top+w+c,this.bottom-n[0].height),line:0},V2(this.ctx,t.textDirection);const x=v+c;this.legendItems.forEach((E,b)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;const S=r.measureText(E.text).width,P=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),R=m+f+S;let j=d.x,G=d.y;l.setWidth(this.width),_?b>0&&j+R+c>this.right&&(G=d.y+=x,d.line++,j=d.x=ce(s,this.left+c,this.right-i[d.line])):b>0&&G+x>this.bottom&&(j=d.x=j+n[d.line].width+c,d.line++,G=d.y=ce(s,this.top+w+c,this.bottom-n[d.line].height));const kt=l.x(j);if(g(kt,G,E),j=gL(P,j+m+f,_?j+R:this.right,t.rtl),p(l.x(j),G,E),_)d.x+=R+c;else if(typeof E.text!="string"){const oe=u.lineHeight;d.y+=lT(E,oe)+c}else d.y+=x}),F2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Wt(n.font),r=xe(n.padding);if(!n.display)return;const s=bs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let c,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,h=ce(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);c=u+ce(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const d=ce(a,h,h+f);o.textAlign=s.textAlign(gy(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Nr(o,n.text,d,c,i)}_computeTitleHeight(){const t=this.options.title,n=Wt(t.font),i=xe(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(Kn(t,this.left,this.right)&&Kn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Kn(t,r.left,r.left+r.width)&&Kn(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!J5(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=Y5(r,i);r&&!s&&ht(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ht(n.onHover,[t,i,this],this)}else i&&ht(n.onClick,[t,i,this],this)}}function G5(e,t,n,i,r){const s=Q5(i,e,t,n),o=X5(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function Q5(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function X5(e,t,n){let i=e;return typeof t.text!="string"&&(i=lT(t,n)),i}function lT(e,t){const n=e.text?e.text.length:0;return t*n}function J5(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Z5={id:"legend",_element:b1,start(e,t,n){const i=e.legend=new b1({ctx:e.ctx,options:n,chart:e});me.configure(e,i,n),me.addBox(e,i)},stop(e){me.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;me.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=xe(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ty extends gn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=vt(i.text)?i.text.length:1;this._padding=xe(i.padding);const s=r*Wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=ce(a,i,s),h=n+t,u=s-i):(o.position==="left"?(c=i+t,h=ce(a,r,n),l=bt*-.5):(c=s-t,h=ce(a,n,r),l=bt*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Wt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Nr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:gy(n.align),textBaseline:"middle",translation:[o,a]})}}function tF(e,t){const n=new Ty({ctx:e.ctx,options:t,chart:e});me.configure(e,n,t),me.addBox(e,n),e.titleBlock=n}var eF={id:"title",_element:Ty,start(e,t,n){tF(e,n)},stop(e){const t=e.titleBlock;me.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;me.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yu=new WeakMap;var nF={id:"subtitle",start(e,t,n){const i=new Ty({ctx:e.ctx,options:n,chart:e});me.configure(e,i,n),me.addBox(e,i),yu.set(e,i)},stop(e){me.removeBox(e,yu.get(e)),yu.delete(e)},beforeUpdate(e,t,n){const i=yu.get(e);me.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mo={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Wp(t,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function _n(e,t){return t&&(vt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Fn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function iF(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function S1(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Wt(t.bodyFont),u=Wt(t.titleFont),c=Wt(t.footerFont),h=s.length,f=r.length,d=i.length,m=xe(t.padding);let y=m.height,v=0,g=i.reduce((w,x)=>w+x.before.length+x.lines.length+x.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),g){const w=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*w+(g-d)*l.lineHeight+(g-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let p=0;const _=function(w){v=Math.max(v,n.measureText(w).width+p)};return n.save(),n.font=u.string,ot(e.title,_),n.font=l.string,ot(e.beforeBody.concat(e.afterBody),_),p=t.displayColors?o+2+t.boxPadding:0,ot(i,w=>{ot(w.before,_),ot(w.lines,_),ot(w.after,_)}),p=0,n.font=c.string,ot(e.footer,_),n.restore(),v+=m.width,{width:v,height:y}}function rF(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function sF(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function oF(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),sF(u,e,t,n)&&(u="center"),u}function T1(e,t,n){const i=n.yAlign||t.yAlign||rF(e,n);return{xAlign:n.xAlign||t.xAlign||oF(e,t,n,i),yAlign:i}}function aF(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function lF(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function k1(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:d}=xr(o);let m=aF(t,a);const y=lF(t,l,u);return l==="center"?a==="left"?m+=u:a==="right"&&(m-=u):a==="left"?m-=Math.max(c,f)+r:a==="right"&&(m+=Math.max(h,d)+r),{x:Qt(m,0,i.width-t.width),y:Qt(y,0,i.height-t.height)}}function vu(e,t,n){const i=xe(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function A1(e){return _n([],Fn(e))}function uF(e,t,n){return Zi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function I1(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uT={beforeTitle:Ln,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ln,beforeBody:Ln,beforeLabel:Ln,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return it(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ln,afterBody:Ln,beforeFooter:Ln,footer:Ln,afterFooter:Ln};function Ae(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?uT[t].call(n,i):r}class tm extends gn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new j2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Ae(i,"beforeTitle",this,t),s=Ae(i,"title",this,t),o=Ae(i,"afterTitle",this,t);let a=[];return a=_n(a,Fn(r)),a=_n(a,Fn(s)),a=_n(a,Fn(o)),a}getBeforeBody(t,n){return A1(Ae(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return ot(t,s=>{const o={before:[],lines:[],after:[]},a=I1(i,s);_n(o.before,Fn(Ae(a,"beforeLabel",this,s))),_n(o.lines,Ae(a,"label",this,s)),_n(o.after,Fn(Ae(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return A1(Ae(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Ae(i,"beforeFooter",this,t),s=Ae(i,"footer",this,t),o=Ae(i,"afterFooter",this,t);let a=[];return a=_n(a,Fn(r)),a=_n(a,Fn(s)),a=_n(a,Fn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(iF(this.chart,n[l]));return t.filter&&(a=a.filter((c,h,f)=>t.filter(c,h,f,i))),t.itemSort&&(a=a.sort((c,h)=>t.itemSort(c,h,i))),ot(a,c=>{const h=I1(t.callbacks,c);r.push(Ae(h,"labelColor",this,c)),s.push(Ae(h,"labelPointStyle",this,c)),o.push(Ae(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Mo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=S1(this,i),u=Object.assign({},a,l),c=T1(this.chart,i,u),h=k1(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=xr(a),{x:f,y:d}=t,{width:m,height:y}=n;let v,g,p,_,w,x;return s==="center"?(w=d+y/2,r==="left"?(v=f,g=v-o,_=w+o,x=w-o):(v=f+m,g=v+o,_=w-o,x=w+o),p=v):(r==="left"?g=f+Math.max(l,c)+o:r==="right"?g=f+m-Math.max(u,h)-o:g=this.caretX,s==="top"?(_=d,w=_-o,v=g-o,p=g+o):(_=d+y,w=_+o,v=g+o,p=g-o),x=_),{x1:v,x2:g,x3:p,y1:_,y2:w,y3:x}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=bs(i.rtl,this.x,this.width);for(t.x=vu(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=Wt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=Wt(s.bodyFont),h=vu(this,"left",s),f=r.x(h),d=l<c.lineHeight?(c.lineHeight-l)/2:0,m=n.y+d;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,g=m+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,qp(t,y,v,g),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,qp(t,y,v,g)}else{t.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,u),v=r.leftForLtr(r.xPlus(f,1),u-2),g=xr(o.borderRadius);Object.values(g).some(p=>p!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,qa(t,{x:y,y:m,w:u,h:l,radius:g}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),qa(t,{x:v,y:m+1,w:u-2,h:l-2,radius:g}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,m,u,l),t.strokeRect(y,m,u,l),t.fillStyle=o.backgroundColor,t.fillRect(v,m+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=Wt(i.bodyFont);let f=h.lineHeight,d=0;const m=bs(i.rtl,this.x,this.width),y=function(S){n.fillText(S,m.x(t.x+d),t.y+f/2),t.y+=f+s},v=m.textAlign(o);let g,p,_,w,x,E,b;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=vu(this,v,i),n.fillStyle=i.bodyColor,ot(this.beforeBody,y),d=a&&v!=="right"?o==="center"?u/2+c:u+2+c:0,w=0,E=r.length;w<E;++w){for(g=r[w],p=this.labelTextColors[w],n.fillStyle=p,ot(g.before,y),_=g.lines,a&&_.length&&(this._drawColorBox(n,t,w,m,i),f=Math.max(h.lineHeight,l)),x=0,b=_.length;x<b;++x)y(_[x]),f=h.lineHeight;ot(g.after,y)}d=0,f=h.lineHeight,ot(this.afterBody,y),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=bs(i.rtl,this.x,this.width);for(t.x=vu(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Wt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:m}=xr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+u,l+c-m),n.quadraticCurveTo(a+u,l+c,a+u-m,l+c),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+d,l+c),n.quadraticCurveTo(a,l+c,a,l+c-d),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Mo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=S1(this,t),l=Object.assign({},o,this._size),u=T1(n,t,l),c=k1(t,l,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),V2(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),F2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!jc(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!jc(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=Mo[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}C(tm,"positioners",Mo);var cF={id:"tooltip",_element:tm,positioners:Mo,afterInit(e,t,n){n&&(e.tooltip=new tm({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},hF=Object.freeze({__proto__:null,Colors:b5,Decimation:A5,Filler:q5,Legend:Z5,SubTitle:nF,Title:eF,Tooltip:cF});const fF=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function dF(e,t,n,i){const r=e.indexOf(t);if(r===-1)return fF(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const pF=(e,t)=>e===null?null:Qt(Math.round(e),0,t);function P1(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class em extends Br{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(it(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:dF(i,t,q(n,t),this._addedLabels),pF(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return P1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}C(em,"id","category"),C(em,"defaults",{ticks:{callback:P1}});function mF(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:f}=e,d=s||1,m=c-1,{min:y,max:v}=t,g=!it(o),p=!it(a),_=!it(u),w=(v-y)/(h+1);let x=b_((v-y)/m/d)*d,E,b,S,P;if(x<1e-14&&!g&&!p)return[{value:y},{value:v}];P=Math.ceil(v/x)-Math.floor(y/x),P>m&&(x=b_(P*x/m/d)*d),it(l)||(E=Math.pow(10,l),x=Math.ceil(x*E)/E),r==="ticks"?(b=Math.floor(y/x)*x,S=Math.ceil(v/x)*x):(b=y,S=v),g&&p&&s&&uL((a-o)/s,x/1e3)?(P=Math.round(Math.min((a-o)/x,c)),x=(a-o)/P,b=o,S=a):_?(b=g?o:b,S=p?a:S,P=u-1,x=(S-b)/P):(P=(S-b)/x,Jo(P,Math.round(P),x/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(S_(x),S_(b));E=Math.pow(10,it(l)?R:l),b=Math.round(b*E)/E,S=Math.round(S*E)/E;let j=0;for(g&&(f&&b!==o?(n.push({value:o}),b<o&&j++,Jo(Math.round((b+j*x)*E)/E,o,C1(o,w,e))&&j++):b<o&&j++);j<P;++j){const G=Math.round((b+j*x)*E)/E;if(p&&G>a)break;n.push({value:G})}return p&&f&&S!==a?n.length&&Jo(n[n.length-1].value,a,C1(a,w,e))?n[n.length-1].value=a:n.push({value:a}):(!p||S===a)&&n.push({value:S}),n}function C1(e,t,{horizontal:n,minRotation:i}){const r=un(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Gc extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return it(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=Mn(r),u=Mn(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=mF(r,s);return t.bounds==="ticks"&&_2(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return El(t,this.chart.options.locale,this.options.ticks.format)}}class nm extends Gc{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Dt(t)?t:0,this.max=Dt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=un(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}C(nm,"id","linear"),C(nm,"defaults",{ticks:{callback:Wh.formatters.numeric}});const Ga=e=>Math.floor(wi(e)),ir=(e,t)=>Math.pow(10,Ga(e)+t);function R1(e){return e/Math.pow(10,Ga(e))===1}function M1(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function gF(e,t){const n=t-e;let i=Ga(n);for(;M1(e,t,i)>10;)i++;for(;M1(e,t,i)<10;)i--;return Math.min(i,Ga(e))}function yF(e,{min:t,max:n}){t=Le(e.min,t);const i=[],r=Ga(t);let s=gF(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,u=Math.round((t-l)*o)/o,c=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((u-c)/Math.pow(10,s)),f=Le(e.min,Math.round((l+c+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:R1(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+c+h*Math.pow(10,s))*o)/o;const d=Le(e.max,f);return i.push({value:d,major:R1(d),significand:h}),i}class im extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Gc.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Dt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Dt(t)?Math.max(0,t):null,this.max=Dt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Dt(this._userMin)&&(this.min=t===ir(this.min,0)?ir(this.min,-1):ir(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=t?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(ir(i,-1)),o(ir(r,1)))),i<=0&&s(ir(r,-1)),r<=0&&o(ir(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=yF(n,this);return t.bounds==="ticks"&&_2(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":El(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=wi(t),this._valueRange=wi(this.max)-wi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(wi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}C(im,"id","logarithmic"),C(im,"defaults",{ticks:{callback:Wh.formatters.logarithmic,major:{enabled:!0}}});function rm(e){const t=e.ticks;if(t.display&&e.display){const n=xe(t.backdropPadding);return q(t.font&&t.font.size,Ot.font.size)+n.height}return 0}function vF(e,t,n){return n=vt(n)?n:[n],{w:kL(e,t.string,n),h:n.length*t.lineHeight}}function D1(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function _F(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?bt/s:0;for(let l=0;l<s;l++){const u=o.setContext(e.getPointLabelContext(l));r[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],a),h=Wt(u.font),f=vF(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=Fe(e.getIndexAngle(l)+a),m=Math.round(py(d)),y=D1(m,c.x,f.w,0,180),v=D1(m,c.y,f.h,90,270);wF(n,t,d,y,v)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=bF(e,i,r)}function wF(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function xF(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),u=Math.round(py(Fe(l.angle+Vt))),c=kF(l.y,a.h,u),h=SF(u),f=TF(l.x,a.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:f,top:c,right:f+a.w,bottom:c+a.h}}function EF(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(Yn({x:n,y:i},t)||Yn({x:n,y:s},t)||Yn({x:r,y:i},t)||Yn({x:r,y:s},t))}function bF(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:rm(s)/2,additionalAngle:o?bt/r:0};let u;for(let c=0;c<r;c++){l.padding=n[c],l.size=t[c];const h=xF(e,c,l);i.push(h),a==="auto"&&(h.visible=EF(h,u),h.visible&&(u=h))}return i}function SF(e){return e===0||e===180?"center":e<180?"left":"right"}function TF(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function kF(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function AF(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!it(a)){const l=xr(t.borderRadius),u=xe(t.backdropPadding);e.fillStyle=a;const c=i-u.left,h=r-u.top,f=s-i+u.width,d=o-r+u.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),qa(e,{x:c,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(c,h,f,d)}}function IF(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(e.getPointLabelContext(r));AF(n,o,s);const a=Wt(o.font),{x:l,y:u,textAlign:c}=s;Nr(n,e._pointLabels[r],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function cT(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,xt);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function PF(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),cT(e,n,o,i),s.closePath(),s.stroke(),s.restore())}function CF(e,t,n){return Zi(e,{label:n,index:t,type:"pointLabel"})}class Do extends Gc{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=xe(rm(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Dt(t)&&!isNaN(t)?t:0,this.max=Dt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rm(this.options))}generateTickLabels(t){Gc.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=ht(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?_F(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=xt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Fe(t*n+un(i))}getDistanceFromCenterForValue(t){if(it(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(it(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return CF(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-Vt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),cT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&IF(this,o),r.display&&this.ticks.forEach((c,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(h),d=r.setContext(f),m=s.setContext(f);PF(this,d,l,o,m)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const c=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=c;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),c=Wt(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const h=xe(u.backdropPadding);t.fillRect(-o/2-h.left,-s-c.size/2-h.top,o+h.width,c.size+h.height)}Nr(t,a.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}C(Do,"id","radialLinear"),C(Do,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),C(Do,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),C(Do,"descriptors",{angleLines:{_fallback:"grid"}});const Gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pe=Object.keys(Gh);function O1(e,t){return e-t}function N1(e,t){if(it(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Dt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&($s(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function L1(e,t,n,i){const r=Pe.length;for(let s=Pe.indexOf(e);s<r-1;++s){const o=Gh[Pe[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Pe[s]}return Pe[r-1]}function RF(e,t,n,i,r){for(let s=Pe.length-1;s>=Pe.indexOf(n);s--){const o=Pe[s];if(Gh[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return Pe[n?Pe.indexOf(n):0]}function MF(e){for(let t=Pe.indexOf(e)+1,n=Pe.length;t<n;++t)if(Gh[Pe[t]].common)return Pe[t]}function V1(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=my(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function DF(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function F1(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:DF(e,i,r,n)}class Qa extends Br{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new jV._date(t.adapters.date);r.init(n),Xo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:N1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Dt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Dt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=dL(r,s,o);return this._unit=n.unit||(i.autoSkip?L1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):RF(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:MF(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),F1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Qt(n,0,o),i=Qt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||L1(s.minUnit,n,i,this._getLabelCapacity(n)),a=q(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=$s(l)||l===!0,c={};let h=n,f,d;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)V1(c,f,m);return(f===i||r.bounds==="ticks"||d===1)&&V1(c,f,m),Object.keys(c).sort(O1).map(y=>+y)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return ht(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],f=i[n],d=u&&h&&f&&f.major;return this._adapter.format(t,r||(d?h:c))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=un(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,F1(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(N1(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return E2(t.sort(O1))}}C(Qa,"id","time"),C(Qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _u(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=qn(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=qn(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class sm extends Qa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=_u(n,this.min),this._tableRange=_u(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(_u(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return _u(this._table,i*this._tableRange+this._minPos,!0)}}C(sm,"id","timeseries"),C(sm,"defaults",Qa.defaults);var OF=Object.freeze({__proto__:null,CategoryScale:em,LinearScale:nm,LogarithmicScale:im,RadialLinearScale:Do,TimeScale:Qa,TimeSeriesScale:sm});const NF=[BV,y5,hF,OF];jn.register(...NF);const LF=()=>{const[e,t]=O.useState([]);O.useEffect(()=>{(async()=>{try{const s=["salon","lazienka","gabinet","sypialnia","kuchnia"],o=[];for(const a of s){const l=await n(a);o.push(...l)}t(o)}catch(s){console.error("Error while retrieving data:",s)}})()},[]);const n=async r=>(await h2(Up(Fu,r))).docs.map(a=>({id:a.id,...a.data(),"cena łącznie":a.data().quantity*a.data().price})),i=()=>e.reduce((r,s)=>r+s["cena łącznie"],0);return O.useEffect(()=>{if(e.length>0){const r=e.map(a=>a.name),s=e.map(a=>a["cena łącznie"]),o=document.getElementById("myChart").getContext("2d");new jn(o,{type:"doughnut",data:{labels:r,datasets:[{data:s,backgroundColor:["red","blue","green","orange","purple","pink","yellow"]}]},options:{responsive:!1,plugins:{legend:{labels:{color:"white"}}}}})}},[e]),I.createElement("div",null,I.createElement("table",{className:"subpage-table"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",null,"Nazwa"),I.createElement("th",null,"Ilość"),I.createElement("th",null,"Cena"),I.createElement("th",null,"Cena łącznie"))),I.createElement("tbody",null,e.map(r=>I.createElement("tr",{key:r.id},I.createElement("td",null,r.name),I.createElement("td",null,r.quantity),I.createElement("td",null,r.price),I.createElement("td",null,r["cena łącznie"].toFixed(2))))),I.createElement("tfoot",null,I.createElement("tr",null,I.createElement("td",{colSpan:"3"},"Podsumowanie wydatków"),I.createElement("td",null,i().toFixed(2))))),I.createElement("div",{className:"images",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"40px",paddingTop:"50px"}},I.createElement("canvas",{id:"myChart",className:"my-chart",style:{width:"320px"}}),I.createElement("img",{src:C4,alt:"home",style:{width:"320px"}})))};function VF(){return I.createElement(OC,null,I.createElement("div",null,I.createElement(FC,null),I.createElement(IC,null,I.createElement(hp,{path:"/",element:I.createElement(LF,null)}),I.createElement(hp,{path:"/:roomName",element:I.createElement(P4,null)})),I.createElement(zC,null)))}id.createRoot(document.getElementById("root")).render(I.createElement(I.StrictMode,null,I.createElement(VF,null)));
